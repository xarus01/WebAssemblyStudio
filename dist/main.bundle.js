!function(e){function t(t){for(var n,r,s=t[0],o=t[1],a=0,c=[];a<s.length;a++)r=s[a],i[r]&&c.push(i[r][0]),i[r]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(l&&l(t);c.length;)c.shift()()}var n={},i={4:0};function r(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,r){n=i[e]=[t,r]});t.push(n[2]=s);var o=document.getElementsByTagName("head")[0],a=document.createElement("script");a.charset="utf-8",a.timeout=12e4,r.nc&&a.setAttribute("nonce",r.nc),a.src=r.p+""+({}[e]||e)+".bundle.js";var l=setTimeout(function(){c({type:"timeout",target:a})},12e4);function c(t){a.onerror=a.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+r+": "+s+")");o.type=r,o.request=s,n[1](o)}i[e]=void 0}}a.onerror=a.onload=c,o.appendChild(a)}return Promise.all(t)},r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dist/",r.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var a=0;a<s.length;a++)t(s[a]);var l=o;r(r.s=18)}([function(e,t){e.exports=React},function(e,t,n){"use strict";n.d(t,"d",function(){return i}),n.d(t,"l",function(){return a}),n.d(t,"m",function(){return l}),n.d(t,"o",function(){return c}),n.d(t,"h",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return h}),n.d(t,"n",function(){return p}),n.d(t,"k",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"f",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,"a",function(){return w}),n.d(t,"g",function(){return C}),n.d(t,"e",function(){return x});n(6);var i,r=n(2),s=n(16),o=n(3);function a(e){switch(e){case i.Wasm:return!0;default:return!1}}function l(e){return e===i.HTML?"html":e===i.CSS?"css":e===i.JavaScript?"javascript":e===i.TypeScript?"typescript":e===i.C||e===i.Cpp?"cpp":e===i.Rust?"rust":e===i.Wat||e===i.Wasm?"wat":e===i.Log?"log":e===i.x86?"x86":e===i.Markdown?"markdown":e===i.Cretonne?"cton":e===i.JSON?"json":e===i.DOT?"dot":""}function c(e){return e===i.HTML?"HTML":e===i.CSS?"CSS":e===i.JavaScript?"JavaScript":e===i.TypeScript?"TypeScript":e===i.C?"C":e===i.Cpp?"C++":e===i.Wat?"WebAssembly Text":e===i.Wasm?"WebAssembly":e===i.Markdown?"Markdown":e===i.Rust?"Rust":e===i.Cretonne?"Cretonne":e===i.JSON?"JSON":e===i.DOT?"DOT":""}function u(e){return e===i.HTML?"html":e===i.CSS?"css":e===i.JavaScript?"js":e===i.TypeScript?"ts":e===i.C?"c":e===i.Cpp?"cpp":e===i.Wat?"wat":e===i.Wasm?"wasm":e===i.Markdown?"md":e===i.Rust?"rs":e===i.Cretonne?"cton":e===i.JSON?"json":e===i.DOT?"dot":""}function d(e){return h(e.split(".").pop())}function h(e){return"html"===e?i.HTML:"css"===e?i.CSS:"js"===e?i.JavaScript:"ts"===e?i.TypeScript:"c"===e?i.C:"cpp"===e?i.Cpp:"wat"===e?i.Wat:"wasm"===e?i.Wasm:"md"===e?i.Markdown:"rs"===e?i.Rust:"cton"===e?i.Cretonne:"json"===e||"map"===e?i.JSON:"dot"===e?i.DOT:null}function p(e){return e===i.HTML?"text/html":e===i.JavaScript?"application/javascript":e===i.Wasm?"application/wasm":e===i.JSON?"application/json":e===i.DOT?"text/plain":""}function f(e){return e===i.JavaScript?"javascript-lang-file-icon":e===i.TypeScript?"typescript-lang-file-icon":e===i.C?"c-lang-file-icon":e===i.Cpp?"cpp-lang-file-icon":e===i.Rust?"rust-lang-file-icon":e===i.Markdown?"markdown-lang-file-icon":e===i.HTML?"html-lang-file-icon":e===i.CSS?"css-lang-file-icon":e===i.Directory?"folder-icon":e===i.JSON?"json-lang-file-icon":e===i.Wasm?"wasm-lang-file-icon":e===i.Wat?"wat-lang-file-icon":"txt-ext-file-icon"}!function(e){e.JavaScript="javascript",e.TypeScript="typescript",e.HTML="html",e.CSS="css",e.C="c",e.Cpp="cpp",e.Rust="rust",e.Wat="wat",e.Wasm="wasm",e.Directory="directory",e.Log="log",e.x86="x86",e.Markdown="markdown",e.Cretonne="cretonne",e.JSON="json",e.DOT="dot",e.Unknown="unknown"}(i||(i={}));class m{constructor(e){this.callbacks=[],this.name=e}register(e){this.callbacks.indexOf(e)>=0||this.callbacks.push(e)}unregister(e){const t=this.callbacks.indexOf(e);if(t<0)throw new Error("Unknown callback.");this.callbacks.splice(t,1)}dispatch(e){this.callbacks.forEach(t=>{t(e)})}}let g=0;function b(){return g++}class v{constructor(e,t,n,i){this.file=e,this.description=t,this.severity=n,this.marker=i,this.key=String(b())}static fromMarker(e,t){return new v(e,`${t.message} (${t.startLineNumber}, ${t.startColumn})`,function(e){switch(e){case monaco.Severity.Info:return"info";case monaco.Severity.Warning:return"warning";case monaco.Severity.Error:return"error";case monaco.Severity.Ignore:return"ignore"}}(t.severity),t)}}class y{constructor(e,t){this.isDirty=!1,this.isBufferReadOnly=!1,this.isTransient=!1,this.onDidChangeData=new m("File Data Change"),this.onDidChangeBuffer=new m("File Buffer Change"),this.onDidChangeProblems=new m("File Problems Change"),this.onDidChangeDirty=new m("File Dirty Flag Change"),this.key=String(b()),this.problems=[],this.name=e,this.type=t,this.data=null,a(t)?(this.bufferType=i.Unknown,this.buffer=monaco.editor.createModel("")):(this.bufferType=t,this.buffer=monaco.editor.createModel(this.data,l(t))),this.buffer.updateOptions({tabSize:2,insertSpaces:!0}),this.buffer.onDidChangeContent(e=>{e.isFlush||(this.isDirty||(this.isDirty=!0,this.notifyDidChangeDirty()),this.notifyDidChangeBuffer(),monaco.editor.setModelMarkers(this.buffer,"compiler",[]))}),this.parent=null}setNameAndDescription(e,t,n){this.name=e,this.description=t,this.parent&&this.parent.notifyDidChangeChildren(this)}notifyDidChangeBuffer(){let e=this;for(;e;)e.onDidChangeBuffer.dispatch(),e=e.parent}notifyDidChangeData(){let e=this;for(;e;)e.onDidChangeData.dispatch(),e=e.parent}notifyDidChangeDirty(){let e=this;for(;e;)e.onDidChangeDirty.dispatch(),e=e.parent}resetDirty(){this.isDirty&&(this.isDirty=!1,this.notifyDidChangeDirty())}async updateBuffer(e){if(this.type===i.Wasm){const t=await o.a.disassembleWasm(this.data,e);return this.buffer.setValue(t),this.resetDirty(),this.bufferType=i.Wat,this.notifyDidChangeBuffer(),monaco.editor.setModelLanguage(this.buffer,l(i.Wat)),void(this.description="This .wasm file is editable as a .wat file, and is automatically reassembled to .wasm when saved.")}this.buffer.setValue(this.data),this.resetDirty(),this.notifyDidChangeBuffer()}setProblems(e){this.problems=e;let t=this;for(;t;)t.onDidChangeProblems.dispatch(),t=t.parent}async getEmitOutput(){const e=this.buffer;if(this.type!==i.TypeScript)return Promise.resolve("");const t=await monaco.languages.typescript.getTypeScriptWorker();return(await t(e.uri)).getEmitOutput(e.uri.toString())}setData(e,t){Object(r.a)(null!=e),this.data=e,this.notifyDidChangeData(),this.updateBuffer(t)}getData(){if(this.isDirty&&!this.isBufferReadOnly){const e=this.getProject();e&&e.onDirtyFileUsed.dispatch(this)}return this.data}getProject(){let e=this.parent;if(e){for(;e.parent;)e=e.parent;if(e instanceof C)return e}return null}getDepth(){let e=0,t=this.parent;for(;t;)t=t.parent,e++;return e}getPath(e=null){const t=[];let n=this.parent;for(;n&&n!==e;)t.unshift(n.name),n=n.parent;return t.push(this.name),t.join("/")}async save(e){if(this.isDirty){if(this.bufferType!==this.type){if(this.bufferType===i.Wat&&this.type===i.Wasm)try{const t=await o.a.assembleWat(this.buffer.getValue(),e);this.resetDirty(),this.data=t}catch(t){e.logLn(t.message,"error")}}else this.data=this.buffer.getValue(),this.resetDirty();this.notifyDidChangeData()}}toString(){return"File ["+this.name+"]"}isDescendantOf(e){let t=this.parent;for(;t;){if(t===e)return!0;t=t.parent}return!1}}class w extends y{constructor(e){super(e,i.Directory),this.children=[],this.isOpen=!0,this.onDidChangeChildren=new m("Directory Changed ")}notifyDidChangeChildren(e){let t=this;for(;t;)t.onDidChangeChildren.dispatch(),t=t.parent}forEachFile(e,t=!1,n=!1){n?this.children.forEach(i=>{if(t&&i.isTransient)return!1;i instanceof w?i.forEachFile(e,t,n):e(i)}):this.children.forEach(e)}mapEachFile(e,t=!1){return this.children.filter(e=>!t||!e.isTransient).map(e)}addFile(e){Object(r.a)(null===e.parent),Object(r.a)(!this.getImmediateChild(e.name)),this.children.push(e),e.parent=this,this.notifyDidChangeChildren(e)}removeFile(e){Object(r.a)(e.parent===this);const t=this.children.indexOf(e);Object(r.a)(t>=0),this.children.splice(t,1),e.parent=null,this.notifyDidChangeChildren(e)}newDirectory(e){"string"==typeof e&&(e=e.split("/"));let t=this;for(;e.length;){const n=e.shift();let i=t.getImmediateChild(n);i?t=i:(i=new w(n),t.addFile(i),t=i)}return Object(r.a)(t instanceof w),t}newFile(e,t,n=!1){"string"==typeof e&&(e=e.split("/"));let i=this;e.length>1&&(i=this.newDirectory(e.slice(0,e.length-1)));const s=e[e.length-1];let o=i.getFile(s);return o?Object(r.a)(o.type===t):(o=new y(e[e.length-1],t),i.addFile(o)),o.isTransient=n,o}getImmediateChild(e){return this.children.find(t=>t.name===e)}getFile(e){"string"==typeof e&&(e=e.split("/"));const t=this.getImmediateChild(e[0]);return e.length>1?t&&t.type===i.Directory?t.getFile(e.slice(1)):null:t}list(){const e=[];return function t(n,i){n&&(n+="/"),i.forEachFile(i=>{const r=n+i.name;i instanceof w?t(r,i):e.push(r)})}("",this),e}glob(e){const t=new s.Minimatch(e);return this.list().filter(e=>t.match(e))}globFiles(e){return this.glob(e).map(e=>this.getFile(e))}}class C extends w{constructor(){super("Project"),this.onDidChangeStatus=new m("Status Change"),this.onChange=new m("Project Change"),this.onDirtyFileUsed=new m("Dirty File Used"),this.status=["Idle"]}hasStatus(){return this.status.length>1}getStatus(){return this.hasStatus()?this.status[this.status.length-1]:""}pushStatus(e){this.status.push(e),this.onDidChangeStatus.dispatch()}popStatus(){Object(r.a)(this.status.length),this.status.pop(),this.onDidChangeStatus.dispatch()}}const E=new WeakMap;class x{constructor(e){this.obj=e}getModel(){return this.obj}static getRef(e){if(E.has(e))return E.get(e);const t=new x(e);return E.set(e,t),t}}},function(e,t,n){"use strict";function i(e){let t=e.toString(16);for(;t.length<6;)t="0"+t;return"0x"+t}function r(e,t,n){for(e=String(e);e.length<t;)e+=n;return e}function s(e,t,n){for(e=String(e);e.length<t;)e=n+e;return e}n.d(t,"k",function(){return i}),n.d(t,"i",function(){return r}),n.d(t,"h",function(){return s}),n.d(t,"f",function(){return a}),n.d(t,"b",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"g",function(){return v}),n.d(t,"j",function(){return y}),n.d(t,"a",function(){return w}),n.d(t,"c",function(){return C}),n.d(t,"d",function(){return E});const o=["jmp","ja","jae","jb","jbe","jc","je","jg","jge","jl","jle","jna","jnae","jnb","jnbe","jnc","jne","jng","jnge","jnl","jnle","jno","jnp","jns","jnz","jo","jp","jpe","jpo","js","jz"];function a(e){return o.indexOf(e.mnemonic)>=0}const l=[62,0,0,0,63,52,53,54,55,56,57,58,59,60,61,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,0,0,0,0,0,0,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],c=43,u=61,d=new Array(3),h=new Array(4);new Array(9);function p(e,t,n,i){return h[0]=e,h[1]=t,h[2]=n,h[3]=i,h.join("")}function f(e){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=e.byteLength,r=i%3,s=i-r;let o,a,l,c,u;for(let i=0;i<s;i+=3)t+=p(n[o=(16515072&(u=e[i]<<16|e[i+1]<<8|e[i+2]))>>18],n[a=(258048&u)>>12],n[l=(4032&u)>>6],n[c=63&u]);var h,f,m;return 1===r?(u=e[s],t+=(h=n[o=(252&u)>>2],f=n[a=(3&u)<<4],m="===",d[0]=h,d[1]=f,d[2]=m,d.join(""))):2===r&&(t+=p(n[o=(64512&(u=e[s]<<8|e[s+1]))>>10],n[a=(1008&u)>>4],n[l=(15&u)<<2],"=")),t}function m(e){let t,n,i;const r=e.length,s="="===e.charAt(r-2)?2:"="===e.charAt(r-1)?1:0,o=new Uint8Array(3*(e.length>>2)-s);for(let r=0,s=0;r<e.length;){if(t=e.charCodeAt(r++),n=l[t-c],t=e.charCodeAt(r++),i=l[t-c],o[s++]=n<<2|(48&i)>>4,(t=e.charCodeAt(r++))===u)return o;if(n=l[t-c],o[s++]=(15&i)<<4|(60&n)>>2,(t=e.charCodeAt(r++))===u)return o;i=l[t-c],o[s++]=(3&n)<<6|i}return o}const g=10;let b=0;function v(){b&&window.clearTimeout(b),window.setTimeout(()=>{b=0,document.dispatchEvent(new Event("layout"))},g)}function y(){window.getSelection().removeAllRanges()}function w(e,t){if(!e)throw new Error(t)}function C(e,t,n){return Math.min(Math.max(t,e),n)}function E(e,t=window,n={},i={}){function r(e,t){return"string"==typeof e?i.hasOwnProperty(e)?i[e]:window.require(e):window.require(e,t)}Object.defineProperty(r,"config",{value:window.require.config});const s=Object.keys(n).concat("require","exports","return ()=>{"+e+"}"),o=Object.values(n).concat(r,{});return Function.apply(null,s).apply(t,o)}},function(e,t,n){"use strict";var i=n(1),r=(n(6),n(2)),s=n(7);function o(e,t,n,i){"function"==typeof gtag&&gtag("event",e,{event_category:t,event_label:n,value:i})}var a,l,c=n(4);async function u(e){const t=await Object(s.a)();switch(e){case l.Rustc:return t.rustc;case l.Clang:return t.clang;case l.Service:return t.serviceUrl;default:throw new Error(`Invalid ServiceType: ${e}`)}}n.d(t,"a",function(){return d}),function(e){e.C="c",e.Cpp="cpp",e.Wat="wat",e.Wasm="wasm",e.Rust="rust",e.Cretonne="cton",e.x86="x86",e.Json="json",e.JavaScript="javascript",e.TypeScript="typescript",e.Text="text"}(a||(a={})),function(e){e[e.Rustc=0]="Rustc",e[e.Clang=1]="Clang",e[e.Service=2]="Service"}(l||(l={}));class d{static async sendRequestJSON(e,t){const n=await u(t);return(await fetch(n,{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-Type":"application/json"})})).json()}static async sendRequest(e,t){const n=await u(t);return(await fetch(n,{method:"POST",body:e,headers:new Headers({"Content-Type":"application/x-www-form-urlencoded"})})).json()}static getMarkers(e){const t=[];if(0!==e.indexOf("(module")){const n=/^.*?:(\d+?):(\d+?):\s(.*)$/gm;let i;for(;null!==(i=n.exec(e));){i.index===n.lastIndex&&n.lastIndex++;const e=parseInt(i[1],10),r=parseInt(i[2],10),s=i[3];let o=monaco.Severity.Info;s.indexOf("error")>=0?o=monaco.Severity.Error:s.indexOf("warning")>=0&&(o=monaco.Severity.Warning),t.push({severity:o,message:s,startLineNumber:e,startColumn:r,endLineNumber:e,endColumn:r})}const r=/^.*?:\d+?:\d+?:\{(\d+?):(\d+?)-(\d+?):(\d+?)\}:\s(.*)$/gm;for(;null!==(i=r.exec(e));){i.index===r.lastIndex&&r.lastIndex++;const e=i[5];let n=monaco.Severity.Info;e.indexOf("error")>=0?n=monaco.Severity.Error:e.indexOf("warning")>=0&&(n=monaco.Severity.Warning),t.push({severity:n,message:e,startLineNumber:parseInt(i[1],10),startColumn:parseInt(i[2],10),endLineNumber:parseInt(i[3],10),endColumn:parseInt(i[4],10)})}}return t}static async compileFile(e,t,n,i=""){return(await d.compileFileWithBindings(e,t,n,i)).wasm}static async compileFileWithBindings(e,t,s,o=""){const a=await d.compile(e.getData(),t,s,o);if(a.tasks){const t=d.getMarkers(a.tasks[0].console);t.length?(monaco.editor.setModelMarkers(e.buffer,"compiler",t),e.setProblems(t.map(t=>i.f.fromMarker(e,t)))):e.setProblems([])}if(!a.success)throw new Error(a.message);let l=Object(r.e)(a.output);(function(e){const[t,n]=e;return 120===t&&(1===n||156===n||218===n)})(l)&&(l=await async function(e){const{inflate:t}=await n.e(0).then(function(){var e=n(140);return"object"==typeof e&&e&&e.__esModule?e:Object.assign({},"object"==typeof e&&e,{default:e})});return t(e)}(l));const c={wasm:l};return a.wasmBindgenJs&&(c.wasmBindgenJs=a.wasmBindgenJs),c}static async compile(e,t,n,i=""){if(o("compile","Service",`${t}->${n}`),(t===a.C||t===a.Cpp)&&n===a.Wasm){const n={output:"wasm",compress:!0,files:[{type:t,name:"file."+t,options:i,src:e}]};return this.sendRequestJSON(n,l.Clang)}if(t===a.Wasm&&n===a.x86){const t=encodeURIComponent(base64js.fromByteArray(e));return this.sendRequest("input="+t+"&action=wasm2assembly&options="+encodeURIComponent(i),l.Service)}if(t===a.Rust&&n===a.Wasm)return this.sendRequestJSON({code:e,options:i},l.Rustc)}static async disassembleWasm(e,t){o("disassemble","Service","wabt"),t&&t.push("Disassembling with Wabt");const n=await this.worker.disassembleWasmWithWabt(e);return t&&t.pop(),n}static async disassembleWasmWithWabt(e,t){const n=await d.disassembleWasm(e.getData(),t),r=e.parent.newFile(e.name+".wat",i.d.Wat);r.description="Disassembled from "+e.name+" using Wabt.",r.setData(n)}static async assembleWat(e,t){o("assemble","Service","wabt"),t&&t.push("Assembling Wat with Wabt");let n=null;try{n=await this.worker.assembleWatWithWabt(e)}catch(e){throw e}finally{t&&t.pop()}return n}static async assembleWatWithWabt(e,t){const n=await d.assembleWat(e.getData(),t),r=e.parent.newFile(e.name+".wasm",i.d.Wasm);r.description="Assembled from "+e.name+" using Wabt.",r.setData(n)}static async createGist(e){const t=await fetch("https://api.github.com/gists",{method:"POST",body:JSON.stringify(e),headers:new Headers({"Content-type":"application/json; charset=utf-8"})});return JSON.parse(await t.text()).html_url}static async loadJSON(e){const t="https://webassembly-studio-fiddles.herokuapp.com/fiddle/"+e,n=await fetch(t,{headers:new Headers({"Content-type":"application/json; charset=utf-8"})});return await n.json()}static async saveJSON(e,t){if(!!t)throw new Error("NYI");{const t=await fetch("https://webassembly-studio-fiddles.herokuapp.com/set-fiddle",{method:"POST",headers:new Headers({"Content-type":"application/json; charset=utf-8"}),body:JSON.stringify(e)});let n=(await t.json()).id;return n=n.substring(n.lastIndexOf("/")+1)}}static parseFiddleURI(){let e=window.location.search.substring(1);if(e){const t=e.indexOf("/");t>0&&(e=e.substring(0,t))}return e}static async exportToGist(e,t){o("export","Service","gist");const n={};!function e(t){t instanceof i.a?t.mapEachFile(t=>e(t),!0):n[t.name]={content:t.data}}(e);const r={description:"source: http://webassembly.studio",public:!0,files:n};return void 0!==t&&(r.description=r.description+`/?f=${t}`),await this.createGist(r)}static async saveProject(e,t,n){const s=[];return e.forEachFile(t=>{let n,o;Object(i.l)(t.type)?(n=Object(r.b)(new Uint8Array(t.data)),o="binary"):(n=t.data,o="text");const a={name:t.getPath(e),data:n,type:o};s.push(a)},!0,!0),await this.saveJSON({files:s},n)}static async loadFilesIntoProject(e,t,n=null){for(const s of e){const e=Object(i.j)(s.name),o=t.newFile(s.name,e,!1);let a;if(s.data)a="binary"===s.type?Object(r.e)(s.data).buffer:s.data;else{const e=await fetch(new URL(s.name,n).toString());a="binary"===s.type?await e.arrayBuffer():await e.text()}o.setData(a)}}static lazyLoad(e,t){return new Promise((n,i)=>{t&&t.push("Loading "+e);const r=window.document,s=r.body,o=r.createElement("script");o.async=!0,o.src=e,s.appendChild(o),o.onload=function(){t&&t.pop(),n(this)}})}static async optimizeWasmWithBinaryen(e,t){Object(r.a)(this.worker),o("optimize","Service","binaryen");let n=e.getData();t&&t.push("Optimizing with Binaryen"),n=await this.worker.optimizeWasmWithBinaryen(n),t&&t.pop(),e.setData(n),e.buffer.setValue(await d.disassembleWasm(n,t))}static async validateWasmWithBinaryen(e,t){o("validate","Service","binaryen");const n=e.getData();t&&t.push("Validating with Binaryen");const i=await this.worker.validateWasmWithBinaryen(n);return t&&t.pop(),!!i}static async getWasmCallGraphWithBinaryen(e,t){o("call-graph","Service","binaryen");const n=e.getData();t&&t.push("Creating Call Graph with Binaryen");const r=await this.worker.createWasmCallGraphWithBinaryen(n);t&&t.pop();const s=e.parent.newFile(e.name+".dot",i.d.DOT);s.description="Call graph created from "+e.name+" using Binaryen's print-call-graph pass.",s.setData(r)}static async disassembleWasmWithBinaryen(e,t){o("disassemble","Service","binaryen");const n=e.getData();t&&t.push("Disassembling with Binaryen");const r=await this.worker.disassembleWasmWithBinaryen(n);t&&t.pop();const s=e.parent.newFile(e.name+".wat",i.d.Wat);s.description="Disassembled from "+e.name+" using Binaryen.",s.setData(r)}static async convertWasmToAsmWithBinaryen(e,t){o("asm.js","Service","binaryen");const n=e.getData();t&&t.push("Creating Call Graph with Binaryen");const r=await this.worker.convertWasmToAsmWithBinaryen(n);t&&t.pop();const s=e.parent.newFile(e.name+".asm.js",i.d.JavaScript);s.description="Converted from "+e.name+" using Binaryen.",s.setData(r)}static async assembleWatWithBinaryen(e,t){o("assemble","Service","binaryen");const n=e.getData();t&&t.push("Assembling with Binaryen");const r=await this.worker.assembleWatWithBinaryen(n);t&&t.pop();const s=e.parent.newFile(e.name+".wasm",i.d.Wasm);s.description="Converted from "+e.name+" using Binaryen.",s.setData(r)}static download(e){d.downloadLink||(d.downloadLink=document.createElement("a"),d.downloadLink.style.display="none",document.body.appendChild(d.downloadLink));const t=URL.createObjectURL(new Blob([e.getData()],{type:"application/octet-stream"}));d.downloadLink.href=t,d.downloadLink.download=e.name,d.downloadLink.href!==document.location&&d.downloadLink.click()}static async clangFormat(e,t){function n(){const t=d.clangFormatModule.ccall("formatCode","string",["string"],[e.buffer.getValue()]);e.buffer.setValue(t)}if(o("format","Service","clang-format"),d.clangFormatModule)n();else{await d.lazyLoad("lib/clang-format.js",t);const e=await fetch("lib/clang-format.wasm"),i=await e.arrayBuffer(),r={postRun(){n()},wasmBinary:i};d.clangFormatModule=Module(r)}}static async disassembleX86(e,t,n=""){o("disassemble","Service","capstone.x86"),"undefined"==typeof capstone&&await d.lazyLoad("lib/capstone.x86.min.js",t);const s=e.parent.newFile(e.name+".x86",i.d.x86);const l=e.getData(),c=await d.compile(l,a.Wasm,a.x86,n);let u="";const h=new capstone.Cs(capstone.ARCH_X86,capstone.MODE_64),p=Object.create(null);for(let e=0;e<c.regions.length;e++){const t=c.regions[e];u+=t.name+":\n";const n=Object(r.e)(t.bytes),i=h.disasm(n,t.entry),s={};i.forEach(function(e,t){if(p[e.address]=e,Object(r.f)(e)){const n=parseInt(e.op_str,10);s[n]||(s[n]=[]),s[n].push(e.address),t+1<i.length&&(s[i[t+1].address]=[])}}),i.forEach(function(e){s[e.address]&&(u+=" "+Object(r.i)(Object(r.k)(e.address)+":",39," "),s[e.address].length>0&&(u+="; "+Object(r.k)(e.address)+" from: ["+s[e.address].map(r.k).join(", ")+"]"),u+="\n"),u+="  "+Object(r.i)(e.mnemonic+" "+e.op_str,38," "),u+="; "+Object(r.k)(e.address)+" "+e.bytes.map(function(e){return Object(r.h)(Number(e).toString(16),2,"0")}).join(" ")+"\n"}),u+="\n"}s.setData(u)}static openBinaryExplorer(e){window.open("//wasdk.github.io/wasmcodeexplorer/?api=postmessage","","toolbar=no,ocation=no,directories=no,status=no,menubar=no,location=no,scrollbars=yes,resizable=yes,width=1024,height=568"),d.binaryExplorerMessageListener&&window.removeEventListener("message",d.binaryExplorerMessageListener,!1),d.binaryExplorerMessageListener=(t=>{if("wasmexplorer-ready"===t.data.type){window.removeEventListener("message",d.binaryExplorerMessageListener,!1),d.binaryExplorerMessageListener=null;const n=new Uint8Array(e.data.slice(0));t.source.postMessage({type:"wasmexplorer-load",data:n},"*",[n.buffer])}}),window.addEventListener("message",d.binaryExplorerMessageListener,!1)}static async compileMarkdownToHtml(e){"undefined"==typeof showdown&&await d.lazyLoad("lib/showdown.min.js");const t=new showdown.Converter({tables:!0,ghCodeBlocks:!0});return showdown.setFlavor("github"),t.makeHtml(e)}static async twiggyWasm(e,t){const n=e.getData();o("disassemble","Service","twiggy"),t&&t.push("Analyze with Twiggy");const r=await this.worker.twiggyWasm(n),s=e.parent.newFile(e.name+".md",i.d.Markdown);return s.description="Analyzed "+e.name+" using Twiggy.",s.setData(r),t&&t.pop(),r}}d.worker=new class{constructor(){this.workerCallbacks=[],this.nextId=0,this.worker=new Worker("dist/worker.bundle.js"),this.worker.addEventListener("message",e=>{if(!e.data.id)return;const t=this.workerCallbacks[e.data.id];e.data.success?t.fn(e):t.ex(e),this.workerCallbacks[e.data.id]=null})}getNextId(){return String(this.nextId++)}setWorkerCallback(e,t,n){Object(r.a)(!this.workerCallbacks[e]),this.workerCallbacks[e]={fn:t,ex:n}}async postMessage(e,t){return new Promise((n,i)=>{const r=this.getNextId();this.setWorkerCallback(r,e=>{n(e.data.payload)},e=>{i(e.data.payload)}),this.worker.postMessage({id:r,command:e,payload:t},void 0)})}async optimizeWasmWithBinaryen(e){return await this.postMessage(c.a.OptimizeWasmWithBinaryen,e)}async validateWasmWithBinaryen(e){return await this.postMessage(c.a.ValidateWasmWithBinaryen,e)}async createWasmCallGraphWithBinaryen(e){return await this.postMessage(c.a.CreateWasmCallGraphWithBinaryen,e)}async convertWasmToAsmWithBinaryen(e){return await this.postMessage(c.a.ConvertWasmToAsmWithBinaryen,e)}async disassembleWasmWithBinaryen(e){return await this.postMessage(c.a.DisassembleWasmWithBinaryen,e)}async assembleWatWithBinaryen(e){return await this.postMessage(c.a.AssembleWatWithBinaryen,e)}async disassembleWasmWithWabt(e){return await this.postMessage(c.a.DisassembleWasmWithWabt,e)}async assembleWatWithWabt(e){return await this.postMessage(c.a.AssembleWatWithWabt,e)}async twiggyWasm(e){return await this.postMessage(c.a.TwiggyWasm,e)}},d.downloadLink=null,d.clangFormatModule=null},function(e,t,n){"use strict";var i;n.d(t,"a",function(){return i}),function(e){e[e.OptimizeWasmWithBinaryen=0]="OptimizeWasmWithBinaryen",e[e.ValidateWasmWithBinaryen=1]="ValidateWasmWithBinaryen",e[e.CreateWasmCallGraphWithBinaryen=2]="CreateWasmCallGraphWithBinaryen",e[e.ConvertWasmToAsmWithBinaryen=3]="ConvertWasmToAsmWithBinaryen",e[e.DisassembleWasmWithBinaryen=4]="DisassembleWasmWithBinaryen",e[e.AssembleWatWithBinaryen=5]="AssembleWatWithBinaryen",e[e.DisassembleWasmWithWabt=6]="DisassembleWasmWithWabt",e[e.AssembleWatWithWabt=7]="AssembleWatWithWabt",e[e.TwiggyWasm=8]="TwiggyWasm"}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(30),s=(i=r)&&i.__esModule?i:{default:i};t.default=s.default,e.exports=t.default},function(e,t){e.exports=void 0},function(e,t,n){"use strict";n.d(t,"a",function(){return s});const i="./config.json";let r;async function s(){return r||(r=await fetch(i).then(e=>e.json())),r}},function(e,t){e.exports=ReactDOM},function(e,t,n){var i;!function(r,s,o){if(r){for(var a,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},h=1;h<20;++h)l[111+h]="f"+h;for(h=0;h<=9;++h)l[h+96]=h.toString();v.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},v.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},v.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},v.prototype.reset=function(){return this._callbacks={},this._directMap={},this},v.prototype.stopCallback=function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!function e(t,n){return null!==t&&t!==s&&(t===n||e(t.parentNode,n))}(t,this.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},v.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},v.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(l[t]=e[t]);a=null},v.init=function(){var e=v(s);for(var t in e)"_"!==t.charAt(0)&&(v[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},v.init(),r.Mousetrap=v,void 0!==e&&e.exports&&(e.exports=v),void 0===(i=function(){return v}.call(t,n,t,e))||(e.exports=i)}function p(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function f(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function m(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function g(e,t,n){return n||(n=function(){if(!a)for(var e in a={},l)e>95&&e<112||l.hasOwnProperty(e)&&(a[l[e]]=e);return a}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function b(e,t){var n,i,r,s=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),r=0;r<n.length;++r)i=n[r],d[i]&&(i=d[i]),t&&"keypress"!=t&&u[i]&&(i=u[i],s.push("shift")),m(i)&&s.push(i);return{key:i,modifiers:s,action:t=g(i,s,t)}}function v(e){var t=this;if(e=e||s,!(t instanceof v))return new v(e);t.target=e,t._callbacks={},t._directMap={};var n,i={},r=!1,o=!1,a=!1;function l(e){e=e||{};var t,n=!1;for(t in i)e[t]?n=!0:i[t]=0;n||(a=!1)}function c(e,n,r,s,o,a){var l,c,u,d,h=[],p=r.type;if(!t._callbacks[e])return[];for("keyup"==p&&m(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(s||!c.seq||i[c.seq]==c.level)&&p==c.action&&("keypress"==p&&!r.metaKey&&!r.ctrlKey||(u=n,d=c.modifiers,u.sort().join(",")===d.sort().join(",")))){var f=!s&&c.combo==o,g=s&&c.seq==s&&c.level==a;(f||g)&&t._callbacks[e].splice(l,1),h.push(c)}return h}function u(e,n,i,r){t.stopCallback(n,n.target||n.srcElement,i,r)||!1===e(n,i)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=f(e);n&&("keyup"!=e.type||r!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):r=!1)}function h(e,t,s,o){function c(t){return function(){a=t,++i[e],clearTimeout(n),n=setTimeout(l,1e3)}}function d(t){u(s,t,e),"keyup"!==o&&(r=f(t)),setTimeout(l,10)}i[e]=0;for(var h=0;h<t.length;++h){var p=h+1===t.length?d:c(o||b(t[h+1]).action);g(t[h],p,o,e,h)}}function g(e,n,i,r,s){t._directMap[e+":"+i]=n;var o,a=(e=e.replace(/\s+/g," ")).split(" ");a.length>1?h(e,a,n,i):(o=b(e,i),t._callbacks[o.key]=t._callbacks[o.key]||[],c(o.key,o.modifiers,{type:o.action},r,e,s),t._callbacks[o.key][r?"unshift":"push"]({callback:n,modifiers:o.modifiers,action:o.action,seq:r,level:s,combo:e}))}t._handleKey=function(e,t,n){var i,r=c(e,t,n),s={},d=0,h=!1;for(i=0;i<r.length;++i)r[i].seq&&(d=Math.max(d,r[i].level));for(i=0;i<r.length;++i)if(r[i].seq){if(r[i].level!=d)continue;h=!0,s[r[i].seq]=1,u(r[i].callback,n,r[i].combo,r[i].seq)}else h||u(r[i].callback,n,r[i].combo);var p="keypress"==n.type&&o;n.type!=a||m(e)||p||l(s),o=h&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var i=0;i<e.length;++i)g(e[i],t,n)},p(e,"keypress",d),p(e,"keydown",d),p(e,"keyup",d)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=void 0;var i,r=n(21);var s=((i=r)&&i.__esModule?i:{default:i}).default,o=s.canUseDOM?window.HTMLElement:{};t.canUseDOM=s.canUseDOM;t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNodeList=a,t.setElement=function(e){var t=e;if("string"==typeof t){var n=document.querySelectorAll(t);a(n,t),t="length"in n?n[0]:n}return o=t||o},t.validateElement=l,t.hide=function(e){l(e)&&(e||o).setAttribute("aria-hidden","true")},t.show=function(e){l(e)&&(e||o).removeAttribute("aria-hidden")},t.documentNotReadyOrSSRTesting=function(){o=null},t.resetForTesting=function(){o=null};var i,r=n(23),s=(i=r)&&i.__esModule?i:{default:i};var o=null;function a(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function l(e){return!(!e&&!o)||((0,s.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),!1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return[].slice.call(e.querySelectorAll("*"),0).filter(o)};var i=/input|select|textarea|button|object/;function r(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;var n=window.getComputedStyle(e);return t?"visible"!==n.getPropertyValue("overflow"):"none"==n.getPropertyValue("display")}function s(e,t){var n=e.nodeName.toLowerCase();return(i.test(n)&&!e.disabled||"a"===n&&e.href||t)&&function(e){for(var t=e;t&&t!==document.body;){if(r(t))return!1;t=t.parentNode}return!0}(e)}function o(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&s(e,!n)}e.exports=t.default},function(e,t,n){e.exports=n(29)()},function(e,t,n){"use strict";var i=function(e){};e.exports=function(e,t,n,r,s,o,a,l){if(i(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,s,o,a,l],d=0;(c=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){e.exports.Dispatcher=n(33)},function(e,t,n){e.exports=f,f.Minimatch=m;var i={sep:"/"};try{i=n(37)}catch(e){}var r=f.GLOBSTAR=m.GLOBSTAR={},s=n(36),o={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",l=a+"*?",c="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",u="(?:(?!(?:\\/|^)\\.).)*?",d="().*{}+?[]^$\\!".split("").reduce(function(e,t){return e[t]=!0,e},{});var h=/\/+/;function p(e,t){e=e||{},t=t||{};var n={};return Object.keys(t).forEach(function(e){n[e]=t[e]}),Object.keys(e).forEach(function(t){n[t]=e[t]}),n}function f(e,t,n){if("string"!=typeof t)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&(""===t.trim()?""===e:new m(t,n).match(e))}function m(e,t){if(!(this instanceof m))return new m(e,t);if("string"!=typeof e)throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),"/"!==i.sep&&(e=e.split(i.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function g(e,t){if(t||(t=this instanceof m?this.options:{}),void 0===(e=void 0===e?this.pattern:e))throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:s(e)}f.filter=function(e,t){return t=t||{},function(n,i,r){return f(n,e,t)}},f.defaults=function(e){if(!e||!Object.keys(e).length)return f;var t=f,n=function(n,i,r){return t.minimatch(n,i,p(e,r))};return n.Minimatch=function(n,i){return new t.Minimatch(n,p(e,i))},n},m.defaults=function(e){return e&&Object.keys(e).length?f.defaults(e).Minimatch:m},m.prototype.debug=function(){},m.prototype.make=function(){if(this._made)return;var e=this.pattern,t=this.options;if(!t.nocomment&&"#"===e.charAt(0))return void(this.comment=!0);if(!e)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map(function(e){return e.split(h)}),this.debug(this.pattern,n),n=n.map(function(e,t,n){return e.map(this.parse,this)},this),this.debug(this.pattern,n),n=n.filter(function(e){return-1===e.indexOf(!1)}),this.debug(this.pattern,n),this.set=n},m.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(this.options.nonegate)return;for(var i=0,r=e.length;i<r&&"!"===e.charAt(i);i++)t=!t,n++;n&&(this.pattern=e.substr(n));this.negate=t},f.braceExpand=function(e,t){return g(e,t)},m.prototype.braceExpand=g,m.prototype.parse=function(e,t){if(e.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===e)return r;if(""===e)return"";var i,s="",c=!!n.nocase,u=!1,h=[],p=[],f=!1,m=-1,g=-1,v="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function w(){if(i){switch(i){case"*":s+=l,c=!0;break;case"?":s+=a,c=!0;break;default:s+="\\"+i}y.debug("clearStateChar %j %j",i,s),i=!1}}for(var C,E=0,x=e.length;E<x&&(C=e.charAt(E));E++)if(this.debug("%s\t%s %s %j",e,E,s,C),u&&d[C])s+="\\"+C,u=!1;else switch(C){case"/":return!1;case"\\":w(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,E,s,C),f){this.debug("  in class"),"!"===C&&E===g+1&&(C="^"),s+=C;continue}y.debug("call clearStateChar %j",i),w(),i=C,n.noext&&w();continue;case"(":if(f){s+="(";continue}if(!i){s+="\\(";continue}h.push({type:i,start:E-1,reStart:s.length,open:o[i].open,close:o[i].close}),s+="!"===i?"(?:(?!(?:":"(?:",this.debug("plType %j %j",i,s),i=!1;continue;case")":if(f||!h.length){s+="\\)";continue}w(),c=!0;var _=h.pop();s+=_.close,"!"===_.type&&p.push(_),_.reEnd=s.length;continue;case"|":if(f||!h.length||u){s+="\\|",u=!1;continue}w(),s+="|";continue;case"[":if(w(),f){s+="\\"+C;continue}f=!0,g=E,m=s.length,s+=C;continue;case"]":if(E===g+1||!f){s+="\\"+C,u=!1;continue}if(f){var k=e.substring(g+1,E);try{RegExp("["+k+"]")}catch(e){var S=this.parse(k,b);s=s.substr(0,m)+"\\["+S[0]+"\\]",c=c||S[1],f=!1;continue}}c=!0,f=!1,s+=C;continue;default:w(),u?u=!1:!d[C]||"^"===C&&f||(s+="\\"),s+=C}f&&(k=e.substr(g+1),S=this.parse(k,b),s=s.substr(0,m)+"\\["+S[0],c=c||S[1]);for(_=h.pop();_;_=h.pop()){var D=s.slice(_.reStart+_.open.length);this.debug("setting tail",s,_),D=D.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(e,t,n){return n||(n="\\"),t+t+n+"|"}),this.debug("tail=%j\n   %s",D,D,_,s);var T="*"===_.type?l:"?"===_.type?a:"\\"+_.type;c=!0,s=s.slice(0,_.reStart)+T+"\\("+D}w(),u&&(s+="\\\\");var O=!1;switch(s.charAt(0)){case".":case"[":case"(":O=!0}for(var M=p.length-1;M>-1;M--){var j=p[M],A=s.slice(0,j.reStart),P=s.slice(j.reStart,j.reEnd-8),V=s.slice(j.reEnd-8,j.reEnd),N=s.slice(j.reEnd);V+=N;var L=A.split("(").length-1,F=N;for(E=0;E<L;E++)F=F.replace(/\)[+*?]?/,"");var R="";""===(N=F)&&t!==b&&(R="$");var W=A+P+N+R+V;s=W}""!==s&&c&&(s="(?=.)"+s);O&&(s=v+s);if(t===b)return[s,c];if(!c)return e.replace(/\\(.)/g,"$1");var z=n.nocase?"i":"";try{var I=new RegExp("^"+s+"$",z)}catch(e){return new RegExp("$.")}return I._glob=e,I._src=s,I};var b={};f.makeRe=function(e,t){return new m(e,t||{}).makeRe()},m.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?l:t.dot?c:u,i=t.nocase?"i":"",s=e.map(function(e){return e.map(function(e){return e===r?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src}).join("\\/")}).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch(e){this.regexp=!1}return this.regexp},f.match=function(e,t,n){var i=new m(t,n=n||{});return e=e.filter(function(e){return i.match(e)}),i.options.nonull&&!e.length&&e.push(t),e},m.prototype.match=function(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==i.sep&&(e=e.split(i.sep).join("/"));e=e.split(h),this.debug(this.pattern,"split",e);var r,s,o=this.set;for(this.debug(this.pattern,"set",o),s=e.length-1;s>=0&&!(r=e[s]);s--);for(s=0;s<o.length;s++){var a=o[s],l=e;n.matchBase&&1===a.length&&(l=[r]);var c=this.matchOne(l,a,t);if(c)return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},m.prototype.matchOne=function(e,t,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var s=0,o=0,a=e.length,l=t.length;s<a&&o<l;s++,o++){this.debug("matchOne loop");var c,u=t[o],d=e[s];if(this.debug(t,u,d),!1===u)return!1;if(u===r){this.debug("GLOBSTAR",[t,u,d]);var h=s,p=o+1;if(p===l){for(this.debug("** at the end");s<a;s++)if("."===e[s]||".."===e[s]||!i.dot&&"."===e[s].charAt(0))return!1;return!0}for(;h<a;){var f=e[h];if(this.debug("\nglobstar while",e,h,t,p,f),this.matchOne(e.slice(h),t.slice(p),n))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!i.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}if("string"==typeof u?(c=i.nocase?d.toLowerCase()===u.toLowerCase():d===u,this.debug("string match",u,d,c)):(c=d.match(u),this.debug("pattern match",u,d,c)),!c)return!1}if(s===a&&o===l)return!0;if(s===a)return n;if(o===l)return s===a-1&&""===e[s];throw new Error("wtf?")}},function(e,t){var n,i,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var l,c=[],u=!1,d=-1;function h(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&p())}function p(){if(!u){var e=a(h);u=!0;for(var t=c.length;t;){for(l=c,c=[];++d<t;)l&&l[d].run();d=-1,t=c.length}l=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||u||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t);var i=n(0),r=n(8);class s extends i.Component{render(){return i.createElement("div",{className:"wasmStudioHeader"},i.createElement("span",{className:"waHeaderText"},"WebAssembly Studio"))}}var o,a,l=n(1),c=n(3);n(6);!function(e){e[e.COPY=0]="COPY",e[e.MOVE=1]="MOVE"}(o||(o={})),function(e){e[e.BUBBLE_DOWN=0]="BUBBLE_DOWN",e[e.BUBBLE_UP=1]="BUBBLE_UP"}(a||(a={}));a.BUBBLE_UP,a.BUBBLE_UP,o.COPY;class u{static initialize(e){u.Tree=e("vs/base/parts/tree/browser/treeImpl").Tree,u.ContextMenuService=e("vs/platform/contextview/browser/contextMenuService").ContextMenuService,u.ContextViewService=e("vs/platform/contextview/browser/contextViewService").ContextViewService,u.TreeDefaults=e("vs/base/parts/tree/browser/treeDefaults"),u.Action=e("vs/base/common/actions").Action}}var d;function h(e){switch(e){case l.d.Markdown:return d.Markdown;case l.d.DOT:return d.Viz;default:return d.Editor}}!function(e){e[e.Editor=0]="Editor",e[e.Markdown=1]="Markdown",e[e.Binary=2]="Binary",e[e.Viz=3]="Viz"}(d||(d={}));class p{constructor(e,t=d.Editor){this.file=e,this.type=t}clone(){return new p(this.file,this.type)}}var f=new(n(15).Dispatcher),m=n(2);class g{constructor(e,t=[]){this.currentView=e,this.views=t}open(e,t=!0){const n=this.views;if(n.indexOf(e)>=0)return this.currentView=e,void(t||this.preview!==e||(this.preview=null));if(t)if(this.preview){const t=n.indexOf(this.preview);Object(m.a)(t>=0),this.currentView=this.preview=n[t]=e}else n.push(e),this.currentView=this.preview=e;else n.push(e),this.currentView=e,this.preview=null}openFile(e,t=d.Editor,n=!0){const i=this.views.findIndex(n=>n.file===e&&n.type===t),r=i>=0?this.views[i]:new p(e,t);this.open(r,n)}close(e){const t=this.views.indexOf(e);if(t<0)return;this.views.splice(t,1);const n=this.views.length;this.currentView=n?this.views[Math.min(n-1,t)]:null,e===this.preview&&(this.preview=null)}}const b=new class{constructor(){this.onLoadProject=new l.b("AppStore onLoadProject"),this.onDidChangeStatus=new l.b("AppStore onDidChangeStatus"),this.onDidChangeProblems=new l.b("AppStore onDidChangeProblems"),this.onChange=new l.b("AppStore onChange"),this.onDirtyFileUsed=new l.b("AppStore onDirtyFileUsed"),this.onDidChangeBuffer=new l.b("AppStore onDidChangeBuffer"),this.onDidChangeData=new l.b("AppStore onDidChangeData"),this.onDidChangeDirty=new l.b("AppStore onDidChangeDirty"),this.onDidChangeChildren=new l.b("AppStore onDidChangeChildren"),this.onOutputChanged=new l.b("AppStore onOutputChanged"),this.onTabsChange=new l.b("AppStore onTabsChange"),this.onSandboxRun=new l.b("AppStore onSandboxRun"),this.onDidChangeIsContentModified=new l.b("AppStore onDidChangeIsContentModified"),this.project=null,this.output=null,this.isContentModified=!1}initStore(){this.project=new l.g,this.activeTabGroup=new g(null,[]),this.tabGroups=[this.activeTabGroup],this.bindProject(),this.isContentModified=!1,this.output=new l.c("output",l.d.Log)}loadProject(e){this.project=e,this.bindProject(),this.isContentModified=!1,this.onLoadProject.dispatch()}bindProject(){this.project.onDidChangeStatus.register(()=>this.onDidChangeStatus.dispatch()),this.project.onDidChangeProblems.register(()=>this.onDidChangeProblems.dispatch()),this.project.onChange.register(()=>this.onChange.dispatch()),this.project.onDirtyFileUsed.register(e=>this.onDirtyFileUsed.dispatch(e)),this.project.onDidChangeBuffer.register(()=>this.onDidChangeBuffer.dispatch()),this.project.onDidChangeData.register(()=>{this.setContentModified(!0),this.onDidChangeData.dispatch()}),this.project.onDidChangeDirty.register(e=>this.onDidChangeDirty.dispatch(e)),this.project.onDidChangeChildren.register(()=>{this.setContentModified(!0),this.onDidChangeChildren.dispatch()})}setContentModified(e){this.isContentModified!==e&&(this.isContentModified=e,this.onDidChangeIsContentModified.dispatch())}addFileTo(e,t){e.parent&&this.deleteFile(e),t.addFile(e)}deleteFile(e){e.parent.removeFile(e)}updateFileNameAndDescription(e,t,n){e.setNameAndDescription(t,n)}getActiveTabGroup(){return this.activeTabGroup}getTabGroups(){return this.tabGroups}getProject(){return l.e.getRef(this.project)}getIsContentModified(){return this.isContentModified}getOutput(){return l.e.getRef(this.output)}getFileByName(e){const t=this.project.getFile(e);return t?l.e.getRef(t):null}getFileSource(e){return e.getModel().getData()}getFileBuffer(e){return e.getModel().buffer}getParent(e){const{parent:t}=e.getModel();return t?l.e.getRef(t):null}getImmediateChild(e,t){const n=e.getModel().getImmediateChild(t);return n?l.e.getRef(n):null}getPath(e){return e.getModel().getPath()}getStatus(){return this.project.getStatus()}hasStatus(){return this.project.hasStatus()}logLn(e,t=""){e+="\n",t&&(e="["+t+"]: "+e);const n=this.output.buffer,i=n.getLineCount(),r=n.getLineMaxColumn(i),s=new monaco.Range(i,r,i,r);n.applyEdits([{forceMoveMarkers:!0,identifier:null,range:s,text:e}]),this.onOutputChanged.dispatch()}splitGroup(){const{tabGroups:e,activeTabGroup:t}=this;if(0===t.views.length)return;const n=e.findIndex(e=>e===t),i=t.currentView.clone(),r=new g(i,[i]);this.tabGroups.splice(n+1,0,r),this.activeTabGroup=r,this.onTabsChange.dispatch()}openFile(e,t,n){this.activeTabGroup.openFile(e,t,n),this.onTabsChange.dispatch()}openView(e,t){this.activeTabGroup.open(e,t),this.onTabsChange.dispatch()}closeView(e){const{activeTabGroup:t}=this;t.close(e),0===t.views.length&&this.closeGroup(t),this.onTabsChange.dispatch()}closeTabs(e){const{tabGroups:t}=this,n=[];t.forEach(t=>{const i=t.views.find(t=>t.file===e);t.close(i),0===t.views.length&&n.push(t)}),n.forEach(e=>{this.closeGroup(e)}),this.onTabsChange.dispatch()}closeGroup(e){const{activeTabGroup:t,tabGroups:n}=this,i=this.tabGroups.indexOf(e);if(!(e.views.length>0||1===n.length)&&(n.splice(i,1),t===e)){const e=n.length,t=e?n[Math.min(e-1,i)]:null;this.activeTabGroup=t}}openFiles(e){const t=e.map(e=>{const t=e.map(e=>{const t=this.getFileByName(e).getModel();return new p(t,h(t.type))});return Object(m.a)(t.length>0),new g(t[0],t)});this.activeTabGroup=t[0],this.tabGroups=t,this.onTabsChange.dispatch()}setViewType(e,t){e.type=t,this.onTabsChange.dispatch()}sendSandboxRun(e){this.onSandboxRun.dispatch({project:this.project,src:e})}handleActions(e){switch(e.type){case _.OPEN_VIEW:{const{view:t,preview:n}=e;this.openView(t,n);break}case _.CLOSE_VIEW:{const{view:t}=e;this.closeView(t);break}case _.CLOSE_TABS:{const{file:t}=e;this.closeTabs(t);break}case _.FOCUS_TAB_GROUP:{const{group:t}=e;this.activeTabGroup=t,this.onTabsChange.dispatch();break}case _.OPEN_FILE:{const{file:t,viewType:n,preview:i}=e;this.openFile(t,n,i);break}case _.OPEN_FILES:{const{files:t}=e;this.openFiles(t);break}case _.SPLIT_GROUP:this.splitGroup();break;case _.ADD_FILE_TO:{const{file:t,parent:n}=e;this.addFileTo(t,n);break}case _.DELETE_FILE:{const{file:t}=e;this.deleteFile(t);break}case _.UPDATE_FILE_NAME_AND_DESCRIPTION:{const{file:t,name:n,description:i}=e;this.updateFileNameAndDescription(t,n,i);break}case _.LOAD_PROJECT:{const{project:t}=e;this.loadProject(t);break}case _.CLEAR_PROJECT_MODIFIED:this.setContentModified(!1);break;case _.INIT_STORE:this.initStore();break;case _.SET_VIEW_TYPE:{const{view:t,viewType:n}=e;this.setViewType(t,n);break}case _.LOG_LN:{const{message:t,kind:n}=e;this.logLn(t,n);break}case _.PUSH_STATUS:{const{status:t}=e;this.project.pushStatus(t);break}case _.POP_STATUS:this.project.popStatus();break;case _.SANDBOX_RUN:{const{src:t}=e;this.sendSandboxRun(t);break}}}};f.register(e=>b.handleActions(e));var v=b;class y{constructor(e,t){this.dependencies=e,this.promiseMaker=t}}class w{constructor(e){this.task=e,this.promise=null}makePromise(){return this.promise?this.promise:this.promise=this.task.promiseMaker()}}class C{constructor(e){this.tasks=new Map,this.gulpy=e}ensureInstance(e){let t=this.tasks.get(e);return t||(t=new w(e),this.tasks.set(e,t),t)}async runInstance(e){const t=e.task.dependencies.map(e=>this.ensureInstance(e));return await Promise.all(t.map(e=>this.runInstance(e))),e.makePromise()}async run(e){return this.runInstance(this.ensureInstance(e))}}class E{constructor(){this.tasks={}}task(e,t,n){let i=[],r=null;3===arguments.length?(i=t,r=n):2===arguments.length&&(Array.isArray(t)?(i=t,r=n||(()=>{})):r=t),this.tasks[e]=new y(i.map(e=>this.tasks[e]),r)}series(e){return null}parallel(e){return null}hasTask(e){return e in this.tasks}async run(e){const t=new C(this);await t.run(this.tasks[e])}}const x={BuildFileMissing:"Build File (build.ts / build.js) is missing."};var _;function k(e,t){f.dispatch({type:_.ADD_FILE_TO,file:e,parent:t})}function S(e,t=""){f.dispatch({type:_.LOG_LN,message:e,kind:t})}function D(e,t=!0){f.dispatch({type:_.OPEN_VIEW,view:e,preview:t})}function T(e,t=d.Editor,n=!0){f.dispatch({type:_.OPEN_FILE,file:e,viewType:t,preview:n})}function O(e){f.dispatch({type:_.OPEN_FILES,files:e})}function M(e){f.dispatch({type:_.FOCUS_TAB_GROUP,group:e})}function j(e){f.dispatch({type:_.PUSH_STATUS,status:e})}function A(){f.dispatch({type:_.POP_STATUS})}async function P(e,t=!1){const n=async n=>{const i=new E,r=v.getProject().getModel();if(Object(m.d)(n,i,{gulp:i,Service:c.a,project:r,logLn:S,fileTypeForExtension:l.i},{gulp:i,"@wasm/studio-utils":{Service:c.a,project:r,logLn:S,fileTypeForExtension:l.i}})(),i.hasTask(e))try{await i.run(e)}catch(e){S(e.message,"error")}else t||S(`Task ${e} is not optional.`,"error")};let i=v.getFileByName("gulpfile.js");if(i)await n(v.getFileSource(i));else if(i=v.getFileByName("build.ts")){const e=await i.getModel().getEmitOutput();await n(e.outputFiles[0].text)}else(i=v.getFileByName("build.js"))?await n(v.getFileSource(i)):S(x.BuildFileMissing,"error")}async function V(){const e=v.getFileByName("src/main.html");let t=v.getFileSource(e);t=t.replace(/src\s*=\s*"(.+?)"/g,(e,t)=>{const n=new URL(t,"http://example.org/src/main.html").pathname,i=v.getFileByName(n.substr(1));if(!i)return S(`Cannot find file '${t}' mentioned in src/main.html`),e;const r=v.getFileBuffer(i).getValue(),s=new Blob([r],{type:"text/javascript"});return`src="${window.URL.createObjectURL(s)}"`});v.getProject().getModel();f.dispatch({type:_.SANDBOX_RUN,src:t})}async function N(){j("Building Project"),await P("default"),A()}!function(e){e.ADD_FILE_TO="ADD_FILE_TO",e.LOAD_PROJECT="LOAD_PROJECT",e.CLEAR_PROJECT_MODIFIED="CLEAR_PROJECT_MODIFIED",e.INIT_STORE="INIT_STORE",e.UPDATE_FILE_NAME_AND_DESCRIPTION="UPDATE_FILE_NAME_AND_DESCRIPTION",e.DELETE_FILE="DELETE_FILE",e.SPLIT_GROUP="SPLIT_GROUP",e.SET_VIEW_TYPE="SET_VIEW_TYPE",e.OPEN_FILE="OPEN_FILE",e.OPEN_FILES="OPEN_PROJECT_FILES",e.FOCUS_TAB_GROUP="FOCUS_TAB_GROUP",e.LOG_LN="LOG_LN",e.PUSH_STATUS="PUSH_STATUS",e.POP_STATUS="POP_STATUS",e.SANDBOX_RUN="SANDBOX_RUN",e.CLOSE_VIEW="CLOSE_VIEW",e.CLOSE_TABS="CLOSE_TABS",e.OPEN_VIEW="OPEN_VIEW"}(_||(_={}));class L{constructor(e){this.monacoIconLabel=document.createElement("div"),this.monacoIconLabel.className="monaco-icon-label",this.monacoIconLabel.style.display="flex",e.appendChild(this.monacoIconLabel);const t=document.createElement("div");t.className="monaco-icon-label-description-container",this.monacoIconLabel.appendChild(t),this.label=document.createElement("a"),this.label.className="label-name",t.appendChild(this.label),this.description=document.createElement("span"),this.description.className="label-description",t.appendChild(this.description)}dispose(){}set(e){let t="";switch(e.type){case l.d.C:t="c-lang-file-icon";break;case l.d.Cpp:t="cpp-lang-file-icon";break;case l.d.JavaScript:t="javascript-lang-file-icon";break;case l.d.HTML:t="html-lang-file-icon";break;case l.d.TypeScript:t="typescript-lang-file-icon";break;case l.d.Markdown:t="markdown-lang-file-icon";break;case l.d.JSON:t="json-lang-file-icon";break;case l.d.Wasm:t="wasm-lang-file-icon";break;case l.d.Wat:t="wat-lang-file-icon"}e instanceof l.a?this.monacoIconLabel.classList.add("folder-icon"):this.monacoIconLabel.classList.add("file-icon"),t&&this.monacoIconLabel.classList.add(t),this.label.innerHTML=e.name,this.monacoIconLabel.classList.toggle("dirty",e.isDirty),this.monacoIconLabel.classList.toggle("transient",e.isTransient);let n="";e.isDirty&&e.isTransient?n="File has been modified and is transient.":e.isDirty&&!e.isTransient?n="File has been modified.":!e.isDirty&&e.isTransient&&(n="File is transient."),this.monacoIconLabel.title=n}}class F extends i.Component{constructor(e){super(e),this.lastClickedTime=Date.now(),this.lastClickedFile=null,this.onLayout=(()=>{this.tree.layout()}),this.contextViewService=new u.ContextViewService(document.documentElement),this.contextMenuService=new u.ContextMenuService(document.documentElement,null,null,this.contextViewService),this.state={directory:this.props.directory},this.status={push:j,pop:A,logLn:S}}setContainer(e){null!=e&&(this.container=e)}ensureTree(){this.container.lastChild&&this.container.removeChild(this.container.lastChild);const e=this;this.tree=new u.Tree(this.container,{dataSource:{getId:function(e,t){return t.key},hasChildren:function(e,t){return t instanceof l.a},getChildren:function(e,t){return monaco.Promise.as(t.children)},getParent:function(e,t){return monaco.Promise.as(t.parent)}},renderer:{getHeight:function(e,t){return 24},renderTemplate:function(e,t,n){return new L(n)},renderElement:function(e,t,n,i){i.set(t)},disposeTemplate:function(e,t,n){n.dispose()}},controller:new class extends u.TreeDefaults.DefaultController{onContextMenu(t,n,i){t.setFocus(n);const r=-10,s=-3,o={x:i.posx+r,y:i.posy+s},a=[];return n instanceof l.a&&(e.props.onNewFile&&a.push(new u.Action("x","New File","octicon-file-add",!0,()=>e.props.onNewFile(n))),e.props.onNewDirectory&&a.push(new u.Action("x","New Directory","octicon-file-add",!0,()=>e.props.onNewDirectory(n))),e.props.onUploadFile&&a.push(new u.Action("x","Upload Files","octicon-cloud-upload",!0,()=>e.props.onUploadFile(n)))),n instanceof l.g||(e.props.onEditFile&&a.push(new u.Action("x","Edit","octicon-pencil",!0,()=>e.props.onEditFile(n))),e.props.onDeleteFile&&a.push(new u.Action("x","Delete","octicon-x",!0,()=>e.props.onDeleteFile(n))),a.push(new u.Action("x","Download","octicon-cloud-download",!0,()=>{c.a.download(n)}))),Object(l.l)(n.type)||e.props.onCreateGist&&a.push(new u.Action("x","Create Gist","octicon-gist",!0,()=>e.props.onCreateGist(n))),n.type===l.d.Wasm?(a.push(new u.Action("x","Validate","octicon-check ruler",!0,async()=>{const t=await c.a.validateWasmWithBinaryen(n,e.status);window.alert(t?"Module is valid":"Module is not valid")})),a.push(new u.Action("x","Optimize","octicon-gear",!0,()=>{c.a.optimizeWasmWithBinaryen(n,e.status)})),a.push(new u.Action("x","Disassemble","octicon-file-code",!0,()=>{c.a.disassembleWasmWithWabt(n,e.status)})),a.push(new u.Action("x","Disassemble w/ Binaryen","octicon-file-code",!0,()=>{c.a.disassembleWasmWithBinaryen(n,e.status)})),a.push(new u.Action("x","To asm.js","octicon-file-code",!0,()=>{c.a.convertWasmToAsmWithBinaryen(n,e.status)})),a.push(new u.Action("x","Generate Call Graph","octicon-gear",!0,()=>{c.a.getWasmCallGraphWithBinaryen(n,e.status)})),a.push(new u.Action("x","To Firefox x86","octicon-file-binary",!0,()=>{c.a.disassembleX86(n,e.status)})),a.push(new u.Action("x","To Firefox x86 Baseline","octicon-file-binary",!0,()=>{c.a.disassembleX86(n,e.status,"--wasm-always-baseline")})),a.push(new u.Action("x","Binary Explorer","octicon-file-binary",!0,()=>{c.a.openBinaryExplorer(n)})),a.push(new u.Action("x","View as Binary","octicon-file-binary",!0,()=>{T(n,d.Binary,!1)})),a.push(new u.Action("x","Twiggy","octicon-file-binary",!0,()=>{c.a.twiggyWasm(n,e.status)}))):n.type===l.d.C||n.type===l.d.Cpp?a.push(new u.Action("x","Clang-Format","octicon-quote ruler",!0,()=>{c.a.clangFormat(n,e.status)})):n.type===l.d.Wat&&(a.push(new u.Action("x","Assemble","octicon-file-binary ruler",!0,()=>{c.a.assembleWatWithWabt(n,e.status)})),a.push(new u.Action("x","Assemble w/ Binaryen","octicon-file-binary",!0,()=>{c.a.assembleWatWithBinaryen(n,e.status)}))),e.contextMenuService.showContextMenu({getAnchor:()=>o,getActions:()=>monaco.Promise.as(a),getActionItem:e=>null,onHide:e=>{e&&t.DOMFocus()}}),super.onContextMenu(t,n,i),!0}},dnd:new class{getDragURI(e,t){return t.key}getDragLabel(e,t){return t[0].name}onDragStart(e,t,n){}onDragOver(e,t,n,i){const r=t.getData()[0];return{accept:n instanceof l.a&&n!==r&&!n.isDescendantOf(r)&&!n.getImmediateChild(r.name),bubble:a.BUBBLE_DOWN,autoExpand:!0}}drop(t,n,i,r){const s=n.getData()[0];return e.props.onMoveFile&&e.props.onMoveFile(s,i)}}})}onClickFile(e){e instanceof l.a||(Date.now()-this.lastClickedTime<500&&this.lastClickedFile===e&&this.props.onDoubleClickFile?this.props.onDoubleClickFile(e):this.props.onClickFile&&this.props.onClickFile(e),this.lastClickedTime=Date.now(),this.lastClickedFile=e)}componentDidMount(){this.ensureTree(),this.tree.model.setInput(this.props.directory.getModel()),this.tree.model.onDidSelect(e=>{e.selection.length&&this.onClickFile(e.selection[0])}),document.addEventListener("layout",this.onLayout)}componentWillUnmount(){document.removeEventListener("layout",this.onLayout)}componentWillReceiveProps(e){this.state.directory!==e.directory?(this.tree.model.setInput(e.directory.getModel()),this.setState({directory:e.directory})):(this.tree.refresh(),this.tree.expandAll())}render(){return i.createElement("div",{className:"fill",ref:e=>this.setContainer(e)})}}const R=n(32);function W(e,t){for(const n in t)n in e||(e[n]=t[n]);return e}var z;!function(e){e[e.Horizontal=0]="Horizontal",e[e.Vertical=1]="Vertical"}(z||(z={}));class I extends i.Component{constructor(e){super(e),this.index=-1,this.onResizerMouseUp=(e=>{if(!(this.index<0))return this.index=-1,I.onResizeEnd.dispatch(this),this.solver.endEdit(),window.document.documentElement.style.pointerEvents="auto",this.querySolver(this.state.splits),this.props.onChange&&this.props.onChange(this.state.splits)}),this.onResizerMouseMove=(e=>{if(this.index<0)return;const t=this.vars,n=this.props.orientation===z.Vertical,i=this.container.getBoundingClientRect(),r=n?e.clientX-i.left:e.clientY-i.top;this.solver.suggestValue(t[this.index+1],r),this.solver.resolve();const s=this.state.splits;this.querySolver(s),this.setState({splits:s}),e.preventDefault()}),this.state={splits:[]}}onResizerMouseDown(e){this.index=e,this.solver.addEditVar(this.vars[this.index+1],R.Strength.strong).beginEdit(),I.onResizeBegin.dispatch(this),window.document.documentElement.style.pointerEvents="none"}querySolver(e){const t=this.vars;for(let n=0;n<e.length;n++)e[n].value=t[n+1].value-t[n].value}componentWillReceiveProps(e){const t=this.canonicalizeSplits(e);this.setupSolver(t,this.getContainerSize(e.orientation)),this.querySolver(t),this.setState({splits:t})}getContainerSize(e){return e===z.Horizontal?this.container.clientHeight:this.container.clientWidth}canonicalizeSplits(e){const t=i.Children.count(e.children),n=this.getContainerSize(e.orientation),r=[];for(let i=0;i<t;i++){const t={};e.splits&&i<e.splits.length&&W(t,e.splits[i]),e.defaultSplit&&W(t,e.defaultSplit),r.push(W(t,{min:32,max:n}))}return r}setupSolver(e,t){Object(m.a)(this.index<0,"Should not be in a dragging state.");const n=R.Strength.weak,i=(R.Strength.medium,R.Strength.strong),r=R.Strength.required;function s(e,t,n,i){return new R.Inequality(e,R.LEQ,t,n,i)}const o=this.vars=[new R.Variable],a=this.solver=new R.SimplexSolver;for(let t=0;t<e.length;t++)o.push(new R.Variable);o[0].value=0,o[o.length-1].value=t,a.addStay(o[0],r),a.addStay(o[o.length-1],r);for(let t=0;t<o.length-1;t++){const{min:n,max:r}=e[t],h=o[t],p=o[t+1];a.addConstraint((l=R.minus(p,h),c=n,u=i,d=void 0,new R.Inequality(l,R.GEQ,c,u,d))),a.addConstraint(s(R.minus(p,h),r,i))}var l,c,u,d;for(let e=1;e<o.length-1;e++)a.addStay(o[e],n);this.suggestVarValues(e)}suggestVarValues(e){const t=this.vars;for(let n=0;n<t.length-1;n++){const i=t[n],r=t[n+1];e[n].value&&(n<t.length-2?(this.solver.addEditVar(r,R.Strength.strong).beginEdit(),this.solver.suggestValue(r,i.value+e[n].value)):(this.solver.addEditVar(i,R.Strength.strong).beginEdit(),this.solver.suggestValue(i,r.value-e[n].value)),this.solver.endEdit(),this.solver.resolve())}}componentDidMount(){document.addEventListener("mousemove",this.onResizerMouseMove),document.addEventListener("mouseup",this.onResizerMouseUp);const e=this.canonicalizeSplits(this.props);this.setupSolver(e,this.getContainerSize(this.props.orientation)),this.querySolver(e),this.setState({splits:e})}componentWillUnmount(){document.removeEventListener("mousemove",this.onResizerMouseMove),document.removeEventListener("mouseup",this.onResizerMouseUp)}render(){const{splits:e}=this.state;let t="resizer";const n=this.props.orientation===z.Horizontal;t+=n?" horizontal":" vertical";const r=i.Children.count(this.props.children),s=[];return i.Children.forEach(this.props.children,(n,o)=>{const a={};o<r-1&&o<e.length?a.flexBasis=(0|Math.round(e[o].value))+"px":a.flex=1,s.push(i.createElement("div",{key:o,className:"split-pane",style:a},n)),o<r-1&&s.push(i.createElement("div",{key:"split:"+o,className:t,onMouseDown:this.onResizerMouseDown.bind(this,o)}))}),i.createElement("div",{className:"split",ref:e=>{this.container=e},style:{flexDirection:n?"column":"row"}},s)}}I.onGlobalResize=new l.b("Split Resize"),I.onResizeBegin=new l.b("Resize Begin"),I.onResizeEnd=new l.b("Resize End");class B extends i.Component{constructor(e){super(e),this.onFileDidChangeDirty=(()=>{this.forceUpdate()}),this.onDirectoryDidChangeChildren=(()=>{this.forceUpdate()}),this.state={showProject:!1,showFiles:!0,splits:[]}}componentDidMount(){v.onDidChangeDirty.register(this.onFileDidChangeDirty),v.onDidChangeChildren.register(this.onDirectoryDidChangeChildren)}componentWillUnmount(){v.onDidChangeDirty.unregister(this.onFileDidChangeDirty),v.onDidChangeChildren.register(this.onDirectoryDidChangeChildren)}render(){const e=this.props.project;return i.createElement("div",{className:"workspaceContainer"},i.createElement(s,null),i.createElement("div",{style:{height:"calc(100% - 41px)"}},i.createElement(I,{name:"Workspace",orientation:z.Horizontal,splits:this.state.splits,onChange:e=>{this.setState({splits:e})}},i.createElement("div",null),i.createElement(F,{directory:e,value:this.props.file,onNewFile:this.props.onNewFile,onNewDirectory:this.props.onNewDirectory,onEditFile:this.props.onEditFile,onDeleteFile:this.props.onDeleteFile,onUploadFile:this.props.onUploadFile,onMoveFile:this.props.onMoveFile,onClickFile:e=>{this.props.onClickFile(e)},onDoubleClickFile:e=>{this.props.onDoubleClickFile(e)},onCreateGist:this.props.onCreateGist}))))}}class U extends i.Component{constructor(e){super(e),this.onLayout=(()=>{this.editor.layout()}),this.status={push:j,pop:A,logLn:S}}revealLastLine(){this.editor.revealLine(this.editor.getModel().getLineCount())}componentDidMount(){const{view:e}=this.props;e&&(this.ensureEditor(),this.editor.setModel(e.file.buffer),monaco.editor.setModelLanguage(this.editor.getModel(),Object(l.m)(e.file.type)),this.editor.restoreViewState(e.state),this.editor.updateOptions({readOnly:e.file.isBufferReadOnly})),document.addEventListener("layout",this.onLayout)}componentWillReceiveProps(e){this.props.view!==e.view&&(this.props.view.state=this.editor.saveViewState())}shouldComponentUpdate(e,t){return this.props.view!==e.view}componentDidUpdate(){const{view:e}=this.props;e&&(this.ensureEditor(),this.editor.setModel(e.file.buffer),this.editor.restoreViewState(e.state),this.editor.updateOptions({readOnly:e.file.isBufferReadOnly}))}componentWillUnmount(){document.removeEventListener("layout",this.onLayout),this.props.view.state=this.editor.saveViewState()}registerActions(){const e=this;this.editor.addAction({id:"save",label:"Save",keybindings:[monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_S],precondition:null,keybindingContext:null,run:function(){const t=e.props.view;return t&&!t.file.isBufferReadOnly&&t.file.save(e.status),null}}),this.editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.KEY_B,function(){N()},null),this.editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyCode.Enter,function(){V()},null),this.editor.addCommand(monaco.KeyMod.CtrlCmd|monaco.KeyMod.Alt|monaco.KeyCode.Enter,function(){N().then(V)},null)}ensureEditor(){if(this.editor)return;const e=Object.assign({value:"",theme:"fiddle-theme",minimap:{enabled:!1},fontWeight:"bold",renderLineHighlight:"none"},this.props.options);this.container.lastChild&&this.container.removeChild(this.container.lastChild),this.editor=monaco.editor.create(this.container,e),this.registerActions(),console.info("Created a new Monaco editor.")}setContainer(e){null!=e&&(this.container=e)}render(){return i.createElement("div",{className:"fill",ref:e=>this.setContainer(e)})}}class H extends i.Component{setMonaco(e){this.monaco=e}revealLastLine(){this.monaco.revealLastLine()}render(){const e=this.props.view.file;return e.description?i.createElement("div",{className:"fill"},i.createElement("div",{className:"editor-status-bar"},i.createElement("div",{className:"status-bar-item"},e.description)),i.createElement("div",{className:"editor-container"},i.createElement(U,{ref:e=>this.setMonaco(e),view:this.props.view,options:this.props.options})),";"):i.createElement("div",{className:"fill"},i.createElement(U,{ref:e=>this.setMonaco(e),view:this.props.view,options:this.props.options}))}}class q extends i.Component{constructor(){super(...arguments),this.state={scrollLeft:0},this.onWheel=(e=>{const t=Object(m.c)(e.deltaY,-16,16);let{scrollLeft:n}=this.state;n+=t,n=Object(m.c)(n,0,this.container.clientWidth),this.setState({scrollLeft:n}),e.preventDefault()}),this.onDoubleClick=(e=>{this.props.onDoubleClick()}),this.setContainerRef=(e=>{this.container=e})}render(){const{onDoubleClick:e,children:t,commands:n}=this.props;return i.createElement("div",{className:"tabs-container"},i.createElement("div",{ref:this.setContainerRef,className:"tabs-tab-container",onWheel:this.onWheel,onDoubleClick:this.onDoubleClick},t),i.createElement("div",{className:"tabs-command-container"},n))}componentDidUpdate(){this.container.scrollLeft=this.state.scrollLeft}}q.defaultProps={onDoubleClick:()=>{}};class G extends i.PureComponent{constructor(){super(...arguments),this.onMouseHandle=((e,t)=>{e.stopPropagation(),t(this.props.value)}),this.onClick=(e=>{this.onMouseHandle(e,this.props.onClick)}),this.onDoubleClick=(e=>{this.onMouseHandle(e,this.props.onDoubleClick)}),this.onClose=(e=>{this.onMouseHandle(e,this.props.onClose)})}render(){const{label:e,icon:t,isActive:n,isMarked:r,isItalic:s}=this.props;let o="tab";return n&&(o+=" active"),r&&(o+=" marked"),s&&(o+=" italic"),i.createElement("div",{className:o,onClick:this.onClick,onDoubleClick:this.onDoubleClick},i.createElement("div",{className:"monaco-icon-label file-icon "+t}),i.createElement("div",{className:"label"},e),i.createElement("div",{className:"close",onClick:this.onClose}))}}G.defaultProps={onClick:()=>{},onDoubleClick:()=>{},onClose:()=>{}};class $ extends i.Component{constructor(e){super(e),this.state={html:"Loading ..."}}async componentDidMount(){const e=await c.a.compileMarkdownToHtml(this.props.src);this.setState({html:e})}async componentWillReceiveProps(e){if(this.props.src!==e.src){const t=await c.a.compileMarkdownToHtml(e.src);this.setState({html:t})}}render(){return i.createElement("div",{style:{padding:"8px",height:"100%",overflow:"scroll"},className:"md",dangerouslySetInnerHTML:{__html:this.state.html}})}}class J extends i.Component{constructor(e){super(e),this.onDidChangeBuffer=(()=>{this.setState({markdown:this.props.view.file.buffer.getValue()})}),this.state={markdown:this.props.view.file.buffer.getValue()}}componentDidMount(){this.props.view.file.onDidChangeBuffer.register(this.onDidChangeBuffer)}componentWillUnmount(){this.props.view.file.onDidChangeBuffer.unregister(this.onDidChangeBuffer)}componentWillReceiveProps(e){const t=this.props.view,n=e.view;t!==n&&(t.file.onDidChangeBuffer.unregister(this.onDidChangeBuffer),n.file.onDidChangeBuffer.register(this.onDidChangeBuffer),this.setState({markdown:e.view.file.buffer.getValue()}))}render(){return i.createElement($,{src:this.state.markdown})}}class K extends i.Component{render(){let e="button ";return this.props.customClassName&&(e+=this.props.customClassName),this.props.isDisabled&&(e+=" disabled"),i.createElement("div",{className:e,onClick:()=>{this.props.onClick&&!this.props.isDisabled&&this.props.onClick()},title:this.props.title},this.props.icon," ",this.props.label)}}class X extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-repo-forked",viewBox:"0 0 10 16",version:"1.1",width:"10",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M8 1a1.993 1.993 0 0 0-1 3.72V6L5 8 3 6V4.72A1.993 1.993 0 0 0 2 1a1.993 1.993 0 0 0-1 3.72V6.5l3 3v1.78A1.993 1.993 0 0 0 5 15a1.993 1.993 0 0 0 1-3.72V9.5l3-3V4.72A1.993 1.993 0 0 0 8 1zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3 10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zm3-10c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"}))}}class Q extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-beaker",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M14.38 14.59L11 7V3h1V2H3v1h1v4L.63 14.59A1 1 0 0 0 1.54 16h11.94c.72 0 1.2-.75.91-1.41h-.01zM3.75 10L5 7V3h5v4l1.25 3h-7.5zM8 8h1v1H8V8zM7 7H6V6h1v1zm0-3h1v1H7V4zm0-3H6V0h1v1z"}))}}class Y extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-gear",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"}))}}class Z extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-gear",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("defs",null,i.createElement("clipPath",{id:"cut-off-beaker"},i.createElement("rect",{x:"0",y:"0",width:"7",height:"16"})),i.createElement("clipPath",{id:"cut-off-gear"},i.createElement("rect",{x:"7",y:"0",width:"7",height:"16"}))),i.createElement("g",null,i.createElement("path",{fillRule:"evenodd",clipPath:"url(#cut-off-beaker)",d:"M14.38 14.59L11 7V3h1V2H3v1h1v4L.63 14.59A1 1 0 0 0 1.54 16h11.94c.72 0 1.2-.75.91-1.41h-.01zM3.75 10L5 7V3h5v4l1.25 3h-7.5zM8 8h1v1H8V8zM7 7H6V6h1v1zm0-3h1v1H7V4zm0-3H6V0h1v1z"})),i.createElement("g",null,i.createElement("path",{fillRule:"evenodd",clipPath:"url(#cut-off-gear)",d:"M14 8.77v-1.6l-1.94-.64-.45-1.09.88-1.84-1.13-1.13-1.81.91-1.09-.45-.69-1.92h-1.6l-.63 1.94-1.11.45-1.84-.88-1.13 1.13.91 1.81-.45 1.09L0 7.23v1.59l1.94.64.45 1.09-.88 1.84 1.13 1.13 1.81-.91 1.09.45.69 1.92h1.59l.63-1.94 1.11-.45 1.84.88 1.13-1.13-.92-1.81.47-1.09L14 8.75v.02zM7 11c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"})))}}class ee extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-book",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M3 5h4v1H3V5zm0 3h4V7H3v1zm0 2h4V9H3v1zm11-5h-4v1h4V5zm0 2h-4v1h4V7zm0 2h-4v1h4V9zm2-6v9c0 .55-.45 1-1 1H9.5l-1 1-1-1H2c-.55 0-1-.45-1-1V3c0-.55.45-1 1-1h5.5l1 1 1-1H15c.55 0 1 .45 1 1zm-8 .5L7.5 3H2v9h6V3.5zm7-.5H9.5l-.5.5V12h6V3z"}))}}class te extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-rocket",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M12.17 3.83c-.27-.27-.47-.55-.63-.88-.16-.31-.27-.66-.34-1.02-.58.33-1.16.7-1.73 1.13-.58.44-1.14.94-1.69 1.48-.7.7-1.33 1.81-1.78 2.45H3L0 10h3l2-2c-.34.77-1.02 2.98-1 3l1 1c.02.02 2.23-.64 3-1l-2 2v3l3-3v-3c.64-.45 1.75-1.09 2.45-1.78.55-.55 1.05-1.13 1.47-1.7.44-.58.81-1.16 1.14-1.72-.36-.08-.7-.19-1.03-.34a3.39 3.39 0 0 1-.86-.63M16 0s-.09.38-.3 1.06c-.2.7-.55 1.58-1.06 2.66-.7-.08-1.27-.33-1.66-.72-.39-.39-.63-.94-.7-1.64C13.36.84 14.23.48 14.92.28 15.62.08 16 0 16 0"}))}}class ne extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-pencil",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39 1.02 0 1.41z"}))}}class ie extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-file",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M6 5H2V4h4v1zM2 8h7V7H2v1zm0 2h7V9H2v1zm0 2h7v-1H2v1zm10-7.5V14c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1V2c0-.55.45-1 1-1h7.5L12 4.5zM11 5L8 2H1v12h10V5z"}))}}class re extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-file-directory",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("path",{"fill-rule":"evenodd",d:"M13 4H7V3c0-.66-.31-1-1-1H1c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1V5c0-.55-.45-1-1-1zM6 4H1V3h5v1z"}))}}class se extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-desktop-download",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M4 6h3V0h2v6h3l-4 4-4-4zm11-4h-4v1h4v8H1V3h4V2H1c-.55 0-1 .45-1 1v9c0 .55.45 1 1 1h5.34c-.25.61-.86 1.39-2.34 2h8c-1.48-.61-2.09-1.39-2.34-2H15c.55 0 1-.45 1-1V3c0-.55-.45-1-1-1z"}))}}class oe extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-x",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48z"}))}}class ae extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-three-bars",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},i.createElement("path",{fillRule:"evenodd",d:"M11.41 9H.59C0 9 0 8.59 0 8c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zm0-4H.59C0 5 0 4.59 0 4c0-.59 0-1 .59-1H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1h.01zM.59 11H11.4c.59 0 .59.41.59 1 0 .59 0 1-.59 1H.59C0 13 0 12.59 0 12c0-.59 0-1 .59-1z"}))}}class le extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-gist",viewBox:"0 0 12 16",version:"1.1",width:"12",height:"16","aria-hidden":"true"},i.createElement("path",{"fill-rule":"evenodd",d:"M7.5 5L10 7.5 7.5 10l-.75-.75L8.5 7.5 6.75 5.75 7.5 5zm-3 0L2 7.5 4.5 10l.75-.75L3.5 7.5l1.75-1.75L4.5 5zM0 13V2c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v11c0 .55-.45 1-1 1H1c-.55 0-1-.45-1-1zm1 0h10V2H1v11z"}))}}class ce extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-issue-opened",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("path",{"fill-rule":"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))}}class ue extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-question",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("path",{"fill-rule":"evenodd",d:"M6 10h2v2H6v-2zm4-3.5C10 8.64 8 9 8 9H6c0-.55.45-1 1-1h.5c.28 0 .5-.22.5-.5v-1c0-.28-.22-.5-.5-.5h-1c-.28 0-.5.22-.5.5V7H4c0-1.5 1.5-3 3-3s3 1 3 2.5zM7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7z"}))}}class de extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-clippy",viewBox:"0 0 12 14",version:"1.1",width:"12",height:"14","aria-hidden":"true"},i.createElement("path",{"fill-rule":"evenodd",d:"M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z"}))}}class he extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-eye",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16"},i.createElement("path",{d:"M8.06 2C3 2 0 8 0 8s3 6 8.06 6C13 14 16 8 16 8s-3-6-7.94-6zM8 12c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4zm2-4c0 1.11-.89 2-2 2-1.11 0-2-.89-2-2 0-1.11.89-2 2-2 1.11 0 2 .89 2 2z"}))}}class pe extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-code",viewBox:"0 0 14 16",version:"1.1",width:"14",height:"16","aria-hidden":"true"},i.createElement("path",{"fill-rule":"evenodd",d:"M9.5 3L8 4.5 11.5 8 8 11.5 9.5 13 14 8 9.5 3zm-5 0L0 8l4.5 5L6 11.5 2.5 8 6 4.5 4.5 3z"}))}}class fe extends i.PureComponent{render(){return i.createElement("svg",{className:"octicon octicon-cloud-upload",viewBox:"0 0 16 16",version:"1.1",width:"16",height:"16","aria-hidden":"true"},i.createElement("path",{"fill-rule":"evenodd",d:"M7 9H5l3-3 3 3H9v5H7V9zm5-4c0-.44-.91-3-4.5-3C5.08 2 3 3.92 3 6 1.02 6 0 7.52 0 9c0 1.53 1 3 3 3h3v-1.3H3c-1.62 0-1.7-1.42-1.7-1.7 0-.17.05-1.7 1.7-1.7h1.3V6c0-1.39 1.56-2.7 3.2-2.7 2.55 0 3.13 1.55 3.2 1.8v1.2H12c.81 0 2.7.22 2.7 2.2 0 2.09-2.25 2.2-2.7 2.2h-2V12h2c2.08 0 4-1.16 4-3.5C16 6.06 14.08 5 12 5z"}))}}const me=["#ead780","#efb8f6","#89ee39","#bbc3fe","#cbed3a","#d0cdee","#7aec58","#f2bcd5","#35ed72","#cbd5e7","#e2de49","#79d8f6","#f3c63e","#66e9de","#bee869","#e6cdc7","#71ec77","#f3bea5","#67eb8f","#edca95","#53efb6","#ebe8c8","#a0eb7f","#b3e1e0","#d3e484","#8de6c0","#bfee98","#c0e0c5","#88e99a","#cee1a8","#8be8ad","#a6e0a3"];function ge(e,t){let n=e.toString(16).toUpperCase();for(;n.length<t;)n="0"+n;return n}class be extends i.Component{constructor(e){super(e),this.onDidChangeData=(()=>{const e=this.props.view.file.getData();this.setState({data:e})});const t=this.props.view.file.getData();this.state={data:t}}componentDidMount(){this.props.view.file.onDidChangeData.register(this.onDidChangeData)}componentWillUnmount(){this.props.view.file.onDidChangeData.unregister(this.onDidChangeData)}componentWillReceiveProps(e){const t=this.props.view,n=e.view;t!==n&&(t.file.onDidChangeData.unregister(this.onDidChangeData),n.file.onDidChangeData.register(this.onDidChangeData))}render(){const e=new Uint8Array(this.state.data),t=Math.max(1,Math.ceil(e.length/16)),n=[];for(let r=0;r<t;r++){const t=16*r,s=Math.min(e.length-t,16),o=[];let a="";for(let n=0;n<s;n++){const r=e[t+n];o.push(i.createElement("span",{className:"byte",style:{color:me[31&r]}},ge(r,2))),a+=r>=32&&r<127?String.fromCharCode(r):"."}n.push(i.createElement("div",{className:"row"},i.createElement("div",null,i.createElement("span",{className:"address"},"0x"+ge(t,8)),i.createElement("span",{className:"bytes"},o),i.createElement("span",null,a))))}return i.createElement("div",{className:"binary"},n)}}function ve(){return"undefined"!=typeof Viz}const ye=500;class we extends i.Component{constructor(e){super(e),this.updateTimeout=0,this.onDidChangeBuffer=(()=>{this.updateTimeout&&window.clearTimeout(this.updateTimeout),this.updateTimeout=window.setTimeout(()=>{this.updateTimeout=0,this.setState({content:this.props.view.file.buffer.getValue()})},ye)}),this.state={isVisLoaded:ve(),content:this.props.view.file.buffer.getValue()}}async componentWillMount(){this.state.isVisLoaded||(await async function(){await c.a.lazyLoad("lib/viz-lite.js")}(),this.setState({isVisLoaded:ve()}))}componentDidMount(){this.props.view.file.onDidChangeBuffer.register(this.onDidChangeBuffer)}componentWillUnmount(){this.props.view.file.onDidChangeBuffer.unregister(this.onDidChangeBuffer)}componentWillReceiveProps(e){const t=this.props.view,n=e.view;t!==n&&(t.file.onDidChangeBuffer.unregister(this.onDidChangeBuffer),n.file.onDidChangeBuffer.register(this.onDidChangeBuffer))}render(){if(!this.state.isVisLoaded)return i.createElement("div",null,"Loading GraphViz, please wait ...");try{const e=Viz(this.state.content);return i.createElement("div",{style:{width:"100%",height:"100%",overflow:"scroll"},dangerouslySetInnerHTML:{__html:e}})}catch(e){return i.createElement("div",null,"GraphViz Error")}}}class Ce extends i.Component{constructor(e){super(e),this.onFileDidChangeDirty=(()=>{this.forceUpdate()}),this.status={push:j,pop:A,logLn:S}}renderViewCommands(){const{view:e}=this.props,t=[i.createElement(K,{key:"split",icon:i.createElement(ee,null),title:"Split Editor",onClick:()=>this.props.onSplitViews()}),i.createElement(K,{key:"save",icon:i.createElement(de,null),label:"Save",title:"Save: CtrlCmd + S",isDisabled:this.props.view&&!this.props.view.file.isDirty,onClick:()=>{this.props.view.file.save(this.status)}})];if(e.file.type===l.d.Markdown){const n=e.type===d.Markdown;t.unshift(i.createElement(K,{key:"toggle",icon:n?i.createElement(pe,null):i.createElement(he,null),title:n?"Edit Markdown":"Preview Markdown",onClick:()=>this.props.onChangeViewType(e,n?d.Editor:d.Markdown)}))}else if(e.file.type===l.d.DOT){const n=e.type===d.Viz;t.unshift(i.createElement(K,{key:"toggle",icon:n?i.createElement(pe,null):i.createElement(he,null),title:n?"Edit GraphViz DOT File":"Preview GraphViz DOT File",onClick:()=>this.props.onChangeViewType(e,n?d.Editor:d.Viz)}))}return t}componentDidMount(){v.onDidChangeDirty.register(this.onFileDidChangeDirty)}componentWillUnmount(){v.onDidChangeDirty.unregister(this.onFileDidChangeDirty)}render(){const{onClickView:e,onDoubleClickView:t,onClose:n,view:r,views:s,preview:o,hasFocus:a}=this.props;if(!r)return i.createElement("div",null);const{file:c}=r;let u;if(c&&c.type===l.d.Markdown&&r.type===d.Markdown)u=i.createElement(J,{view:r});else if(c&&c.type===l.d.DOT&&r.type===d.Viz)u=i.createElement(we,{view:r});else if(r.type===d.Binary)u=i.createElement(be,{view:r});else{if(!c)return i.createElement("div",{className:"editor-pane-container empty"});u=i.createElement(H,{view:r,options:{readOnly:c.isBufferReadOnly}})}let h="editor-pane-container";return a||(h+=" blurred"),i.createElement("div",{className:h,onClick:this.props.onFocus},i.createElement(q,{onDoubleClick:()=>this.props.onNewFile(),commands:this.renderViewCommands()},s.map(s=>{const{file:a}=s;let c=a.name;return s.type===d.Binary?c="Binary "+c:s.type!==d.Markdown&&s.type!==d.Viz||(c="Preview "+c),i.createElement(G,{key:a.key,label:c,value:s,icon:Object(l.k)(a.type),isMarked:a.isDirty,isActive:s===r,isItalic:s===o,onClick:e,onDoubleClick:t,onClose:n})})),i.createElement("div",{style:{height:"calc(100% - 40px)"}},u))}}Ce.defaultProps={view:null,views:[],onChangeViewType:(e,t)=>{},onNewFile:()=>{},onSplitViews:()=>{}};class Ee extends i.Component{render(){return i.createElement("div",{className:"toolbar"},this.props.children)}}let xe=null;function _e(){const e=monaco.languages.CompletionItemKind.Keyword;return xe||(xe=[{label:"module",documentation:"",kind:e,insertText:"module"},{label:"func",documentation:"function declaration",kind:e,insertText:"func"},{label:"param",documentation:"parameter",kind:e,insertText:{value:"param ${1:identifier} ${2:type}"}},{label:"i32",documentation:"32-bit integer",kind:e,insertText:"i32"},{label:"i64",documentation:"64-bit integer",kind:e,insertText:"i64"},{label:"f32",documentation:"32-bit floating point",kind:e,insertText:"f32"},{label:"f64",documentation:"64-bit floating point",kind:e,insertText:"f64"},{label:"anyfunc",documentation:"function reference",kind:e,insertText:"anyfunc"},{label:"i32.load8_s",documentation:"load 1 byte and sign-extend i8 to i32",kind:e,insertText:"i32.load8_s"},{label:"i32.load8_u",documentation:"load 1 byte and zero-extend i8 to i32",kind:e,insertText:"i32.load8_u"},{label:"i32.load16_s",documentation:"load 2 bytes and sign-extend i16 to i32",kind:e,insertText:"i32.load16_s"},{label:"i32.load16_u",documentation:"load 2 bytes and zero-extend i16 to i32",kind:e,insertText:"i32.load16_u"},{label:"i32.load",documentation:"load 4 bytes as i32",kind:e,insertText:"i32.load"},{label:"i64.load8_s",documentation:"load 1 byte and sign-extend i8 to i64",kind:e,insertText:"i64.load8_s"},{label:"i64.load8_u",documentation:"load 1 byte and zero-extend i8 to i64",kind:e,insertText:"i64.load8_u"},{label:"i64.load16_s",documentation:"load 2 bytes and sign-extend i16 to i64",kind:e,insertText:"i64.load16_s"},{label:"i64.load16_u",documentation:"load 2 bytes and zero-extend i16 to i64",kind:e,insertText:"i64.load16_u"},{label:"i64.load32_s",documentation:"load 4 bytes and sign-extend i32 to i64",kind:e,insertText:"i64.load32_s"},{label:"i64.load32_u",documentation:"load 4 bytes and zero-extend i32 to i64",kind:e,insertText:"i64.load32_u"},{label:"i64.load",documentation:"load 8 bytes as i64",kind:e,insertText:"i64.load"},{label:"f32.load",documentation:"load 4 bytes as f32",kind:e,insertText:"f32.load"},{label:"f64.load",documentation:"load 8 bytes as f64",kind:e,insertText:"f64.load"},{label:"i32.store8",documentation:"wrap i32 to i8 and store 1 byte",kind:e,insertText:"i32.store8"},{label:"i32.store16",documentation:"wrap i32 to i16 and store 2 bytes",kind:e,insertText:"i32.store16"},{label:"i32.store",documentation:"(no conversion) store 4 bytes",kind:e,insertText:"i32.store"},{label:"i64.store8",documentation:"wrap i64 to i8 and store 1 byte",kind:e,insertText:"i64.store8"},{label:"i64.store16",documentation:"wrap i64 to i16 and store 2 bytes",kind:e,insertText:"i64.store16"},{label:"i64.store32",documentation:"wrap i64 to i32 and store 4 bytes",kind:e,insertText:"i64.store32"},{label:"i64.store",documentation:"(no conversion) store 8 bytes",kind:e,insertText:"i64.store"},{label:"f32.store",documentation:"(no conversion) store 4 bytes",kind:e,insertText:"f32.store"},{label:"f64.store",documentation:"(no conversion) store 8 bytes",kind:e,insertText:"f64.store"},{label:"get_local",documentation:"read the current value of a local variable",kind:e,insertText:"get_local"},{label:"set_local",documentation:"set the current value of a local variable",kind:e,insertText:"set_local"},{label:"tee_local",documentation:"like `set_local`, but also returns the set value",kind:e,insertText:"tee_local"},{label:"get_global",documentation:"get the current value of a global variable",kind:e,insertText:"get_global"},{label:"set_global",documentation:"set the current value of a global variable",kind:e,insertText:"set_global"},{label:"nop",documentation:"no operation, no effect",kind:e,insertText:"nop"},{label:"block",documentation:"the beginning of a block construct, a sequence of instructions with a label at the end",kind:e,insertText:"block"},{label:"loop",documentation:"a block with a label at the beginning which may be used to form loops",kind:e,insertText:"loop"},{label:"if",documentation:"the beginning of an if construct with an implicit *then* block",kind:e,insertText:"if"},{label:"else",documentation:"marks the else block of an if",kind:e,insertText:"else"},{label:"br",documentation:"branch to a given label in an enclosing construct",kind:e,insertText:"br"},{label:"br_if",documentation:"conditionally branch to a given label in an enclosing construct",kind:e,insertText:"br_if"},{label:"br_table",documentation:"a jump table which jumps to a label in an enclosing construct",kind:e,insertText:"br_table"},{label:"return",documentation:"return zero or more values from this function",kind:e,insertText:"return"},{label:"end",documentation:"an instruction that marks the end of a block, loop, if, or function",kind:e,insertText:"end"},{label:"call",documentation:"call function directly",kind:e,insertText:"call"},{label:"call_indirect",documentation:"call function indirectly",kind:e,insertText:"call_indirect"},{label:"i64.const",documentation:"produce the value of an i64 immediate",kind:e,insertText:{value:"i64.const ${1:constant}"}},{label:"i32.const",documentation:"produce the value of an i32 immediate",kind:e,insertText:{value:"i32.const ${1:constant}"}},{label:"f32.const",documentation:"produce the value of an f32 immediate",kind:e,insertText:{value:"f32.const ${1:constant}"}},{label:"f64.const",documentation:"produce the value of an f64 immediate",kind:e,insertText:{value:"f64.const ${1:constant}"}},{label:"i32.add",documentation:"sign-agnostic addition",kind:e,insertText:"i32.add"},{label:"i32.sub",documentation:"sign-agnostic subtraction",kind:e,insertText:"i32.sub"},{label:"i32.mul",documentation:"sign-agnostic multiplication (lower 32-bits)",kind:e,insertText:"i32.mul"},{label:"i32.div_s",documentation:"signed division (result is truncated toward zero)",kind:e,insertText:"i32.div_s"},{label:"i32.div_u",documentation:"unsigned division (result is [floored](https://en.wikipedia.org/wiki/Floor_and_ceiling_functions))",kind:e,insertText:"i32.div_u"},{label:"i32.rem_s",documentation:"signed remainder (result has the sign of the dividend)",kind:e,insertText:"i32.rem_s"},{label:"i32.rem_u",documentation:"unsigned remainder",kind:e,insertText:"i32.rem_u"},{label:"i32.and",documentation:"sign-agnostic bitwise and",kind:e,insertText:"i32.and"},{label:"i32.or",documentation:"sign-agnostic bitwise inclusive or",kind:e,insertText:"i32.or"},{label:"i32.xor",documentation:"sign-agnostic bitwise exclusive or",kind:e,insertText:"i32.xor"},{label:"i32.shl",documentation:"sign-agnostic shift left",kind:e,insertText:"i32.shl"},{label:"i32.shr_u",documentation:"zero-replicating (logical) shift right",kind:e,insertText:"i32.shr_u"},{label:"i32.shr_s",documentation:"sign-replicating (arithmetic) shift right",kind:e,insertText:"i32.shr_s"},{label:"i32.rotl",documentation:"sign-agnostic rotate left",kind:e,insertText:"i32.rotl"},{label:"i32.rotr",documentation:"sign-agnostic rotate right",kind:e,insertText:"i32.rotr"},{label:"i32.eq",documentation:"sign-agnostic compare equal",kind:e,insertText:"i32.eq"},{label:"i32.ne",documentation:"sign-agnostic compare unequal",kind:e,insertText:"i32.ne"},{label:"i32.lt_s",documentation:"signed less than",kind:e,insertText:"i32.lt_s"},{label:"i32.le_s",documentation:"signed less than or equal",kind:e,insertText:"i32.le_s"},{label:"i32.lt_u",documentation:"unsigned less than",kind:e,insertText:"i32.lt_u"},{label:"i32.le_u",documentation:"unsigned less than or equal",kind:e,insertText:"i32.le_u"},{label:"i32.gt_s",documentation:"signed greater than",kind:e,insertText:"i32.gt_s"},{label:"i32.ge_s",documentation:"signed greater than or equal",kind:e,insertText:"i32.ge_s"},{label:"i32.gt_u",documentation:"unsigned greater than",kind:e,insertText:"i32.gt_u"},{label:"i32.ge_u",documentation:"unsigned greater than or equal",kind:e,insertText:"i32.ge_u"},{label:"i32.clz",documentation:"sign-agnostic count leading zero bits (All zero bits are considered leading if the value is zero)",kind:e,insertText:"i32.clz"},{label:"i32.ctz",documentation:"sign-agnostic count trailing zero bits (All zero bits are considered trailing if the value is zero)",kind:e,insertText:"i32.ctz"},{label:"i32.popcnt",documentation:"sign-agnostic count number of one bits",kind:e,insertText:"i32.popcnt"},{label:"i32.eqz",documentation:"compare equal to zero (return 1 if operand is zero, 0 otherwise)",kind:e,insertText:"i32.eqz"},{label:"f32.add",documentation:"addition",kind:e,insertText:"f32.add"},{label:"f32.sub",documentation:"subtraction",kind:e,insertText:"f32.sub"},{label:"f32.mul",documentation:"multiplication",kind:e,insertText:"f32.mul"},{label:"f32.div",documentation:"division",kind:e,insertText:"f32.div"},{label:"f32.abs",documentation:"absolute value",kind:e,insertText:"f32.abs"},{label:"f32.neg",documentation:"negation",kind:e,insertText:"f32.neg"},{label:"f32.copysign",documentation:"copysign",kind:e,insertText:"f32.copysign"},{label:"f32.ceil",documentation:"ceiling operator",kind:e,insertText:"f32.ceil"},{label:"f32.floor",documentation:"floor operator",kind:e,insertText:"f32.floor"},{label:"f32.trunc",documentation:"round to nearest integer towards zero",kind:e,insertText:"f32.trunc"},{label:"f32.nearest",documentation:"round to nearest integer, ties to even",kind:e,insertText:"f32.nearest"},{label:"f32.eq",documentation:"compare ordered and equal",kind:e,insertText:"f32.eq"},{label:"f32.ne",documentation:"compare unordered or unequal",kind:e,insertText:"f32.ne"},{label:"f32.lt",documentation:"compare ordered and less than",kind:e,insertText:"f32.lt"},{label:"f32.le",documentation:"compare ordered and less than or equal",kind:e,insertText:"f32.le"},{label:"f32.gt",documentation:"compare ordered and greater than",kind:e,insertText:"f32.gt"},{label:"f32.ge",documentation:"compare ordered and greater than or equal",kind:e,insertText:"f32.ge"},{label:"f32.sqrt",documentation:"square root",kind:e,insertText:"f32.sqrt"},{label:"f32.min",documentation:"minimum (binary operator); if either operand is NaN, returns NaN",kind:e,insertText:"f32.min"},{label:"f32.max",documentation:"maximum (binary operator); if either operand is NaN, returns NaN",kind:e,insertText:"f32.max"},{label:"f64.add",documentation:"addition",kind:e,insertText:"f64.add"},{label:"f64.sub",documentation:"subtraction",kind:e,insertText:"f64.sub"},{label:"f64.mul",documentation:"multiplication",kind:e,insertText:"f64.mul"},{label:"f64.div",documentation:"division",kind:e,insertText:"f64.div"},{label:"f64.abs",documentation:"absolute value",kind:e,insertText:"f64.abs"},{label:"f64.neg",documentation:"negation",kind:e,insertText:"f64.neg"},{label:"f64.copysign",documentation:"copysign",kind:e,insertText:"f64.copysign"},{label:"f64.ceil",documentation:"ceiling operator",kind:e,insertText:"f64.ceil"},{label:"f64.floor",documentation:"floor operator",kind:e,insertText:"f64.floor"},{label:"f64.trunc",documentation:"round to nearest integer towards zero",kind:e,insertText:"f64.trunc"},{label:"f64.nearest",documentation:"round to nearest integer, ties to even",kind:e,insertText:"f64.nearest"},{label:"f64.eq",documentation:"compare ordered and equal",kind:e,insertText:"f64.eq"},{label:"f64.ne",documentation:"compare unordered or unequal",kind:e,insertText:"f64.ne"},{label:"f64.lt",documentation:"compare ordered and less than",kind:e,insertText:"f64.lt"},{label:"f64.le",documentation:"compare ordered and less than or equal",kind:e,insertText:"f64.le"},{label:"f64.gt",documentation:"compare ordered and greater than",kind:e,insertText:"f64.gt"},{label:"f64.ge",documentation:"compare ordered and greater than or equal",kind:e,insertText:"f64.ge"},{label:"f64.sqrt",documentation:"square root",kind:e,insertText:"f64.sqrt"},{label:"f64.min",documentation:"minimum (binary operator); if either operand is NaN, returns NaN",kind:e,insertText:"f64.min"},{label:"f64.max",documentation:"maximum (binary operator); if either operand is NaN, returns NaN",kind:e,insertText:"f64.max"},{label:"i32.wrap/i64",documentation:"wrap a 64-bit integer to a 32-bit integer",kind:e,insertText:"i32.wrap/i64"},{label:"i32.trunc_s/f32",documentation:"truncate a 32-bit float to a signed 32-bit integer",kind:e,insertText:"i32.trunc_s/f32"},{label:"i32.trunc_s/f64",documentation:"truncate a 64-bit float to a signed 32-bit integer",kind:e,insertText:"i32.trunc_s/f64"},{label:"i32.trunc_u/f32",documentation:"truncate a 32-bit float to an unsigned 32-bit integer",kind:e,insertText:"i32.trunc_u/f32"},{label:"i32.trunc_u/f64",documentation:"truncate a 64-bit float to an unsigned 32-bit integer",kind:e,insertText:"i32.trunc_u/f64"},{label:"i32.reinterpret/f32",documentation:"reinterpret the bits of a 32-bit float as a 32-bit integer",kind:e,insertText:"i32.reinterpret/f32"},{label:"i64.extend_s/i32",documentation:"extend a signed 32-bit integer to a 64-bit integer",kind:e,insertText:"i64.extend_s/i32"},{label:"i64.extend_u/i32",documentation:"extend an unsigned 32-bit integer to a 64-bit integer",kind:e,insertText:"i64.extend_u/i32"},{label:"i64.trunc_s/f32",documentation:"truncate a 32-bit float to a signed 64-bit integer",kind:e,insertText:"i64.trunc_s/f32"},{label:"i64.trunc_s/f64",documentation:"truncate a 64-bit float to a signed 64-bit integer",kind:e,insertText:"i64.trunc_s/f64"},{label:"i64.trunc_u/f32",documentation:"truncate a 32-bit float to an unsigned 64-bit integer",kind:e,insertText:"i64.trunc_u/f32"},{label:"i64.trunc_u/f64",documentation:"truncate a 64-bit float to an unsigned 64-bit integer",kind:e,insertText:"i64.trunc_u/f64"},{label:"i64.reinterpret/f64",documentation:"reinterpret the bits of a 64-bit float as a 64-bit integer",kind:e,insertText:"i64.reinterpret/f64"},{label:"f32.demote/f64",documentation:"demote a 64-bit float to a 32-bit float",kind:e,insertText:"f32.demote/f64"},{label:"f32.convert_s/i32",documentation:"convert a signed 32-bit integer to a 32-bit float",kind:e,insertText:"f32.convert_s/i32"},{label:"f32.convert_s/i64",documentation:"convert a signed 64-bit integer to a 32-bit float",kind:e,insertText:"f32.convert_s/i64"},{label:"f32.convert_u/i32",documentation:"convert an unsigned 32-bit integer to a 32-bit float",kind:e,insertText:"f32.convert_u/i32"},{label:"f32.convert_u/i64",documentation:"convert an unsigned 64-bit integer to a 32-bit float",kind:e,insertText:"f32.convert_u/i64"},{label:"f32.reinterpret/i32",documentation:"reinterpret the bits of a 32-bit integer as a 32-bit float",kind:e,insertText:"f32.reinterpret/i32"},{label:"f64.promote/f32",documentation:"promote a 32-bit float to a 64-bit float",kind:e,insertText:"f64.promote/f32"},{label:"f64.convert_s/i32",documentation:"convert a signed 32-bit integer to a 64-bit float",kind:e,insertText:"f64.convert_s/i32"},{label:"f64.convert_s/i64",documentation:"convert a signed 64-bit integer to a 64-bit float",kind:e,insertText:"f64.convert_s/i64"},{label:"f64.convert_u/i32",documentation:"convert an unsigned 32-bit integer to a 64-bit float",kind:e,insertText:"f64.convert_u/i32"},{label:"f64.convert_u/i64",documentation:"convert an unsigned 64-bit integer to a 64-bit float",kind:e,insertText:"f64.convert_u/i64"},{label:"f64.reinterpret/i64",documentation:"reinterpret the bits of a 64-bit integer as a 64-bit float",kind:e,insertText:"f64.reinterpret/i64"},{label:"current_memory",documentation:"current memory size in 64k pages",kind:e,insertText:"current_memory"},{label:"grow_memory",documentation:"grow memory size by the specified amount of 64k pages",kind:e,insertText:"grow_memory"}])}const ke={MonarchDefinitions:{keywords:["module","table","memory","export","import","func","result","offset","anyfunc","type","data","start","element","global","local","mut","param","result","i32.load8_s","i32.load8_u","i32.load16_s","i32.load16_u","i32.load","i64.load8_s","i64.load8_u","i64.load16_s","i64.load16_u","i64.load32_s","i64.load32_u","i64.load","f32.load","f64.load","i32.store8","i32.store16","i32.store","i64.store8","i64.store16","i64.store32","i64.store","f32.store","f64.store","i32.const","i64.const","f32.const","f64.const","i32.add","i32.sub","i32.mul","i32.div_s","i32.div_u","i32.rem_s","i32.rem_u","i32.and","i32.or","i32.xor","i32.shl","i32.shr_u","i32.shr_s","i32.rotl","i32.rotr","i32.eq","i32.ne","i32.lt_s","i32.le_s","i32.lt_u","i32.le_u","i32.gt_s","i32.ge_s","i32.gt_u","i32.ge_u","i32.clz","i32.ctz","i32.popcnt","i32.eqz","f32.add","f32.sub","f32.mul","f32.div","f32.abs","f32.neg","f32.copysign","f32.ceil","f32.floor","f32.trunc","f32.nearest","f32.eq","f32.ne","f32.lt","f32.le","f32.gt","f32.ge","f32.sqrt","f32.min","f32.max","f64.add","f64.sub","f64.mul","f64.div","f64.abs","f64.neg","f64.copysign","f64.ceil","f64.floor","f64.trunc","f64.nearest","f64.eq","f64.ne","f64.lt","f64.le","f64.gt","f64.ge","f64.sqrt","f64.min","f64.max","i32.wrap/i64","i32.trunc_s/f32","i32.trunc_s/f64","i32.trunc_u/f32","i32.trunc_u/f64","i32.reinterpret/f32","i64.extend_s/i32","i64.extend_u/i32","i64.trunc_s/f32","i64.trunc_s/f64","i64.trunc_u/f32","i64.trunc_u/f64","i64.reinterpret/f64","f32.demote/f64","f32.convert_s/i32","f32.convert_s/i64","f32.convert_u/i32","f32.convert_u/i64","f32.reinterpret/i32","f64.promote/f32","f64.convert_s/i32","f64.convert_s/i64","f64.convert_u/i32","f64.convert_u/i64","f64.reinterpret/i64","get_local","set_local","tee_local","get_global","set_global","current_memory","grow_memory"],typeKeywords:["i32","i64","f32","f64","anyfunc"],operators:[],brackets:[["(",")","bracket.parenthesis"],["{","}","bracket.curly"],["[","]","bracket.square"]],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$\.]*/,{cases:{"@keywords":"keyword","@typeKeywords":"type","@default":"type.identifier"}}],[/\d+/,"number"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/[{}()\[\]]/,"@brackets"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]]}},LanguageConfiguration:{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}]},CompletionItemProvider:{provideCompletionItems:function(e,t){return _e()}},HoverProvider:{provideHover:function(e,t){const n=e.getLineContent(t.lineNumber),{index:i,word:r}=function(e,t){const n=e.slice(0,t+1).search(/[A-Za-z0-9_\.\/]+$/),i=e.slice(t).search(/[^A-Za-z0-9_\.\/]/);return i<0?{index:n,word:e.slice(n)}:{index:n,word:e.slice(n,i+t)}}(n,t.column-1);if(!r)return;const s=_e().find(e=>e.label===r);return s?{range:new monaco.Range(t.lineNumber,i+1,t.lineNumber,i+1+r.length),contents:["**DETAILS**",{language:"html",value:s.documentation}]}:void 0}}},Se={MonarchTokensProvider:{tokenizer:{root:[[/\[error.*/,"custom-error"],[/\[warn.*/,"custom-warn"],[/\[notice.*/,"custom-notice"],[/\[info.*/,"custom-info"]]}}};let De=null;const Te={MonarchDefinitions:{defaultToken:"invalid",keywords:["abstract","alignof","as","become","box","break","const","continue","crate","do","else","enum","extern","false","final","fn","for","if","impl","in","let","loop","macro","match","mod","move","mut","offsetof","override","priv","proc","pub","pure","ref","return","Self","self","sizeof","static","struct","super","trait","true","type","typeof","unsafe","unsized","use","virtual","where","while","yield","macro_rules","block","expr","ident","item","pat","path","stmt","meta","tt","ty"],typeKeywords:["array","bool","char","f32","f64","i16","i32","i64","i8","isize","pointer","slice","str","tuple","u16","u32","u64","u8","usize","Vec","String"],operators:["=",">","<","!","~","?",":","==","<=",">=","!=","&&","||","++","--","+","-","*","/","&","|","^","%","<<",">>",">>>","+=","-=","*=","/=","&=","|=","^=","%=","<<=",">>=",">>>="],symbols:/[=><!~?:&|+\-*\/^%]+/,escapes:/\\(?:[abfnrtv\\""]|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$]*/,{cases:{"@keywords":"keyword","@typeKeywords":"keyword.type","@default":"identifier"}}],[/[A-Z][\w$]*/,"type.identifier"],{include:"@whitespace"},[/[{}()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"operator","@default":""}}],[/#!?\[[^]*\]/,"annotation"],[/#!?.*$/,"annotation.invalid"],[/\d*\.\d+([eE][\-+]?\d+)?[fFdD]?/,"number.float"],[/0[xX][0-9a-fA-F_]*[0-9a-fA-F][Ll]?/,"number.hex"],[/0[0-7_]*[0-7][Ll]?/,"number.octal"],[/0[bB][0-1_]*[0-1][Ll]?/,"number.binary"],[/\d+[lL]?/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string"],[/"[^\\"]"/,"string"],[/(")(@escapes)(")/,["string","string.escape","string"]],[/"/,"string.invalid"]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],[/\/\*/,"comment.invalid"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]]}},LanguageConfiguration:{comments:{lineComment:"//",blockComment:["/*","*/"]},brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}]},CompletionItemProvider:{provideCompletionItems:(e,t)=>(monaco.languages.CompletionItemKind.Keyword,De||(De=[]))},HoverProvider:{provideHover:(e,t)=>({range:new monaco.Range(1,1,e.getLineCount(),e.getLineMaxColumn(e.getLineCount())),contents:["**DETAILS**",{language:"html",value:"TODO"}]})}};let Oe=null;const Me={MonarchDefinitions:{keywords:["function","jump"],typeKeywords:["i32","i64","f32","f64"],operators:[],symbols:/[=><~&|+\-*\/%@#]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$\.]*/,{cases:{"@keywords":"keyword","@typeKeywords":"type","@default":"type.identifier"}}],[/\d+/,"number"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/[{}()\[\]]/,"@brackets"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/;.*$/,"comment"]]}},LanguageConfiguration:{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}]},CompletionItemProvider:{provideCompletionItems:function(e,t){return monaco.languages.CompletionItemKind.Keyword,Oe||(Oe=[])}},HoverProvider:{provideHover:function(e,t){return{range:new monaco.Range(1,1,e.getLineCount(),e.getLineMaxColumn(e.getLineCount())),contents:["**DETAILS**",{language:"html",value:"TODO"}]}}}};let je=null;const Ae={MonarchDefinitions:{defaultToken:"invalid",ignoreCase:!0,keywords:["qword","ptr"],typeKeywords:["i32","i64","f32","f64"],ops:["add","sub","mov","jmp","ret","int3","nop","cmp"],registers:["R8","R9","R10","R11","R12","R13","R14","R15","CS","DS","ES","FS","GS","SS","RAX","EAX","RBX","EBX","RCX","ECX","RDX","EDX","RCX","RIP","EIP","IP","RSP","ESP","SP","RSI","ESI","SI","RDI","EDI","DI","RFLAGS","EFLAGS","FLAGS"],escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,tokenizer:{root:[[/[a-z_$][\w$\.]*/,{cases:{"@ops":"keyword","@registers":"type","@keywords":"keyword","@typeKeywords":"keyword.type","@default":"identifier"}}],{include:"@whitespace"},[/0[xX][0-9a-fA-F]+/,"number.hex"],[/\d+/,"number"],[/[;,.]/,"delimiter"],[/"/,{token:"string.quote",bracket:"@open",next:"@string"}],[/[{}()\[\]]/,"@brackets"]],comment:[[/;.*/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,{token:"string.quote",bracket:"@close",next:"@pop"}]],whitespace:[[/[ \t\r\n]+/,"white"],[/;.*$/,"comment"]]}},LanguageConfiguration:{wordPattern:/(-?\d*\.\d\w*)|([^\`\~\!\#\%\^\&\*\(\)\-\=\+\[\{\]\}\\\|\;\:\'\"\,\.\<\>\/\?\s]+)/g,brackets:[["{","}"],["[","]"],["(",")"]],autoClosingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"}],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"<",close:">"}]},CompletionItemProvider:{provideCompletionItems:function(e,t){return monaco.languages.CompletionItemKind.Keyword,je||(je=[])}},HoverProvider:{provideHover:function(e,t){return{range:new monaco.Range(1,1,e.getLineCount(),e.getLineMaxColumn(e.getLineCount())),contents:["**DETAILS**",{language:"html",value:"TODO"}]}}}};var Pe=n(9),Ve=n(5);class Ne extends i.Component{render(){return i.createElement("div",{style:{height:this.props.height}})}}class Le extends i.Component{constructor(e){super(e)}render(){const e=i.createElement("input",{className:"text-input-box",type:"text",value:this.props.value,onChange:this.props.onChange});return this.props.label?i.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.createElement("div",{className:"text-input-box-label"},this.props.label),i.createElement("div",{style:{flex:1}},e),this.props.error&&i.createElement("div",{className:"text-input-box-error"},this.props.error)):e}}class Fe extends i.Component{setInputElement(e){this.inputElement=e}constructor(e){super(e)}open(e){this.inputElement&&"directory"===e?(this.inputElement.setAttribute("directory","true"),this.inputElement.setAttribute("webkitdirectory","true"),this.inputElement.setAttribute("allowdirs","true")):(this.inputElement.removeAttribute("directory"),this.inputElement.removeAttribute("webkitdirectory"),this.inputElement.removeAttribute("allowdirs")),this.inputElement.click()}render(){return i.createElement("input",{id:"file-upload-input",ref:e=>this.setInputElement(e),type:"file",onChange:this.props.onChange,multiple:!0,hidden:!0})}}class Re extends i.Component{render(){let e="list-item";this.props.selected&&(e+=" selected");let t=i.createElement("div",{className:"label"},this.props.label);return this.props.error&&(t=i.createElement("div",{className:"list-item-flex"},i.createElement("div",{className:"label"},this.props.label),i.createElement("div",{className:"error"},this.props.error))),i.createElement("div",{className:e,onClick:this.props.onClick},i.createElement("div",{className:"monaco-icon-label file-icon "+this.props.icon}),t)}}class We extends i.Component{constructor(e){super(e)}render(){const{children:e,onSelect:t}=this.props,n=i.Children.map(e,(e,n)=>i.cloneElement(e,{onClick:()=>t&&t(e.props.value),selected:this.props.value===e.props.value}));return i.createElement("div",{className:"list-box",style:{height:this.props.height}},n)}}class ze extends i.Component{constructor(e){super(e),this.onChangeName=(e=>{this.setState({name:e.target.value})}),this.state={fileType:l.d.C,description:"",name:""}}getNameError(){const e=this.props.directory;if(this.state.name){if(!/^[a-z0-9\.\-\_]+$/i.test(this.state.name))return"Illegal characters in file name.";if(!this.state.name.endsWith(Object(l.h)(this.state.fileType)))return Object(l.o)(this.state.fileType)+" file extension is missing.";if(e&&v.getImmediateChild(e,this.state.name))return`File '${this.state.name}' already exists.`}return""}fileName(){let e=this.state.name;const t=Object(l.h)(this.state.fileType);return e.endsWith("."+t)||(e+="."+t),e}createButtonLabel(){return"Create"}render(){return i.createElement(Ve,{isOpen:this.props.isOpen,contentLabel:"Create New File",className:"modal show-file-icons",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"Create New File"),i.createElement("div",null,i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:{width:250}},i.createElement(We,{value:this.state.fileType,height:240,onSelect:e=>{let t="";switch(e){case l.d.C:t="Creates a file containing C source code.";break;case l.d.Cpp:t="Creates a file containing C++ source code.";break;case l.d.Cretonne:t="Cretonne intermediate language (IL) source code.";break;default:t="Creates a "+Object(l.o)(e)+" file."}this.setState({fileType:e,description:t})}},i.createElement(Re,{value:l.d.C,label:"C File (.c)",icon:Object(l.k)(l.d.C)}),i.createElement(Re,{value:l.d.Cpp,label:"C++ File (.cpp)",icon:Object(l.k)(l.d.Cpp)}),i.createElement(Re,{value:l.d.Rust,label:"Rust File (.rs)",icon:Object(l.k)(l.d.Rust)}),i.createElement(Re,{value:l.d.Cretonne,label:"Cretonne (.cton)",icon:Object(l.k)(l.d.Cretonne)}),i.createElement(Re,{value:l.d.Wat,label:"Wat (.wat)",icon:Object(l.k)(l.d.Wat)}),i.createElement(Re,{value:l.d.JavaScript,label:"JavaScript (.js)",icon:Object(l.k)(l.d.JavaScript)}),i.createElement(Re,{value:l.d.TypeScript,label:"TypeScript (.ts)",icon:Object(l.k)(l.d.TypeScript)}),i.createElement(Re,{value:l.d.HTML,label:"HTML (.html)",icon:Object(l.k)(l.d.HTML)}),i.createElement(Re,{value:l.d.CSS,label:"CSS (.css)",icon:Object(l.k)(l.d.CSS)}),i.createElement(Re,{value:l.d.Markdown,label:"Markdown (.md)",icon:Object(l.k)(l.d.Markdown)}),i.createElement(Re,{value:l.d.JSON,label:"JSON (.json)",icon:Object(l.k)(l.d.JSON)}),i.createElement(Re,{value:l.d.DOT,label:"GraphViz DOT (.dot)",icon:Object(l.k)(l.d.DOT)}))),i.createElement("div",{className:"new-file-dialog-description"},this.state.description))),i.createElement("div",{style:{flex:1,padding:"8px"}},i.createElement(Le,{label:"Name: "+(this.props.directory?v.getPath(this.props.directory)+"/":""),error:this.getNameError(),value:this.state.name,onChange:this.onChangeName})),i.createElement("div",null,i.createElement(K,{icon:i.createElement(oe,null),label:"Cancel",title:"Create New File",onClick:()=>{this.props.onCancel()}}),i.createElement(K,{icon:i.createElement(ie,null),label:this.createButtonLabel(),title:"Create New File",isDisabled:!this.state.fileType||!this.state.name||!!this.getNameError(),onClick:()=>{const e=new l.c(this.fileName(),this.state.fileType);return this.props.onCreate&&this.props.onCreate(e)}}))))}}class Ie extends i.Component{constructor(e){super(e),this.onChangeName=(e=>{this.setState({name:e.target.value})}),this.onChangeDescription=(e=>{this.setState({description:e.target.value})});const{description:t,name:n,type:i}=e.file.getModel();this.state={description:t,name:n,fileType:i}}getNameError(){const e=v.getParent(this.props.file),t=v.getImmediateChild(e,this.state.name);return/^[a-z0-9\.\-\_]+$/i.test(this.state.name)?this.state.name.endsWith(Object(l.h)(this.state.fileType))?t&&this.props.file!==t?`File '${this.state.name}' already exists.`:"":Object(l.o)(this.state.fileType)+" file extension is missing.":"Illegal characters in file name."}render(){const e=this.props.file.getModel();return i.createElement(Ve,{isOpen:this.props.isOpen,contentLabel:"Edit "+(e instanceof l.a?"Directory":"File"),className:"modal",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},`Edit ${e instanceof l.a?"Directory":"File"} ${e.name}`),i.createElement("div",{style:{flex:1,padding:"8px"}},i.createElement(Le,{label:"Name:",error:this.getNameError(),value:this.state.name,onChange:this.onChangeName}),i.createElement(Ne,{height:8}),i.createElement(Le,{label:"Description:",value:this.state.description,onChange:this.onChangeDescription})),i.createElement("div",null,i.createElement(K,{icon:i.createElement(oe,null),label:"Cancel",title:"Cancel",onClick:()=>{this.props.onCancel()}}),i.createElement(K,{icon:i.createElement(ne,null),label:"Edit",title:"Edit",isDisabled:!this.state.name||!!this.getNameError(),onClick:()=>this.props.onChange&&this.props.onChange(this.state.name,this.state.description)}))))}}class Be extends i.Component{constructor(e){super(e),this.root=l.e.getRef(new l.a("root")),this.root.getModel().onDidChangeChildren.register(()=>{this.forceUpdate()})}async handleUpload(e){const t=this.root.getModel();this.setState({files:[]}),Array.from(e).forEach(async e=>{const n=e.name,i=e.webkitRelativePath||n,r=Object(l.i)(n.split(".").pop());let s;try{s=await this.readUploadedFile(e,Object(l.l)(r)?"arrayBuffer":"text"),t.newFile(i,r).setData(s)}catch(e){console.log("Unable to read the file!")}}),this.forceUpdate()}readUploadedFile(e,t){const n=new FileReader;return new Promise((i,r)=>{n.onerror=(()=>{n.abort(),r(new DOMException("Problem parsing input file."))}),n.onload=(()=>{i(n.result)}),"text"===t?n.readAsText(e):"arrayBuffer"===t?n.readAsArrayBuffer(e):Object(m.a)(!1,"NYI")})}render(){const e=this.root.getModel();return i.createElement(Ve,{isOpen:this.props.isOpen,contentLabel:"Upload",className:"modal show-file-icons",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"Upload Files & Directories to ",this.props.directory.getModel().getPath()),i.createElement("div",{className:"row"},i.createElement("div",{className:"column"},i.createElement(Fe,{ref:e=>this.uploadInput=e,onChange:e=>this.handleUpload(e.target.files)})),i.createElement("div",{className:"column",style:{height:"290px"}},i.createElement(F,{directory:this.root,onDeleteFile:e=>{e.parent.removeFile(e)}}))),i.createElement("div",null,i.createElement(K,{icon:i.createElement(oe,null),label:"Cancel",title:"Cancel",onClick:()=>{this.props.onCancel()}}),i.createElement(K,{icon:i.createElement(ie,null),label:"Files",title:"Select Files",onClick:()=>{this.uploadInput.open("files")}}),i.createElement(K,{icon:i.createElement(re,null),label:"Directory",title:"Select Directory",onClick:()=>{this.uploadInput.open("directory")}}),i.createElement(K,{icon:i.createElement(fe,null),label:"Upload",title:"Upload",isDisabled:!e.children.length,onClick:()=>this.props.onUpload&&this.props.onUpload(e.children.slice(0))}),1===e.children.length&&e.children[0]instanceof l.a&&i.createElement(K,{icon:i.createElement(fe,null),label:"Upload Root Contents",title:"Upload contents of "+e.children[0].name,onClick:()=>this.props.onUpload&&this.props.onUpload(e.children[0].children.slice(0))}))))}}class Ue extends i.Component{constructor(e){super(e),this.state={toasts:[]}}showToast(e,t="info"){const{toasts:n}=this.state;n.push({message:e,kind:t}),this.setState({toasts:n})}onDismiss(e){this.setState(t=>({toasts:t.toasts.filter((t,n)=>n!==e)}))}render(){return 0===this.state.toasts.length?null:i.createElement("div",{className:"toast-container"},this.state.toasts.map((e,t)=>i.createElement(He,{onDismiss:this.onDismiss.bind(this,t),key:t,message:e.message,kind:e.kind})))}}class He extends i.Component{render(){const{message:e,onDismiss:t}=this.props,n="toast "+this.props.kind;return i.createElement("div",{className:n},i.createElement("div",{className:"toast-header"},e,i.createElement(K,{icon:i.createElement(oe,null),customClassName:"button-toast",label:"Dismiss",title:"Dismiss",onClick:t})))}}He.defaultProps={message:null,kind:"info",onDismiss:()=>{}};class qe extends i.Component{constructor(e){super(e),this.state={}}render(){const e=`${location.protocol}//${location.host}${location.pathname}`;return i.createElement(Ve,{isOpen:this.props.isOpen,contentLabel:"Share Project",className:"modal",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"Share Project"),i.createElement("div",{style:{flex:1,padding:"8px"}},i.createElement(Le,{label:"URL",value:`${e}?f=${this.props.fiddle}`}),i.createElement(Le,{label:"IFrame",value:`<iframe src="${e}?embed&f=${this.props.fiddle}" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>`})),i.createElement("div",null,i.createElement(K,{icon:i.createElement(oe,null),label:"Cancel",title:"Cancel",onClick:()=>{this.props.onCancel()}}))))}}var Ge=n(7);class $e extends i.Component{constructor(e){super(e),this.onChangeName=(e=>{this.setState({name:e.target.value})}),this.state={template:null,description:"",name:"",templates:[]}}nameError(){}createButtonLabel(){return"Create"}async componentDidMount(){const e=await Object(Ge.a)(),t=e.templates,n=await async function(e){const t=await fetch(e);return JSON.parse(await t.text())}(e.templates),i=new URL(t,location.href),r=[];for(const[e,t]of Object.entries(n)){const n=t.name||"",s=t.description||"",o=t.icon||"";r.push({name:n,description:s,icon:o,files:t.files,baseUrl:new URL(e+"/",i)})}this.setState({templates:r}),this.setTemplate(r[0])}async setTemplate(e){const t=await c.a.compileMarkdownToHtml(e.description);this.setState({template:e,description:t})}render(){return i.createElement(Ve,{isOpen:this.props.isOpen,contentLabel:"Create New Project",className:"modal show-file-icons",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"Create New Project"),i.createElement("div",null,i.createElement("div",{style:{display:"flex"}},i.createElement("div",{style:{width:200}},i.createElement(We,{value:this.state.template,height:240,onSelect:e=>{this.setTemplate(e)}},this.state.templates.map(e=>i.createElement(Re,{key:e.name,value:e,label:e.name,icon:e.icon})))),i.createElement("div",{style:{flex:1},className:"new-project-dialog-description"},i.createElement("div",{className:"md",dangerouslySetInnerHTML:{__html:this.state.description}})))),i.createElement("div",{style:{flex:1,padding:"8px"}}),i.createElement("div",null,i.createElement(K,{icon:i.createElement(oe,null),label:"Cancel",title:"Cancel",onClick:()=>{this.props.onCancel()}}),i.createElement(K,{icon:i.createElement(ie,null),label:this.createButtonLabel(),title:"Create",isDisabled:!this.state.template,onClick:()=>this.props.onCreate&&this.props.onCreate(this.state.template)}))))}}class Je extends i.Component{constructor(e){super(e),this.onChangeName=(e=>{this.setState({name:e.target.value})}),this.state={name:""}}nameError(){const e=this.props.directory;if(this.state.name){if(!/^[a-z0-9\.\-\_]+$/i.test(this.state.name))return"Illegal characters in directory name.";if(e&&v.getImmediateChild(e,this.state.name))return`Directory '${this.state.name}' already exists.`}return""}createButtonLabel(){return"Create"}render(){return i.createElement(Ve,{isOpen:this.props.isOpen,contentLabel:"Create New Directory",className:"modal",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"Create New Directory"),i.createElement("div",{style:{flex:1,padding:"8px"}},i.createElement(Le,{label:"Name:",error:this.nameError(),value:this.state.name,onChange:this.onChangeName})),i.createElement("div",null,i.createElement(K,{icon:i.createElement(oe,null),label:"Cancel",title:"Cancel",onClick:()=>{this.props.onCancel()}}),i.createElement(K,{icon:i.createElement(ie,null),label:this.createButtonLabel(),title:"Create New Directory",isDisabled:!this.state.name||!!this.nameError(),onClick:()=>{const e=new l.a(this.state.name);return this.props.onCreate&&this.props.onCreate(e)}}))))}}class Ke extends i.Component{constructor(){super(...arguments),this.onResizeBegin=(()=>{this.container.style.pointerEvents="none"}),this.onResizeEnd=(()=>{this.container.style.pointerEvents="auto"}),this.onSandboxRun=(e=>{this.run(e.project,e.src)})}setContainer(e){null!=e&&(this.container=e)}componentDidMount(){I.onResizeBegin.register(this.onResizeBegin),I.onResizeEnd.register(this.onResizeEnd),v.onSandboxRun.register(this.onSandboxRun)}componentWillUnmount(){I.onResizeBegin.unregister(this.onResizeBegin),I.onResizeEnd.unregister(this.onResizeEnd),v.onSandboxRun.register(this.onSandboxRun)}run(e,t){const n=document.createElement("iframe");n.className="sandbox",n.src=URL.createObjectURL(new Blob([t],{type:"text/html"})),this.container.firstChild&&this.container.removeChild(this.container.firstChild),this.container.appendChild(n);const i=n.contentWindow,r={logLn:S};i.console.log=(e=>(function(){r.logLn(Array.prototype.join.call(arguments)),e.apply(i.console,arguments)}))(i.console.log),i.console.info=(e=>(function(){r.logLn(Array.prototype.join.call(arguments),"info"),e.apply(i.console,arguments)}))(i.console.info),i.console.warn=(e=>(function(){r.logLn(Array.prototype.join.call(arguments),"warn"),e.apply(i.console,arguments)}))(i.console.warn),i.console.error=(e=>(function(){r.logLn(Array.prototype.join.call(arguments),"error"),e.apply(i.console,arguments)}))(i.console.error),i.fetch=((t,n)=>{const i=new URL(t,"http://example.org/src/main.html"),r=e.getFile(i.pathname.substr(1));return r?Promise.resolve(new Response(r.getData(),{status:200,statusText:"OK",headers:{"Content-Type":Object(l.n)(r.type)}})):fetch(t,n)}),i.getFileURL=(t=>{const n=e.getFile(t);if(!n)return void r.logLn(`Cannot find file ${t}`,"error");const i=new Blob([n.getData()],{type:Object(l.n)(n.type)});return window.URL.createObjectURL(i)});new Promise(e=>{n.onready=(()=>{e(i)})})}render(){return i.createElement("div",{className:"fill",ref:e=>this.setContainer(e)})}}class Xe{constructor(e){this.monacoIconLabel=document.createElement("div"),this.monacoIconLabel.className="monaco-icon-label",this.monacoIconLabel.style.display="flex",e.appendChild(this.monacoIconLabel);const t=document.createElement("div");t.className="monaco-icon-label-description-container",this.monacoIconLabel.appendChild(t),this.label=document.createElement("a"),this.label.className="label-name",t.appendChild(this.label),this.description=document.createElement("span"),this.description.className="label-description",t.appendChild(this.description)}dispose(){}set(e){this.label.classList.toggle(e.severity+"-dark",!0);const t=e.marker,n=`(${t.startLineNumber}, ${t.startColumn})`;this.label.innerHTML=t.message,this.description.innerHTML=n}}class Qe extends i.Component{constructor(e){super(e),this.contextViewService=new u.ContextViewService(document.documentElement),this.contextMenuService=new u.ContextMenuService(document.documentElement,null,null,this.contextViewService)}setContainer(e){null!=e&&(this.container=e)}ensureTree(){this.container.lastChild&&this.container.removeChild(this.container.lastChild);const e=this;this.tree=new u.Tree(this.container,{dataSource:{getId:function(e,t){return t.key},hasChildren:function(e,t){return!!(t instanceof l.a&&t.children.length)||t instanceof l.c&&t.problems.length>0},getChildren:function(e,t){if(t instanceof l.a&&t.children.length){const e=[];return t.forEachFile(t=>{t.problems.length&&e.push(t)},!1,!0),monaco.Promise.as(e)}return t instanceof l.c?monaco.Promise.as(t.problems):null},getParent:function(e,t){return t instanceof l.c?monaco.Promise.as(t.getProject()):monaco.Promise.as(t.file)}},renderer:{getHeight:function(e,t){return 24},getTemplateId:(e,t)=>t instanceof l.c?"file":"problem",renderTemplate:function(e,t,n){return"problem"===t?new Xe(n):new L(n)},renderElement:function(e,t,n,i){i.set(t)},disposeTemplate:function(e,t,n){n.dispose()}},controller:new class extends u.TreeDefaults.DefaultController{onContextMenu(t,n,i){t.setFocus(n);const r=-10,s=-3,o={x:i.posx+r,y:i.posy+s},a=[];return e.contextMenuService.showContextMenu({getAnchor:()=>o,getActions:()=>monaco.Promise.as(a),getActionItem:e=>null,onHide:e=>{e&&t.DOMFocus()}}),super.onContextMenu(t,n,i),!0}}})}onSelectProblem(e){e instanceof l.c||T(e.file,d.Editor,!0)}componentDidMount(){this.ensureTree(),this.tree.model.setInput(v.getProject().getModel()),this.tree.model.onDidSelect(e=>{e.selection.length&&this.onSelectProblem(e.selection[0])}),v.onDidChangeProblems.register(()=>{this.tree.refresh(),this.tree.expandAll()}),v.onLoadProject.register(()=>{this.tree.model.setInput(v.getProject().getModel())})}componentWillReceiveProps(e){this.tree.refresh(),this.tree.expandAll()}render(){return i.createElement("div",{className:"fill",ref:e=>this.setContainer(e)})}}class Ye extends i.Component{constructor(e){super(e),this.onOutputChanged=(()=>{this.updateOutputView()});const t=v.getOutput().getModel();this.outputView=new p(t),this.state={visible:"output",splits:[{min:128,value:512},{min:128,value:256}],problemCount:this.getProblemCount(),outputLineCount:this.getOutputLineCount()}}componentDidMount(){v.onOutputChanged.register(this.onOutputChanged)}componentWillUnmount(){v.onOutputChanged.unregister(this.onOutputChanged)}setOutputViewEditor(e){this.outputViewEditor=e}updateOutputView(){this.updateOutputViewTimeout||(this.updateOutputViewTimeout=window.setTimeout(()=>{this.updateOutputViewTimeout=null,this.setState({problemCount:this.getProblemCount(),outputLineCount:this.getOutputLineCount()})})),this.outputViewEditor&&this.outputViewEditor.revealLastLine()}createPane(){switch(this.state.visible){case"output":return i.createElement(H,{ref:e=>this.setOutputViewEditor(e),view:this.outputView,options:{renderIndentGuides:!1}});case"problems":return i.createElement(Qe,null);default:return null}}getOutputLineCount(){return this.outputView.file.buffer.getLineCount()}getProblemCount(){let e=0;return v.getProject().getModel().forEachFile(t=>{e+=t.problems.length},!1,!0),e}render(){return i.createElement("div",{className:"fill"},i.createElement("div",{className:"tabs",style:{display:"flex"}},i.createElement("div",null,i.createElement(K,{icon:i.createElement(ae,null),title:"View Console",onClick:()=>this.props.onToggle&&this.props.onToggle()})),i.createElement("div",null,i.createElement(q,null,i.createElement(G,{label:`Output (${this.state.outputLineCount})`,isActive:"output"===this.state.visible,onClick:()=>{this.setState({visible:"output"})}}),i.createElement(G,{label:`Problems (${this.state.problemCount})`,isActive:"problems"===this.state.visible,onClick:()=>{this.setState({visible:"problems"})}})))),i.createElement("div",{style:{height:"calc(100% - 40px)"}},i.createElement(I,{name:"editor/sandbox",orientation:z.Vertical,defaultSplit:{min:256},splits:this.state.splits,onChange:e=>{this.setState({splits:e}),Object(m.g)()}},this.createPane(),i.createElement(Ke,null))))}}class Ze extends i.Component{constructor(e){super(e),this.onDidChangeStatus=(()=>{this.setState({hasStatus:v.hasStatus(),status:v.getStatus()})}),this.state={hasStatus:!1,status:""}}componentDidMount(){v.onDidChangeStatus.register(this.onDidChangeStatus)}componentWillUnmount(){v.onDidChangeStatus.unregister(this.onDidChangeStatus)}render(){let e="status-bar";return this.state.hasStatus&&(e+=" active"),i.createElement("div",{className:e},i.createElement("div",{className:"status-bar-item"},this.state.status))}}class et extends i.Component{constructor(e){super(e),this.workspaceSplit=null,this.state={fiddle:e.fiddle,project:null,file:null,newFileDialogDirectory:null,editFileDialogFile:null,newProjectDialog:!e.fiddle,shareDialog:!1,workspaceSplits:[{min:200,max:400,value:200},{min:256}],controlCenterSplits:[{min:100},{min:40,value:256}],editorSplits:[],showProblems:!0,showSandbox:!0,uploadFileDialogDirectory:null,newDirectoryDialog:null,tabGroups:null,activeTabGroup:null,windowDimensions:et.getWindowDimensions(),hasStatus:!1,isContentModified:!1},async function(){monaco.editor.defineTheme("fiddle-theme",{base:"vs-dark",inherit:!0,rules:[{token:"custom-info",foreground:"d4d4d4"},{token:"custom-warn",foreground:"ff9900"},{token:"custom-error",background:"00ff00",foreground:"ff0000",fontStyle:"bold"}]}),monaco.languages.onLanguage("wat",()=>{monaco.languages.setMonarchTokensProvider("wat",ke.MonarchDefinitions),monaco.languages.setLanguageConfiguration("wat",ke.LanguageConfiguration),monaco.languages.registerCompletionItemProvider("wat",ke.CompletionItemProvider),monaco.languages.registerHoverProvider("wat",ke.HoverProvider)}),monaco.languages.register({id:"wat"}),monaco.languages.onLanguage("log",()=>{monaco.languages.setMonarchTokensProvider("log",Se.MonarchTokensProvider)}),monaco.languages.register({id:"log"}),monaco.languages.onLanguage("cton",()=>{monaco.languages.setMonarchTokensProvider("cton",Me.MonarchDefinitions)}),monaco.languages.register({id:"cton"}),monaco.languages.onLanguage("x86",()=>{monaco.languages.setMonarchTokensProvider("x86",Ae.MonarchDefinitions)}),monaco.languages.register({id:"x86"}),monaco.languages.onLanguage("rust",()=>{monaco.languages.setMonarchTokensProvider("rust",Te.MonarchDefinitions)}),monaco.languages.register({id:"rust"});let e=await fetch("lib/lib.es6.d.ts");monaco.languages.typescript.typescriptDefaults.addExtraLib(await e.text()),e=await fetch("lib/fiddle.d.ts"),monaco.languages.typescript.typescriptDefaults.addExtraLib(await e.text()),monaco.languages.typescript.typescriptDefaults.setCompilerOptions({noLib:!0,allowNonTsExtensions:!0}),monaco.languages.typescript.javascriptDefaults.setCompilerOptions({noLib:!0,allowNonTsExtensions:!0})}()}async initializeProject(){f.dispatch({type:_.INIT_STORE}),this.setState({project:v.getProject(),tabGroups:v.getTabGroups(),activeTabGroup:v.getActiveTabGroup(),hasStatus:v.hasStatus()}),this.bindAppStoreEvents(),this.state.fiddle&&this.loadProjectFromFiddle(this.state.fiddle)}static getWindowDimensions(){return`${window.innerWidth}x${window.innerHeight}@${window.devicePixelRatio}`}async loadProjectFromFiddle(e){const t=new l.g;j("Downloading Project");const n=await c.a.loadJSON(e);A(),n.success?(await c.a.loadFilesIntoProject(n.files,t),function(e){f.dispatch({type:_.LOAD_PROJECT,project:e})}(t),t.getFile("README.md")&&O([["README.md"]])):this.toastContainer&&this.toastContainer.showToast(i.createElement("span",null,"Project ",e," was not found."),"error")}bindAppStoreEvents(){v.onLoadProject.register(()=>{this.setState({project:v.getProject()}),P("project:load",!0)}),v.onDirtyFileUsed.register(e=>{this.logLn(`Changes in ${e.getPath()} were ignored, save your changes.`,"warn")}),v.onTabsChange.register(()=>{this.setState({tabGroups:v.getTabGroups(),activeTabGroup:v.getActiveTabGroup()}),Object(m.g)()}),v.onDidChangeStatus.register(()=>{this.setState({hasStatus:v.hasStatus()})}),v.onDidChangeIsContentModified.register(()=>{this.props.windowContext.promptWhenClosing=v.getIsContentModified(),this.setState({isContentModified:v.getIsContentModified()})})}async loadReleaseNotes(){const e=await fetch("notes/notes.md"),t=await e.text(),n=new l.c("Release Notes",l.d.Markdown);n.setData(t),T(n,h(n.type))}async loadHelp(){const e=await fetch("notes/help.md"),t=await e.text(),n=new l.c("Help",l.d.Markdown);n.setData(t),T(n,h(n.type))}registerShortcuts(){Pe.bind("command+b",()=>{N()}),Pe.bind("command+enter",()=>{V()}),Pe.bind("command+alt+enter",()=>{N().then(V)})}logLn(e,t=""){S(e,t)}componentWillMount(){this.initializeProject()}componentDidMount(){Object(m.g)(),this.registerShortcuts(),window.addEventListener("resize",()=>{this.setState({windowDimensions:et.getWindowDimensions()})},!1)}share(){this.setState({shareDialog:!0})}async update(){!async function(e){S("Saving Project ...");const t=v.getTabGroups(),n=v.getProject().getModel(),i=t.map(e=>e.views.map(e=>e.file.getPath()));await c.a.saveProject(n,i,e),S("Saved Project OK"),f.dispatch({type:_.CLEAR_PROJECT_MODIFIED})}(this.state.fiddle)}async fork(){const e=this.state.project.getModel();j("Forking Project");const t=await c.a.saveProject(e,[]);A();const n=window.location.search;this.state.fiddle?(Object(m.a)(n.indexOf(this.state.fiddle)>=0),history.replaceState({},t,n.replace(this.state.fiddle,t))):history.pushState({},t,`?f=${t}`),this.setState({fiddle:t})}async gist(e){j("Exporting Project");const t=e||this.state.project.getModel(),n=await c.a.exportToGist(t,this.state.fiddle);A(),n?(this.toastContainer&&this.toastContainer.showToast(i.createElement("span",null,'"Gist Created!" ',i.createElement("a",{href:n,target:"_blank",className:"toast-span"},"Open in new tab."))),console.log(`Gist created: ${n}`)):console.log("Failed!")}async download(){this.logLn("Downloading Project ...");const e=await Promise.all([n.e(0),n.e(1),n.e(2)]).then(n.bind(null,141)),t=this.state.project.getModel();await e.downloadProject(t,this.state.fiddle),this.logLn("Project Zip CREATED ")}toolbarButtonsAreDisabled(){return this.state.hasStatus}makeToolbarButtons(){const e=[i.createElement(K,{key:"View Workspace",icon:i.createElement(ae,null),title:"View Project Workspace",onClick:()=>{const e=this.state.workspaceSplits,t=e[0],n=e[1];this.workspaceSplit?(Object.assign(t,this.workspaceSplit),this.workspaceSplit=null,delete n.value):(this.workspaceSplit=Object.assign({},t),t.max=t.min=0),this.setState({workspaceSplits:e})}})];return this.props.embed?e.push(i.createElement(K,{icon:i.createElement(ne,null),label:"Edit in WebAssembly Studio",title:"Edit Project in WebAssembly Studio",onClick:()=>{Object(m.a)(this.state.fiddle),async function(e){window.open(`http://webassembly.studio?f=${e}`,"wasm.studio")}(this.state.fiddle)}})):(this.props.update&&e.push(i.createElement(K,{icon:i.createElement(ne,null),label:"Update",title:"Update Project",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{this.update()}})),e.push(i.createElement(K,{icon:i.createElement(X,null),label:"Fork",title:"Fork Project",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{this.fork()}}),i.createElement(K,{icon:i.createElement(le,null),label:"Create Gist",title:"Create GitHub Gist from Project",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{this.gist()}}),i.createElement(K,{icon:i.createElement(se,null),label:"Download",title:"Download Project",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{this.download()}}),i.createElement(K,{icon:i.createElement(te,null),label:"Share",title:this.state.fiddle?"Share Project":"Cannot share a project that has not been forked yet.",isDisabled:this.toolbarButtonsAreDisabled()||!this.state.fiddle,onClick:()=>{this.share()}}))),e.push(i.createElement(K,{icon:i.createElement(Q,null),label:"Build",title:"Build Project: CtrlCmd + B",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{N()}}),i.createElement(K,{icon:i.createElement(Y,null),label:"Run",title:"Run Project: CtrlCmd + Enter",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{V()}}),i.createElement(K,{icon:i.createElement(Z,null),label:"Build & Run",title:"Build & Run Project: CtrlCmd + Alt + Enter",isDisabled:this.toolbarButtonsAreDisabled(),onClick:()=>{N().then(V)}})),this.props.embed||e.push(i.createElement(K,{icon:i.createElement(ce,null),label:"GitHub Issues",title:"GitHub Issues",customClassName:"issue",onClick:()=>{window.open("https://github.com/wasdk/WebAssemblyStudio","_blank")}}),i.createElement(K,{icon:i.createElement(ue,null),label:"Help & Privacy",title:"Help & Privacy",customClassName:"help",onClick:()=>{this.loadHelp()}})),e}render(){var e,t;const n=i.createElement(I,{name:"Editors",orientation:z.Vertical,defaultSplit:{min:128},splits:this.state.editorSplits,onChange:e=>{this.setState({editorSplits:e}),Object(m.g)()}},(()=>{const e=this.state.tabGroups,t=this.state.activeTabGroup;return 0===e.length?i.createElement("div",null,"No Groups"):e.map(e=>i.createElement(Ce,{views:e.views.slice(0),view:e.currentView,preview:e.preview,onSplitViews:()=>void f.dispatch({type:_.SPLIT_GROUP}),hasFocus:t===e,onFocus:()=>{M(e)},onChangeViewType:(e,t)=>(e=e,t=t,void f.dispatch({type:_.SET_VIEW_TYPE,view:e,viewType:t})),onClickView:t=>{v.getActiveTabGroup().currentView!==t&&Object(m.j)(),M(e),D(t)},onDoubleClickView:t=>{M(e),D(t,!1)},onClose:t=>{M(e),function(e){f.dispatch({type:_.CLOSE_VIEW,view:e})}(t)}}))})());return i.createElement("div",{className:"fill"},i.createElement(Ue,{ref:e=>this.toastContainer=e}),this.state.newProjectDialog&&i.createElement($e,{isOpen:!0,onCancel:()=>{this.setState({newProjectDialog:null})},onCreate:async e=>{await async function(e){const t=new l.g;await c.a.loadFilesIntoProject(e.files,t,e.baseUrl),f.dispatch({type:_.LOAD_PROJECT,project:t}),t.getFile("README.md")&&O([["README.md"]])}(e),this.setState({newProjectDialog:!1})}}),this.state.newFileDialogDirectory&&i.createElement(ze,{isOpen:!0,directory:this.state.newFileDialogDirectory,onCancel:()=>{this.setState({newFileDialogDirectory:null})},onCreate:e=>{k(e,this.state.newFileDialogDirectory.getModel()),this.setState({newFileDialogDirectory:null})}}),this.state.editFileDialogFile&&i.createElement(Ie,{isOpen:!0,file:this.state.editFileDialogFile,onCancel:()=>{this.setState({editFileDialogFile:null})},onChange:(e,t)=>{r=this.state.editFileDialogFile.getModel(),e=e,t=t,f.dispatch({type:_.UPDATE_FILE_NAME_AND_DESCRIPTION,file:r,name:e,description:t}),this.setState({editFileDialogFile:null})}}),this.state.shareDialog&&i.createElement(qe,{isOpen:!0,fiddle:this.state.fiddle,onCancel:()=>{this.setState({shareDialog:!1})}}),this.state.uploadFileDialogDirectory&&i.createElement(Be,{isOpen:!0,directory:this.state.uploadFileDialogDirectory,onCancel:()=>{this.setState({uploadFileDialogDirectory:null})},onUpload:e=>{e.map(e=>{k(e,this.state.uploadFileDialogDirectory.getModel())}),this.setState({uploadFileDialogDirectory:null})}}),this.state.newDirectoryDialog&&i.createElement(Je,{isOpen:!0,directory:this.state.newDirectoryDialog,onCancel:()=>{this.setState({newDirectoryDialog:null})},onCreate:e=>{k(e,this.state.newDirectoryDialog.getModel()),this.setState({newDirectoryDialog:null})}}),i.createElement("div",{style:{height:"calc(100% - 22px)"}},i.createElement(I,{name:"Workspace",orientation:z.Vertical,splits:this.state.workspaceSplits,onChange:e=>{this.setState({workspaceSplits:e}),Object(m.g)()}},i.createElement(B,{project:this.state.project,file:this.state.file,onNewFile:e=>{this.setState({newFileDialogDirectory:l.e.getRef(e)})},onEditFile:e=>{this.setState({editFileDialogFile:l.e.getRef(e)})},onDeleteFile:e=>{let t="";t=e instanceof l.a?`Are you sure you want to delete '${e.name}' and its contents?`:`Are you sure you want to delete '${e.name}'?`,confirm(t)&&(function(e){f.dispatch({type:_.CLOSE_TABS,file:e})}(e),function(e){f.dispatch({type:_.DELETE_FILE,file:e})}(e))},onClickFile:e=>{Object(m.j)(),T(e,h(e.type))},onDoubleClickFile:e=>{e instanceof l.a||T(e,h(e.type),!1)},onMoveFile:(e,t)=>{k(e,t)},onUploadFile:e=>{this.setState({uploadFileDialogDirectory:l.e.getRef(e)})},onNewDirectory:e=>{this.setState({newDirectoryDialog:l.e.getRef(e)})},onCreateGist:e=>{this.gist(e)}}),i.createElement("div",{className:"fill"},i.createElement("div",{style:{height:"40px"}},i.createElement(Ee,null,this.makeToolbarButtons())),i.createElement("div",{style:{height:"calc(100% - 40px)"}},i.createElement(I,{name:"Console",orientation:z.Horizontal,splits:this.state.controlCenterSplits,onChange:e=>{this.setState({controlCenterSplits:e}),Object(m.g)()}},n,i.createElement(Ye,{onToggle:()=>{const e=this.state.controlCenterSplits;e[1].value=40===e[1].value?256:40,this.setState({controlCenterSplits:e}),Object(m.g)()}})))))),i.createElement(Ze,null));var r,s,o}}class tt extends i.Component{constructor(e){super(e)}render(){return i.createElement(Ve,{isOpen:!0,contentLabel:"Browser Not Supported",className:"modal",overlayClassName:"overlay",ariaHideApp:!1},i.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%"}},i.createElement("div",{className:"modal-title-bar"},"Browser Version Not Supported"),i.createElement("div",{className:"browser-not-supported-description"},i.createElement("a",{href:"https://developer.mozilla.org/en-US/docs/WebAssembly"},"WebAssembly")," is not available in your browser. Please try using the latest version of Edge, Safari, Chrome or Firefox.")))}}function nt(e){let t=window.location.search.substring(1);(t=t.replace(/\/$/,"")).split("&").forEach(function(t){const n=t.split("=");2===n.length?e(n[0],decodeURIComponent(n[1])):e(n[0],!0)})}function it(){const e={};return nt((t,n)=>{e[t]=n}),e}n.d(t,"forEachUrlParameter",function(){return nt}),n.d(t,"getUrlParameters",function(){return it}),window.addEventListener("resize",m.g,!1);const rt={promptWhenClosing:!1};window.addEventListener("beforeunload",function e(t){rt.promptWhenClosing?t.returnValue="Project data is not saved.":window.removeEventListener("beforeunload",e,!1)},!1);const st=it(),ot=!0===st.embed||!!parseInt(st.embed,10),at=!0===st.update||!!parseInt(st.update,10),lt=st.fiddle||st.f;window.require(["vs/editor/editor.main","require"],(e,t)=>{u.initialize(t),"object"!=typeof WebAssembly?r.render(i.createElement(tt,null),document.getElementById("app")):r.render(i.createElement(et,{embed:ot,update:at,fiddle:lt,windowContext:rt}),document.getElementById("app"))})},,function(e,t,n){"use strict";function i(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function r(e){var t=this.constructor.getDerivedStateFromProps(e,this.state);null!==t&&void 0!==t&&this.setState(t)}function s(e,t){try{var n=this.props,i=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,i)}finally{this.props=n,this.state=i}}function o(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,o=null,a=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?o="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(o="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?a="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==o||null!==a){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==o?"\n  "+o:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=i,t.componentWillReceiveProps=r),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=s;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var i=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,i)}}return e}n.r(t),n.d(t,"polyfill",function(){return o}),i.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,s.__suppressDeprecationWarning=!0},function(e,t,n){var i;!function(){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),s={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen};void 0===(i=function(){return s}.call(t,n,t,e))||(e.exports=i)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dumpClassLists=function(){0};var i={},r={};t.add=function(e,t){return n=e.classList,s="html"==e.nodeName.toLowerCase()?i:r,void t.split(" ").forEach(function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(s,e),n.add(e)});var n,s},t.remove=function(e,t){return n=e.classList,s="html"==e.nodeName.toLowerCase()?i:r,void t.split(" ").forEach(function(e){!function(e,t){e[t]&&(e[t]-=1)}(s,e),0===s[e]&&n.remove(e)});var n,s}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,s.default)(e);if(!n.length)return void t.preventDefault();var i,r=t.shiftKey,o=n[0],a=n[n.length-1];if(e===document.activeElement){if(!r)return;i=a}a!==document.activeElement||r||(i=o);o===document.activeElement&&r&&(i=a);if(i)return t.preventDefault(),void i.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var c=n.indexOf(document.activeElement);c>-1&&(c+=r?-1:1);t.preventDefault(),n[c].focus()};var i,r=n(12),s=(i=r)&&i.__esModule?i:{default:i};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleBlur=c,t.handleFocus=u,t.markForFocusLater=function(){o.push(document.activeElement)},t.returnFocus=function(){var e=null;try{return void(0!==o.length&&(e=o.pop()).focus())}catch(t){console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){o.length>0&&o.pop()},t.setupScopedFocus=function(e){a=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",u,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",u))},t.teardownScopedFocus=function(){a=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",u)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",u))};var i,r=n(12),s=(i=r)&&i.__esModule?i:{default:i};var o=[],a=null,l=!1;function c(){l=!0}function u(){if(l){if(l=!1,!a)return;setTimeout(function(){a.contains(document.activeElement)||((0,s.default)(a)[0]||a).focus()},0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(0),a=m(o),l=m(n(13)),c=f(n(25)),u=m(n(24)),d=f(n(11)),h=f(n(22)),p=m(n(10));function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e){return e&&e.__esModule?e:{default:e}}var g={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},b=9,v=27,y=0,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,i=e.ariaHideApp,r=e.htmlOpenClassName,s=e.bodyOpenClassName;h.remove(document.body,s),r&&h.remove(document.getElementsByTagName("html")[0],r),i&&y>0&&0===(y-=1)&&d.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(c.returnFocus(),c.teardownScopedFocus()):c.popWithoutFocus())},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(c.setupScopedFocus(n.node),c.markForFocusLater()),n.setState({isOpen:!0},function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen()}))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus()},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())})},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){e.keyCode===b&&(0,u.default)(n.content,e),n.props.shouldCloseOnEsc&&e.keyCode===v&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var i="object"===(void 0===t?"undefined":r(t))?t:{base:g[e],afterOpen:g[e]+"--after-open",beforeClose:g[e]+"--before-close"},s=i.base;return n.state.afterOpen&&(s=s+" "+i.afterOpen),n.state.beforeClose&&(s=s+" "+i.beforeClose),"string"==typeof t&&t?s+" "+t:s},n.ariaAttributes=function(e){return Object.keys(e).reduce(function(t,n){return t["aria-"+n]=e[n],t},{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),s(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.afterClose(),clearTimeout(this.closeTimer)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,i=e.htmlOpenClassName,r=e.bodyOpenClassName;h.add(document.body,r),i&&h.add(document.getElementsByTagName("html")[0],i),n&&(y+=1,d.hide(t))}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.overlayClassName,r=e.defaultStyles,s=t?{}:r.content,o=n?{}:r.overlay;return this.shouldBeClosed()?null:a.default.createElement("div",{ref:this.setOverlayRef,className:this.buildClassName("overlay",n),style:i({},o,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown,"aria-modal":"true"},a.default.createElement("div",i({ref:this.setContentRef,style:i({},s,this.props.style.content),className:this.buildClassName("content",t),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.ariaAttributes(this.props.aria||{}),{"data-testid":this.props.testId}),this.props.children))}}]),t}();w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:l.default.bool.isRequired,defaultStyles:l.default.shape({content:l.default.object,overlay:l.default.object}),style:l.default.shape({content:l.default.object,overlay:l.default.object}),className:l.default.oneOfType([l.default.string,l.default.object]),overlayClassName:l.default.oneOfType([l.default.string,l.default.object]),bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,ariaHideApp:l.default.bool,appElement:l.default.instanceOf(p.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,role:l.default.string,contentLabel:l.default.string,aria:l.default.object,children:l.default.node,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func,testId:l.default.string},t.default=w,e.exports=t.default},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function i(e){return function(){return e}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var i=n(28),r=n(14),s=n(27);e.exports=function(){function e(e,t,n,i,o,a){a!==s&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),s=n(0),o=f(s),a=f(n(8)),l=f(n(13)),c=f(n(26)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(11)),d=n(10),h=f(d),p=n(20);function f(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=t.portalClassName="ReactModalPortal",b=t.bodyOpenClassName="ReactModal__Body--open",v=void 0!==a.default.createPortal,y=v?a.default.createPortal:a.default.unstable_renderSubtreeIntoContainer;function w(e){return e()}var C=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,l=Array(s),u=0;u<s;u++)l[u]=arguments[u];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.removePortal=function(){!v&&a.default.unmountComponentAtNode(r.node),w(r.props.parentSelector).removeChild(r.node)},r.portalRef=function(e){r.portal=e},r.renderPortal=function(e){var n=y(r,o.default.createElement(c.default,i({defaultStyles:t.defaultStyles},e)),r.node);r.portalRef(n)},m(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),r(t,[{key:"componentDidMount",value:function(){d.canUseDOM&&(v||(this.node=document.createElement("div")),this.node.className=this.props.portalClassName,w(this.props.parentSelector).appendChild(this.node),!v&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:w(e.parentSelector),nextParent:w(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(d.canUseDOM){var i=this.props,r=i.isOpen,s=i.portalClassName;if(e.portalClassName!==s&&(this.node.className=s),e.isOpen||r){var o=n.prevParent,a=n.nextParent;a!==o&&(o.removeChild(this.node),a.appendChild(this.node)),!v&&this.renderPortal(this.props)}}}},{key:"componentWillUnmount",value:function(){if(d.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return d.canUseDOM&&v?(!this.node&&v&&(this.node=document.createElement("div")),y(o.default.createElement(c.default,i({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){u.setElement(e)}}]),t}();C.propTypes={isOpen:l.default.bool.isRequired,style:l.default.shape({content:l.default.object,overlay:l.default.object}),portalClassName:l.default.string,bodyOpenClassName:l.default.string,htmlOpenClassName:l.default.string,className:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),overlayClassName:l.default.oneOfType([l.default.string,l.default.shape({base:l.default.string.isRequired,afterOpen:l.default.string.isRequired,beforeClose:l.default.string.isRequired})]),appElement:l.default.instanceOf(h.default),onAfterOpen:l.default.func,onRequestClose:l.default.func,closeTimeoutMS:l.default.number,ariaHideApp:l.default.bool,shouldFocusAfterRender:l.default.bool,shouldCloseOnOverlayClick:l.default.bool,shouldReturnFocusAfterClose:l.default.bool,parentSelector:l.default.func,aria:l.default.object,role:l.default.string,contentLabel:l.default.string,shouldCloseOnEsc:l.default.bool,overlayRef:l.default.func,contentRef:l.default.func},C.defaultProps={isOpen:!1,portalClassName:g,bodyOpenClassName:b,ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,parentSelector:function(){return document.body}},C.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,p.polyfill)(C),t.default=C},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(e){(function(){var t;(function(t){"use strict";try{(function(){}).bind(t)}catch(e){Object.defineProperty(Function.prototype,"bind",{value:function(e){var t=this;return function(){return t.apply(e,arguments)}},enumerable:!1,configurable:!0,writable:!0})}var n=void 0!==t.HTMLElement,i=1e-8,r={},s=function(e,t){if(e&&t){if("function"==typeof e[t])return e[t];var n=e.prototype;if(n&&"function"==typeof n[t])return n[t];if(n!==Object.prototype&&n!==Function.prototype)return"function"==typeof e.__super__?s(e.__super__,t):void 0}},o=t.c={debug:!1,trace:!1,verbose:!1,traceAdded:!1,GC:!1,GEQ:1,LEQ:2,inherit:function(e){var i=null,s=null;e.extends&&(s=e.extends,delete e.extends),e.initialize&&(i=e.initialize,delete e.initialize);var o=i||function(){};Object.defineProperty(o,"__super__",{value:s||Object,enumerable:!1,configurable:!0,writable:!1}),e._t&&(r[e._t]=o);var a=o.prototype=Object.create(s?s.prototype:Object.prototype);if(this.extend(a,e),n&&s&&s.prototype instanceof t.HTMLElement){var l=o,c=function(e){for(var t=null;e&&e!=Object.prototype;){if(e.tagName){t=e.tagName;break}e=e.prototype}return t||"div"}(a),u=function(e){return e.__proto__=a,l.apply(e,arguments),a.created&&e.created(),a.decorate&&e.decorate(),e};this.extend(a,{upgrade:u}),(o=function(){return u(t.document.createElement(c))}).prototype=a,this.extend(o,{ctor:l})}return o},extend:function(e,t){return this.own(t,function(n){var i=Object.getOwnPropertyDescriptor(t,n);try{"function"==typeof i.get||"function"==typeof i.set?Object.defineProperty(e,n,i):"function"==typeof i.value||"_"===n.charAt(0)?(i.writable=!0,i.configurable=!0,i.enumerable=!1,Object.defineProperty(e,n,i)):e[n]=t[n]}catch(e){}}),e},own:function(e,n,i){return Object.getOwnPropertyNames(e).forEach(n,i||t),e},traceprint:function(e){o.verbose&&console.log(e)},fnenterprint:function(e){console.log("* "+e)},fnexitprint:function(e){console.log("- "+e)},assert:function(e,t){if(!e)throw new o.InternalError("Assertion failed: "+t)},plus:function(e,t){return e instanceof o.Expression||(e=new o.Expression(e)),t instanceof o.Expression||(t=new o.Expression(t)),e.plus(t)},minus:function(e,t){return e instanceof o.Expression||(e=new o.Expression(e)),t instanceof o.Expression||(t=new o.Expression(t)),e.minus(t)},times:function(e,t){return("number"==typeof e||e instanceof o.Variable)&&(e=new o.Expression(e)),("number"==typeof t||t instanceof o.Variable)&&(t=new o.Expression(t)),e.times(t)},divide:function(e,t){return("number"==typeof e||e instanceof o.Variable)&&(e=new o.Expression(e)),("number"==typeof t||t instanceof o.Variable)&&(t=new o.Expression(t)),e.divide(t)},approx:function(e,t){return e===t||(n=e instanceof o.Variable?e.value:e,r=t instanceof o.Variable?t.value:t,0==n?i>Math.abs(r):0==r?i>Math.abs(n):Math.abs(n-r)<Math.abs(n)*i);var n,r},_inc:function(e){return function(){return e++}}(0),parseJSON:function(e){return JSON.parse(e,function(e,t){if("object"!=typeof t||"string"!=typeof t._t)return t;var n=t._t,i=r[n];if(n&&i){var o=s(i,"fromJSON");if(o)return o(t,i)}return t})}};void 0!==e&&"undefined"==typeof load&&(t.exports=o)})(this),function(e){"use strict";var t=function(e){return e.hashCode?e.hashCode:""+e},n=function(e,t){Object.keys(e).forEach(function(n){t[n]=e[n]})},i={};e.HashTable=e.inherit({initialize:function(){this.size=0,this._store={},this._keyStrMap={},this._deleted=0},set:function(e,n){var i=t(e);this._store.hasOwnProperty(i)||this.size++,this._store[i]=n,this._keyStrMap[i]=e},get:function(e){return this.size?(e=t(e),void 0!==this._store[e]?this._store[e]:null):null},clear:function(){this.size=0,this._store={},this._keyStrMap={}},_compact:function(){var e={};n(this._store,e),this._store=e},_compactThreshold:100,_perhapsCompact:function(){this._size>64||this._deleted>this._compactThreshold&&(this._compact(),this._deleted=0)},delete:function(e){e=t(e),this._store.hasOwnProperty(e)&&(this._deleted++,delete this._store[e],this.size>0&&this.size--)},each:function(e,t){if(this.size){this._perhapsCompact();var n=this._store,i=this._keyStrMap;Object.keys(this._store).forEach(function(r){e.call(t||null,i[r],n[r])},this)}},escapingEach:function(e,t){if(this.size){this._perhapsCompact();for(var n=this,r=this._store,s=this._keyStrMap,o=i,a=Object.keys(r),l=0;a.length>l;l++)if(function(i){n._store.hasOwnProperty(i)&&(o=e.call(t||null,s[i],r[i]))}(a[l]),o){if(void 0!==o.retval)return o;if(o.brk)break}}},clone:function(){var t=new e.HashTable;return this.size&&(t.size=this.size,n(this._store,t._store),n(this._keyStrMap,t._keyStrMap)),t},equals:function(t){if(t===this)return!0;if(!(t instanceof e.HashTable)||t._size!==this._size)return!1;for(var n=Object.keys(this._store),i=0;n.length>i;i++){var r=n[i];if(this._keyStrMap[r]!==t._keyStrMap[r]||this._store[r]!==t._store[r])return!1}return!0},toString:function(){var e="";return this.each(function(t,n){e+=t+" => "+n+"\n"}),e}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.HashSet=e.inherit({_t:"c.HashSet",initialize:function(){this.storage=[],this.size=0},add:function(e){var t=this.storage;t.indexOf(e),-1==t.indexOf(e)&&t.push(e),this.size=this.storage.length},values:function(){return this.storage},has:function(e){return-1!=this.storage.indexOf(e)},delete:function(e){var t=this.storage.indexOf(e);return-1==t?null:(this.storage.splice(t,1)[0],void(this.size=this.storage.length))},clear:function(){this.storage.length=0},each:function(e,t){this.size&&this.storage.forEach(e,t)},escapingEach:function(e,t){this.size&&this.storage.forEach(e,t)},toString:function(){var e=this.size+" {",t=!0;return this.each(function(n){t?t=!1:e+=", ",e+=n}),e+="}\n"},toJSON:function(){var e=[];return this.each(function(t){e.push(t.toJSON())}),{_t:"c.HashSet",data:e}},fromJSON:function(t){var n=new e.HashSet;return t.data&&(n.size=t.data.length,n.storage=t.data),n}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.Error=e.inherit({initialize:function(e){e&&(this._description=e)},_name:"c.Error",_description:"An error has occured in Cassowary",set description(e){this._description=e},get description(){return"("+this._name+") "+this._description},get message(){return this.description},toString:function(){return this.description}});var t=function(t,n){return e.inherit({extends:e.Error,initialize:function(){e.Error.apply(this,arguments)},_name:t||"",_description:n||""})};e.ConstraintNotFound=t("c.ConstraintNotFound","Tried to remove a constraint never added to the tableu"),e.InternalError=t("c.InternalError"),e.NonExpression=t("c.NonExpression","The resulting expression would be non"),e.NotEnoughStays=t("c.NotEnoughStays","There are not enough stays to give specific values to every variable"),e.RequiredFailure=t("c.RequiredFailure","A required constraint cannot be satisfied"),e.TooDifficult=t("c.TooDifficult","The constraints are too difficult to solve")}(this.c||e.parent.exports||{}),function(e){"use strict";e.SymbolicWeight=e.inherit({_t:"c.SymbolicWeight",initialize:function(){this.value=0;for(var e=1,t=arguments.length-1;t>=0;--t)this.value+=arguments[t]*e,e*=1e3},toJSON:function(){return{_t:this._t,value:this.value}}})}(this.c||e.parent.exports||{}),(t=this.c||e.parent.exports.c).Strength=t.inherit({initialize:function(e,n,i,r){this.name=e,this.symbolicWeight=n instanceof t.SymbolicWeight?n:new t.SymbolicWeight(n,i,r)},get required(){return this===t.Strength.required},toString:function(){return this.name+(this.isRequired?"":":"+this.symbolicWeight)}}),t.Strength.required=new t.Strength("<Required>",1e3,1e3,1e3),t.Strength.strong=new t.Strength("strong",1,0,0),t.Strength.medium=new t.Strength("medium",0,1,0),t.Strength.weak=new t.Strength("weak",0,0,1),function(e){"use strict";e.AbstractVariable=e.inherit({isDummy:!1,isExternal:!1,isPivotable:!1,isRestricted:!1,_init:function(t,n){this.hashCode=e._inc(),this.name=(n||"")+this.hashCode,t&&(void 0!==t.name&&(this.name=t.name),void 0!==t.value&&(this.value=t.value),void 0!==t.prefix&&(this._prefix=t.prefix))},_prefix:"",name:"",value:0,toJSON:function(){var e={};return this._t&&(e._t=this._t),this.name&&(e.name=this.name),void 0!==this.value&&(e.value=this.value),this._prefix&&(e._prefix=this._prefix),this._t&&(e._t=this._t),e},fromJSON:function(t,n){var i=new n;return e.extend(i,t),i},toString:function(){return this._prefix+"["+this.name+":"+this.value+"]"}}),e.Variable=e.inherit({_t:"c.Variable",extends:e.AbstractVariable,initialize:function(t){this._init(t,"v");var n=e.Variable._map;n&&(n[this.name]=this)},isExternal:!0}),e.DummyVariable=e.inherit({_t:"c.DummyVariable",extends:e.AbstractVariable,initialize:function(e){this._init(e,"d")},isDummy:!0,isRestricted:!0,value:"dummy"}),e.ObjectiveVariable=e.inherit({_t:"c.ObjectiveVariable",extends:e.AbstractVariable,initialize:function(e){this._init(e,"o")},value:"obj"}),e.SlackVariable=e.inherit({_t:"c.SlackVariable",extends:e.AbstractVariable,initialize:function(e){this._init(e,"s")},isPivotable:!0,isRestricted:!0,value:"slack"})}(this.c||e.parent.exports||{}),function(e){"use strict";e.Point=e.inherit({initialize:function(t,n,i){if(t instanceof e.Variable)this._x=t;else{var r={value:t};i&&(r.name="x"+i),this._x=new e.Variable(r)}if(n instanceof e.Variable)this._y=n;else{var s={value:n};i&&(s.name="y"+i),this._y=new e.Variable(s)}},get x(){return this._x},set x(t){t instanceof e.Variable?this._x=t:this._x.value=t},get y(){return this._y},set y(t){t instanceof e.Variable?this._y=t:this._y.value=t},toString:function(){return"("+this.x+", "+this.y+")"}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.Expression=e.inherit({initialize:function(t,n,i){e.GC&&console.log("new c.Expression"),this.constant="number"!=typeof i||isNaN(i)?0:i,this.terms=new e.HashTable,t instanceof e.AbstractVariable?this.setVariable(t,"number"==typeof n?n:1):"number"==typeof t&&(isNaN(t)?console.trace():this.constant=t)},initializeFromHash:function(t,n){return e.verbose&&(console.log("*******************************"),console.log("clone c.initializeFromHash"),console.log("*******************************")),e.GC&&console.log("clone c.Expression"),this.constant=t,this.terms=n.clone(),this},multiplyMe:function(e){this.constant*=e;var t=this.terms;return t.each(function(n,i){t.set(n,i*e)}),this},clone:function(){e.verbose&&(console.log("*******************************"),console.log("clone c.Expression"),console.log("*******************************"));var t=new e.Expression;return t.initializeFromHash(this.constant,this.terms),t},times:function(t){if("number"==typeof t)return this.clone().multiplyMe(t);if(this.isConstant)return t.times(this.constant);if(t.isConstant)return this.times(t.constant);throw new e.NonExpression},plus:function(t){return t instanceof e.Expression?this.clone().addExpression(t,1):t instanceof e.Variable?this.clone().addVariable(t,1):void 0},minus:function(t){return t instanceof e.Expression?this.clone().addExpression(t,-1):t instanceof e.Variable?this.clone().addVariable(t,-1):void 0},divide:function(t){if("number"==typeof t){if(e.approx(t,0))throw new e.NonExpression;return this.times(1/t)}if(t instanceof e.Expression){if(!t.isConstant)throw new e.NonExpression;return this.times(1/t.constant)}},addExpression:function(t,n,i,r){return t instanceof e.AbstractVariable&&(t=new e.Expression(t),e.trace&&console.log("addExpression: Had to cast a var to an expression")),n=n||1,this.constant+=n*t.constant,t.terms.each(function(e,t){this.addVariable(e,t*n,i,r)},this),this},addVariable:function(t,n,i,r){null==n&&(n=1),e.trace&&console.log("c.Expression::addVariable():",t,n);var s=this.terms.get(t);if(s){var o=s+n;0==o||e.approx(o,0)?(r&&r.noteRemovedVariable(t,i),this.terms.delete(t)):this.setVariable(t,o)}else e.approx(n,0)||(this.setVariable(t,n),r&&r.noteAddedVariable(t,i));return this},setVariable:function(e,t){return this.terms.set(e,t),this},anyPivotableVariable:function(){if(this.isConstant)throw new e.InternalError("anyPivotableVariable called on a constant");var t=this.terms.escapingEach(function(e){return e.isPivotable?{retval:e}:void 0});return t&&void 0!==t.retval?t.retval:null},substituteOut:function(t,n,i,r){e.trace&&(e.fnenterprint("CLE:substituteOut: "+t+", "+n+", "+i+", ..."),e.traceprint("this = "+this));var s=this.setVariable.bind(this),o=this.terms,a=o.get(t);o.delete(t),this.constant+=a*n.constant,n.terms.each(function(t,n){var l=o.get(t);if(l){var c=l+a*n;e.approx(c,0)?(r.noteRemovedVariable(t,i),o.delete(t)):s(t,c)}else s(t,a*n),r&&r.noteAddedVariable(t,i)}),e.trace&&e.traceprint("Now this is "+this)},changeSubject:function(e,t){this.setVariable(e,this.newSubject(t))},newSubject:function(t){e.trace&&e.fnenterprint("newSubject:"+t);var n=1/this.terms.get(t);return this.terms.delete(t),this.multiplyMe(-n),n},coefficientFor:function(e){return this.terms.get(e)||0},get isConstant(){return 0==this.terms.size},toString:function(){var t="",n=!1;if(!e.approx(this.constant,0)||this.isConstant){if(t+=this.constant,this.isConstant)return t;n=!0}return this.terms.each(function(e,i){n&&(t+=" + "),t+=i+"*"+e,n=!0}),t},equals:function(t){return t===this||t instanceof e.Expression&&t.constant===this.constant&&t.terms.equals(this.terms)},Plus:function(e,t){return e.plus(t)},Minus:function(e,t){return e.minus(t)},Times:function(e,t){return e.times(t)},Divide:function(e,t){return e.divide(t)}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.AbstractConstraint=e.inherit({initialize:function(t,n){this.hashCode=e._inc(),this.strength=t||e.Strength.required,this.weight=n||1},isEditConstraint:!1,isInequality:!1,isStayConstraint:!1,get required(){return this.strength===e.Strength.required},toString:function(){return this.strength+" {"+this.weight+"} ("+this.expression+")"}});var t=e.AbstractConstraint.prototype.toString,n=function(t,n,i){e.AbstractConstraint.call(this,n||e.Strength.strong,i),this.variable=t,this.expression=new e.Expression(t,-1,t.value)};e.EditConstraint=e.inherit({extends:e.AbstractConstraint,initialize:function(){n.apply(this,arguments)},isEditConstraint:!0,toString:function(){return"edit:"+t.call(this)}}),e.StayConstraint=e.inherit({extends:e.AbstractConstraint,initialize:function(){n.apply(this,arguments)},isStayConstraint:!0,toString:function(){return"stay:"+t.call(this)}});var i=e.Constraint=e.inherit({extends:e.AbstractConstraint,initialize:function(t,n,i){e.AbstractConstraint.call(this,n,i),this.expression=t}});e.Inequality=e.inherit({extends:e.Constraint,_cloneOrNewCle:function(t){return t.clone?t.clone():new e.Expression(t)},initialize:function(t,n,r,s,o){var a=t instanceof e.Expression,l=r instanceof e.Expression,c=t instanceof e.AbstractVariable,u=r instanceof e.AbstractVariable,d="number"==typeof t,h="number"==typeof r;if((a||d)&&u){var p=t,f=n,m=r,g=s,b=o;if(i.call(this,this._cloneOrNewCle(p),g,b),f==e.LEQ)this.expression.multiplyMe(-1),this.expression.addVariable(m);else{if(f!=e.GEQ)throw new e.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(m,-1)}}else if(c&&(l||h)){p=r,f=n,m=t,g=s,b=o;if(i.call(this,this._cloneOrNewCle(p),g,b),f==e.GEQ)this.expression.multiplyMe(-1),this.expression.addVariable(m);else{if(f!=e.LEQ)throw new e.InternalError("Invalid operator in c.Inequality constructor");this.expression.addVariable(m,-1)}}else{if(a&&h){var v=t,y=(f=n,r);g=s,b=o;if(i.call(this,this._cloneOrNewCle(v),g,b),f==e.LEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(y));else{if(f!=e.GEQ)throw new e.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(y),-1)}return this}if(d&&l){v=r,f=n,y=t,g=s,b=o;if(i.call(this,this._cloneOrNewCle(v),g,b),f==e.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(y));else{if(f!=e.LEQ)throw new e.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(y),-1)}return this}if(a&&l){v=t,f=n,y=r,g=s,b=o;if(i.call(this,this._cloneOrNewCle(y),g,b),f==e.GEQ)this.expression.multiplyMe(-1),this.expression.addExpression(this._cloneOrNewCle(v));else{if(f!=e.LEQ)throw new e.InternalError("Invalid operator in c.Inequality constructor");this.expression.addExpression(this._cloneOrNewCle(v),-1)}}else{if(a)return i.call(this,t,n,r);if(n==e.GEQ)i.call(this,new e.Expression(r),s,o),this.expression.multiplyMe(-1),this.expression.addVariable(t);else{if(n!=e.LEQ)throw new e.InternalError("Invalid operator in c.Inequality constructor");i.call(this,new e.Expression(r),s,o),this.expression.addVariable(t,-1)}}}},isInequality:!0,toString:function(){return i.prototype.toString.call(this)+" >= 0) id: "+this.hashCode}}),e.Equation=e.inherit({extends:e.Constraint,initialize:function(t,n,r,s){if(t instanceof e.Expression&&!n||n instanceof e.Strength)i.call(this,t,n,r);else if(t instanceof e.AbstractVariable&&n instanceof e.Expression){var o=t,a=n,l=r,c=s;i.call(this,a.clone(),l,c),this.expression.addVariable(o,-1)}else if(t instanceof e.AbstractVariable&&"number"==typeof n){o=t;var u=n;l=r,c=s;i.call(this,new e.Expression(u),l,c),this.expression.addVariable(o,-1)}else if(t instanceof e.Expression&&n instanceof e.AbstractVariable){a=t,o=n,l=r,c=s;i.call(this,a.clone(),l,c),this.expression.addVariable(o,-1)}else{if(!(t instanceof e.Expression||t instanceof e.AbstractVariable||"number"==typeof t)||!(n instanceof e.Expression||n instanceof e.AbstractVariable||"number"==typeof n))throw"Bad initializer to c.Equation";t=t instanceof e.Expression?t.clone():new e.Expression(t),n=n instanceof e.Expression?n.clone():new e.Expression(n),i.call(this,t,r,s),this.expression.addExpression(n,-1)}e.assert(this.strength instanceof e.Strength,"_strength not set")},toString:function(){return i.prototype.toString.call(this)+" = 0)"}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.EditInfo=e.inherit({initialize:function(e,t,n,i,r){this.constraint=e,this.editPlus=t,this.editMinus=n,this.prevEditConstant=i,this.index=r},toString:function(){return"<cn="+this.constraint+", ep="+this.editPlus+", em="+this.editMinus+", pec="+this.prevEditConstant+", index="+this.index+">"}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.Tableau=e.inherit({initialize:function(){this.columns=new e.HashTable,this.rows=new e.HashTable,this._infeasibleRows=new e.HashSet,this._externalRows=new e.HashSet,this._externalParametricVars=new e.HashSet},noteRemovedVariable:function(t,n){e.trace&&console.log("c.Tableau::noteRemovedVariable: ",t,n);var i=this.columns.get(t);n&&i&&i.delete(n)},noteAddedVariable:function(e,t){t&&this.insertColVar(e,t)},getInternalInfo:function(){var e="Tableau Information:\n";return e+="Rows: "+this.rows.size,e+=" (= "+(this.rows.size-1)+" constraints)",e+="\nColumns: "+this.columns.size,e+="\nInfeasible Rows: "+this._infeasibleRows.size,e+="\nExternal basic variables: "+this._externalRows.size,e+="\nExternal parametric variables: ",(e+=this._externalParametricVars.size)+"\n"},toString:function(){var e="Tableau:\n";return this.rows.each(function(t,n){e+=t,e+=" <==> ",e+=n,e+="\n"}),e+="\nColumns:\n",e+=this.columns,e+="\nInfeasible rows: ",e+=this._infeasibleRows,e+="External basic variables: ",e+=this._externalRows,e+="External parametric variables: ",e+=this._externalParametricVars},insertColVar:function(t,n){var i=this.columns.get(t);i||(i=new e.HashSet,this.columns.set(t,i)),i.add(n)},addRow:function(t,n){e.trace&&e.fnenterprint("addRow: "+t+", "+n),this.rows.set(t,n),n.terms.each(function(e){this.insertColVar(e,t),e.isExternal&&this._externalParametricVars.add(e)},this),t.isExternal&&this._externalRows.add(t),e.trace&&e.traceprint(""+this)},removeColumn:function(t){e.trace&&e.fnenterprint("removeColumn:"+t);var n=this.columns.get(t);n?(this.columns.delete(t),n.each(function(e){this.rows.get(e).terms.delete(t)},this)):e.trace&&console.log("Could not find var",t,"in columns"),t.isExternal&&(this._externalRows.delete(t),this._externalParametricVars.delete(t))},removeRow:function(t){e.trace&&e.fnenterprint("removeRow:"+t);var n=this.rows.get(t);return e.assert(null!=n),n.terms.each(function(n){var i=this.columns.get(n);null!=i&&(e.trace&&console.log("removing from varset:",t),i.delete(t))},this),this._infeasibleRows.delete(t),t.isExternal&&this._externalRows.delete(t),this.rows.delete(t),e.trace&&e.fnexitprint("returning "+n),n},substituteOut:function(t,n){e.trace&&e.fnenterprint("substituteOut:"+t+", "+n),e.trace&&e.traceprint(""+this),this.columns.get(t).each(function(e){var i=this.rows.get(e);i.substituteOut(t,n,e,this),e.isRestricted&&0>i.constant&&this._infeasibleRows.add(e)},this),t.isExternal&&(this._externalRows.add(t),this._externalParametricVars.delete(t)),this.columns.delete(t)},columnsHasKey:function(e){return!!this.columns.get(e)}})}(this.c||e.parent.exports||{}),function(e){var t=e.Tableau.prototype,n=e.Strength.weak;e.SimplexSolver=e.inherit({extends:e.Tableau,initialize:function(){e.Tableau.call(this),this._stayMinusErrorVars=[],this._stayPlusErrorVars=[],this._errorVars=new e.HashTable,this._markerVars=new e.HashTable,this._objective=new e.ObjectiveVariable({name:"Z"}),this._editVarMap=new e.HashTable,this._editVarList=[],this._slackCounter=0,this._artificialCounter=0,this._dummyCounter=0,this.autoSolve=!0,this._fNeedsSolving=!1,this._optimizeCount=0,this.rows.set(this._objective,new e.Expression),this._stkCedcns=[0],e.trace&&e.traceprint("objective expr == "+this.rows.get(this._objective))},addLowerBound:function(t,n){var i=new e.Inequality(t,e.GEQ,new e.Expression(n));return this.addConstraint(i)},addUpperBound:function(t,n){var i=new e.Inequality(t,e.LEQ,new e.Expression(n));return this.addConstraint(i)},addBounds:function(e,t,n){return this.addLowerBound(e,t),this.addUpperBound(e,n),this},add:function(){for(var e=0;arguments.length>e;e++)this.addConstraint(arguments[e]);return this},addConstraint:function(t){e.trace&&e.fnenterprint("addConstraint: "+t);var n=Array(2),i=Array(1),r=this.newExpression(t,n,i);if(i=i[0],this.tryAddingDirectly(r)||this.addWithArtificialVariable(r),this._fNeedsSolving=!0,t.isEditConstraint){var s=this._editVarMap.size,o=n[0],a=n[1];!o instanceof e.SlackVariable&&console.warn("cvEplus not a slack variable =",o),!a instanceof e.SlackVariable&&console.warn("cvEminus not a slack variable =",a),e.debug&&console.log("new c.EditInfo("+t+", "+o+", "+a+", "+i+", "+s+")");var l=new e.EditInfo(t,o,a,i,s);this._editVarMap.set(t.variable,l),this._editVarList[s]={v:t.variable,info:l}}return this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},addConstraintNoException:function(t){e.trace&&e.fnenterprint("addConstraintNoException: "+t);try{return this.addConstraint(t),!0}catch(e){return!1}},addEditVar:function(t,n){return e.trace&&e.fnenterprint("addEditVar: "+t+" @ "+n),this.addConstraint(new e.EditConstraint(t,n||e.Strength.strong))},beginEdit:function(){return e.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this._infeasibleRows.clear(),this._resetStayConstants(),this._stkCedcns.push(this._editVarMap.size),this},endEdit:function(){return e.assert(this._editVarMap.size>0,"_editVarMap.size > 0"),this.resolve(),this._stkCedcns.pop(),this.removeEditVarsTo(this._stkCedcns[this._stkCedcns.length-1]),this},removeAllEditVars:function(){return this.removeEditVarsTo(0)},removeEditVarsTo:function(t){try{for(var n=this._editVarList.length,i=t;n>i;i++)this._editVarList[i]&&this.removeConstraint(this._editVarMap.get(this._editVarList[i].v).constraint);return this._editVarList.length=t,e.assert(this._editVarMap.size==t,"_editVarMap.size == n"),this}catch(t){throw new e.InternalError("Constraint not found in removeEditVarsTo")}},addPointStays:function(t){return e.trace&&console.log("addPointStays",t),t.forEach(function(e,t){this.addStay(e.x,n,Math.pow(2,t)),this.addStay(e.y,n,Math.pow(2,t))},this),this},addStay:function(t,i,r){var s=new e.StayConstraint(t,i||n,r||1);return this.addConstraint(s)},removeConstraint:function(e){return this.removeConstraintInternal(e),this},removeConstraintInternal:function(t){e.trace&&e.fnenterprint("removeConstraintInternal: "+t),e.trace&&e.traceprint(""+this),this._fNeedsSolving=!0,this._resetStayConstants();var n=this.rows.get(this._objective),i=this._errorVars.get(t);e.trace&&e.traceprint("eVars == "+i),null!=i&&i.each(function(r){var s=this.rows.get(r);null==s?n.addVariable(r,-t.weight*t.strength.symbolicWeight.value,this._objective,this):n.addExpression(s,-t.weight*t.strength.symbolicWeight.value,this._objective,this),e.trace&&e.traceprint("now eVars == "+i)},this);var r=this._markerVars.get(t);if(this._markerVars.delete(t),null==r)throw new e.InternalError("Constraint not found in removeConstraintInternal");if(e.trace&&e.traceprint("Looking to remove var "+r),null==this.rows.get(r)){var s=this.columns.get(r);e.trace&&e.traceprint("Must pivot -- columns are "+s);var o=null,a=0;s.each(function(t){if(t.isRestricted){var n=this.rows.get(t),i=n.coefficientFor(r);if(e.trace&&e.traceprint("Marker "+r+"'s coefficient in "+n+" is "+i),0>i){var s=-n.constant/i;(null==o||a>s||e.approx(s,a)&&t.hashCode<o.hashCode)&&(a=s,o=t)}}},this),null==o&&(e.trace&&e.traceprint("exitVar is still null"),s.each(function(e){if(e.isRestricted){var t=this.rows.get(e),n=t.coefficientFor(r),i=t.constant/n;(null==o||a>i)&&(a=i,o=e)}},this)),null==o&&(0==s.size?this.removeColumn(r):s.escapingEach(function(e){return e!=this._objective?(o=e,{brk:!0}):void 0},this)),null!=o&&this.pivot(r,o)}if(null!=this.rows.get(r)&&this.removeRow(r),null!=i&&i.each(function(e){e!=r&&this.removeColumn(e)},this),t.isStayConstraint){if(null!=i)for(var l=0;this._stayPlusErrorVars.length>l;l++)i.delete(this._stayPlusErrorVars[l]),i.delete(this._stayMinusErrorVars[l])}else if(t.isEditConstraint){e.assert(null!=i,"eVars != null");var c=this._editVarMap.get(t.variable);this.removeColumn(c.editMinus),this._editVarMap.delete(t.variable)}return null!=i&&this._errorVars.delete(i),this.autoSolve&&(this.optimize(this._objective),this._setExternalVariables()),this},reset:function(){throw e.trace&&e.fnenterprint("reset"),new e.InternalError("reset not implemented")},resolveArray:function(t){e.trace&&e.fnenterprint("resolveArray"+t);var n=t.length;this._editVarMap.each(function(e,i){var r=i.index;n>r&&this.suggestValue(e,t[r])},this),this.resolve()},resolvePair:function(e,t){this.suggestValue(this._editVarList[0].v,e),this.suggestValue(this._editVarList[1].v,t),this.resolve()},resolve:function(){e.trace&&e.fnenterprint("resolve()"),this.dualOptimize(),this._setExternalVariables(),this._infeasibleRows.clear(),this._resetStayConstants()},suggestValue:function(t,n){e.trace&&console.log("suggestValue("+t+", "+n+")");var i=this._editVarMap.get(t);if(!i)throw new e.Error("suggestValue for variable "+t+", but var is not an edit variable");var r=n-i.prevEditConstant;return i.prevEditConstant=n,this.deltaEditConstant(r,i.editPlus,i.editMinus),this},solve:function(){return this._fNeedsSolving&&(this.optimize(this._objective),this._setExternalVariables()),this},setEditedValue:function(t,n){if(!this.columnsHasKey(t)&&null==this.rows.get(t))return t.value=n,this;if(!e.approx(n,t.value)){this.addEditVar(t),this.beginEdit();try{this.suggestValue(t,n)}catch(t){throw new e.InternalError("Error in setEditedValue")}this.endEdit()}return this},addVar:function(t){if(!this.columnsHasKey(t)&&null==this.rows.get(t)){try{this.addStay(t)}catch(t){throw new e.InternalError("Error in addVar -- required failure is impossible")}e.trace&&e.traceprint("added initial stay on "+t)}return this},getInternalInfo:function(){var e=t.getInternalInfo.call(this);return e+="\nSolver info:\n",e+="Stay Error Variables: ",e+=this._stayPlusErrorVars.length+this._stayMinusErrorVars.length,e+=" ("+this._stayPlusErrorVars.length+" +, ",e+=this._stayMinusErrorVars.length+" -)\n",(e+="Edit Variables: "+this._editVarMap.size)+"\n"},getDebugInfo:function(){return""+this+this.getInternalInfo()+"\n"},toString:function(){var e=t.getInternalInfo.call(this);return e+="\n_stayPlusErrorVars: ",e+="["+this._stayPlusErrorVars+"]",e+="\n_stayMinusErrorVars: ",e+="["+this._stayMinusErrorVars+"]",e+="\n",(e+="_editVarMap:\n"+this._editVarMap)+"\n"},getConstraintMap:function(){return this._markerVars},addWithArtificialVariable:function(t){e.trace&&e.fnenterprint("addWithArtificialVariable: "+t);var n=new e.SlackVariable({value:++this._artificialCounter,prefix:"a"}),i=new e.ObjectiveVariable({name:"az"}),r=t.clone();e.trace&&e.traceprint("before addRows:\n"+this),this.addRow(i,r),this.addRow(n,t),e.trace&&e.traceprint("after addRows:\n"+this),this.optimize(i);var s=this.rows.get(i);if(e.trace&&e.traceprint("azTableauRow.constant == "+s.constant),!e.approx(s.constant,0))throw this.removeRow(i),this.removeColumn(n),new e.RequiredFailure;var o=this.rows.get(n);if(null!=o){if(o.isConstant)return this.removeRow(n),void this.removeRow(i);var a=o.anyPivotableVariable();this.pivot(a,n)}e.assert(null==this.rows.get(n),"rowExpression(av) == null"),this.removeColumn(n),this.removeRow(i)},tryAddingDirectly:function(t){e.trace&&e.fnenterprint("tryAddingDirectly: "+t);var n=this.chooseSubject(t);return null==n?(e.trace&&e.fnexitprint("returning false"),!1):(t.newSubject(n),this.columnsHasKey(n)&&this.substituteOut(n,t),this.addRow(n,t),e.trace&&e.fnexitprint("returning true"),!0)},chooseSubject:function(t){e.trace&&e.fnenterprint("chooseSubject: "+t);var n=null,i=!1,r=!1,s=t.terms;if((o=s.escapingEach(function(e,t){if(i){if(!e.isRestricted&&!this.columnsHasKey(e))return{retval:e}}else if(e.isRestricted){if(!r&&!e.isDummy&&0>t){var s=this.columns.get(e);(null==s||1==s.size&&this.columnsHasKey(this._objective))&&(n=e,r=!0)}}else n=e,i=!0},this))&&void 0!==o.retval)return o.retval;if(null!=n)return n;var o,a=0;if((o=s.escapingEach(function(e,t){return e.isDummy?void(this.columnsHasKey(e)||(n=e,a=t)):{retval:null}},this))&&void 0!==o.retval)return o.retval;if(!e.approx(t.constant,0))throw new e.RequiredFailure;return a>0&&t.multiplyMe(-1),n},deltaEditConstant:function(t,n,i){e.trace&&e.fnenterprint("deltaEditConstant :"+t+", "+n+", "+i);var r=this.rows.get(n);if(null!=r)return r.constant+=t,void(0>r.constant&&this._infeasibleRows.add(n));var s=this.rows.get(i);if(null!=s)return s.constant+=-t,void(0>s.constant&&this._infeasibleRows.add(i));var o=this.columns.get(i);o||console.log("columnVars is null -- tableau is:\n"+this),o.each(function(e){var n=this.rows.get(e),r=n.coefficientFor(i);n.constant+=r*t,e.isRestricted&&0>n.constant&&this._infeasibleRows.add(e)},this)},dualOptimize:function(){e.trace&&e.fnenterprint("dualOptimize:");for(var t=this.rows.get(this._objective);this._infeasibleRows.size;){var n=this._infeasibleRows.values()[0];this._infeasibleRows.delete(n);var i=null,r=this.rows.get(n);if(r&&0>r.constant){var s,o=Number.MAX_VALUE;if(r.terms.each(function(n,r){if(r>0&&n.isPivotable){var a=t.coefficientFor(n);(o>(s=a/r)||e.approx(s,o)&&n.hashCode<i.hashCode)&&(i=n,o=s)}}),o==Number.MAX_VALUE)throw new e.InternalError("ratio == nil (MAX_VALUE) in dualOptimize");this.pivot(i,n)}}},newExpression:function(t,n,i){e.trace&&(e.fnenterprint("newExpression: "+t),e.traceprint("cn.isInequality == "+t.isInequality),e.traceprint("cn.required == "+t.required));var r=t.expression,s=new e.Expression(r.constant),o=new e.SlackVariable,a=new e.DummyVariable,l=new e.SlackVariable,c=new e.SlackVariable;if(r.terms.each(function(e,t){var n=this.rows.get(e);n?s.addExpression(n,t):s.addVariable(e,t)},this),t.isInequality)e.trace&&e.traceprint("Inequality, adding slack"),++this._slackCounter,o=new e.SlackVariable({value:this._slackCounter,prefix:"s"}),s.setVariable(o,-1),this._markerVars.set(t,o),t.required||(++this._slackCounter,l=new e.SlackVariable({value:this._slackCounter,prefix:"em"}),s.setVariable(l,1),(u=this.rows.get(this._objective)).setVariable(l,t.strength.symbolicWeight.value*t.weight),this.insertErrorVar(t,l),this.noteAddedVariable(l,this._objective));else if(t.required)e.trace&&e.traceprint("Equality, required"),++this._dummyCounter,a=new e.DummyVariable({value:this._dummyCounter,prefix:"d"}),s.setVariable(a,1),this._markerVars.set(t,a),e.trace&&e.traceprint("Adding dummyVar == d"+this._dummyCounter);else{e.trace&&e.traceprint("Equality, not required"),++this._slackCounter,c=new e.SlackVariable({value:this._slackCounter,prefix:"ep"}),l=new e.SlackVariable({value:this._slackCounter,prefix:"em"}),s.setVariable(c,-1),s.setVariable(l,1),this._markerVars.set(t,c);var u=this.rows.get(this._objective);e.trace&&console.log(u);var d=t.strength.symbolicWeight.value*t.weight;0==d&&(e.trace&&e.traceprint("cn == "+t),e.trace&&e.traceprint("adding "+c+" and "+l+" with swCoeff == "+d)),u.setVariable(c,d),this.noteAddedVariable(c,this._objective),u.setVariable(l,d),this.noteAddedVariable(l,this._objective),this.insertErrorVar(t,l),this.insertErrorVar(t,c),t.isStayConstraint?(this._stayPlusErrorVars.push(c),this._stayMinusErrorVars.push(l)):t.isEditConstraint&&(n[0]=c,n[1]=l,i[0]=r.constant)}return 0>s.constant&&s.multiplyMe(-1),e.trace&&e.fnexitprint("returning "+s),s},optimize:function(t){e.trace&&e.fnenterprint("optimize: "+t),e.trace&&e.traceprint(""+this),this._optimizeCount++;var n=this.rows.get(t);e.assert(null!=n,"zRow != null");for(var i,r=null,s=null;;){if(i=0,n.terms.escapingEach(function(e,t){return e.isPivotable&&i>t?(i=t,r=e,{brk:1}):void 0},this),i>=-1e-8)return;e.trace&&console.log("entryVar:",r,"objectiveCoeff:",i);var o=Number.MAX_VALUE,a=0;if(this.columns.get(r).each(function(t){if(e.trace&&e.traceprint("Checking "+t),t.isPivotable){var n=this.rows.get(t),i=n.coefficientFor(r);e.trace&&e.traceprint("pivotable, coeff = "+i),0>i&&(a=-n.constant/i,(o>a||e.approx(a,o)&&t.hashCode<s.hashCode)&&(o=a,s=t))}},this),o==Number.MAX_VALUE)throw new e.InternalError("Objective function is unbounded in optimize");this.pivot(r,s),e.trace&&e.traceprint(""+this)}},pivot:function(t,n){e.trace&&console.log("pivot: ",t,n);null==t&&console.warn("pivot: entryVar == null"),null==n&&console.warn("pivot: exitVar == null");var i=this.removeRow(n);i.changeSubject(n,t),this.substituteOut(t,i),this.addRow(t,i)},_resetStayConstants:function(){e.trace&&console.log("_resetStayConstants");for(var t=0;this._stayPlusErrorVars.length>t;t++){var n=this.rows.get(this._stayPlusErrorVars[t]);null==n&&(n=this.rows.get(this._stayMinusErrorVars[t])),null!=n&&(n.constant=0)}},_setExternalVariables:function(){e.trace&&e.fnenterprint("_setExternalVariables:"),e.trace&&e.traceprint(""+this),this._externalParametricVars.each(function(t){null!=this.rows.get(t)?e.trace&&console.log("Error: variable"+t+" in _externalParametricVars is basic"):t.value=0},this),this._externalRows.each(function(e){var t=this.rows.get(e);e.value!=t.constant&&(e.value=t.constant)},this),this._fNeedsSolving=!1,this.onsolved()},onsolved:function(){},insertErrorVar:function(t,n){e.trace&&e.fnenterprint("insertErrorVar:"+t+", "+n);var i=this._errorVars.get(n);i||(i=new e.HashSet,this._errorVars.set(t,i)),i.add(n)}})}(this.c||e.parent.exports||{}),function(e){"use strict";e.Timer=e.inherit({initialize:function(){this.isRunning=!1,this._elapsedMs=0},start:function(){return this.isRunning=!0,this._startReading=new Date,this},stop:function(){return this.isRunning=!1,this._elapsedMs+=new Date-this._startReading,this},reset:function(){return this.isRunning=!1,this._elapsedMs=0,this},elapsedTime:function(){return this.isRunning?(this._elapsedMs+(new Date-this._startReading))/1e3:this._elapsedMs/1e3}})}(this.c||e.parent.exports||{}),__cassowary_parser=function(){function e(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var t={parse:function(t,n){function i(e){L>V||(V>L&&(L=V,F=[]),F.push(e))}function r(){var e,t,n,i;return n=V,i=V,null!==(e=A())?null!==(t=u())?e=[e,t]:(e=null,V=i):(e=null,V=i),null!==e&&(e=function(e,t){return t}(0,e[0])),null===e&&(V=n),e}function s(){var e;return t.length>V?(e=t.charAt(V),V++):(e=null,0===N&&i("any character")),e}function o(){var e;return/^[a-zA-Z]/.test(t.charAt(V))?(e=t.charAt(V),V++):(e=null,0===N&&i("[a-zA-Z]")),null===e&&(36===t.charCodeAt(V)?(e="$",V++):(e=null,0===N&&i('"$"')),null===e&&(95===t.charCodeAt(V)?(e="_",V++):(e=null,0===N&&i('"_"')))),e}function a(){var e;return N++,/^[\t\x0B\f \xA0\uFEFF]/.test(t.charAt(V))?(e=t.charAt(V),V++):(e=null,0===N&&i("[\\t\\x0B\\f \\xA0\\uFEFF]")),0===--N&&null===e&&i("whitespace"),e}function l(){var e;return/^[\n\r\u2028\u2029]/.test(t.charAt(V))?(e=t.charAt(V),V++):(e=null,0===N&&i("[\\n\\r\\u2028\\u2029]")),e}function c(){var e;return N++,10===t.charCodeAt(V)?(e="\n",V++):(e=null,0===N&&i('"\\n"')),null===e&&("\r\n"===t.substr(V,2)?(e="\r\n",V+=2):(e=null,0===N&&i('"\\r\\n"')),null===e&&(13===t.charCodeAt(V)?(e="\r",V++):(e=null,0===N&&i('"\\r"')),null===e&&(8232===t.charCodeAt(V)?(e="\u2028",V++):(e=null,0===N&&i('"\\u2028"')),null===e&&(8233===t.charCodeAt(V)?(e="\u2029",V++):(e=null,0===N&&i('"\\u2029"')))))),0===--N&&null===e&&i("end of line"),e}function u(){var e,n,r;return r=V,null!==(e=b())?(59===t.charCodeAt(V)?(n=";",V++):(n=null,0===N&&i('";"')),null!==n?e=[e,n]:(e=null,V=r)):(e=null,V=r),null===e&&(r=V,null!==(e=g())?null!==(n=c())?e=[e,n]:(e=null,V=r):(e=null,V=r),null===e&&(r=V,null!==(e=b())?null!==(n=d())?e=[e,n]:(e=null,V=r):(e=null,V=r))),e}function d(){var e,n;return n=V,N++,t.length>V?(e=t.charAt(V),V++):(e=null,0===N&&i("any character")),N--,null===e?e="":(e=null,V=n),e}function h(){var e;return N++,null===(e=p())&&(e=m()),0===--N&&null===e&&i("comment"),e}function p(){var e,n,r,o,a,l,c;if(a=V,"/*"===t.substr(V,2)?(e="/*",V+=2):(e=null,0===N&&i('"/*"')),null!==e){for(n=[],l=V,c=V,N++,"*/"===t.substr(V,2)?(r="*/",V+=2):(r=null,0===N&&i('"*/"')),N--,null===r?r="":(r=null,V=c),null!==r?null!==(o=s())?r=[r,o]:(r=null,V=l):(r=null,V=l);null!==r;)n.push(r),l=V,c=V,N++,"*/"===t.substr(V,2)?(r="*/",V+=2):(r=null,0===N&&i('"*/"')),N--,null===r?r="":(r=null,V=c),null!==r?null!==(o=s())?r=[r,o]:(r=null,V=l):(r=null,V=l);null!==n?("*/"===t.substr(V,2)?(r="*/",V+=2):(r=null,0===N&&i('"*/"')),null!==r?e=[e,n,r]:(e=null,V=a)):(e=null,V=a)}else e=null,V=a;return e}function f(){var e,n,r,o,a,c,u;if(a=V,"/*"===t.substr(V,2)?(e="/*",V+=2):(e=null,0===N&&i('"/*"')),null!==e){for(n=[],c=V,u=V,N++,"*/"===t.substr(V,2)?(r="*/",V+=2):(r=null,0===N&&i('"*/"')),null===r&&(r=l()),N--,null===r?r="":(r=null,V=u),null!==r?null!==(o=s())?r=[r,o]:(r=null,V=c):(r=null,V=c);null!==r;)n.push(r),c=V,u=V,N++,"*/"===t.substr(V,2)?(r="*/",V+=2):(r=null,0===N&&i('"*/"')),null===r&&(r=l()),N--,null===r?r="":(r=null,V=u),null!==r?null!==(o=s())?r=[r,o]:(r=null,V=c):(r=null,V=c);null!==n?("*/"===t.substr(V,2)?(r="*/",V+=2):(r=null,0===N&&i('"*/"')),null!==r?e=[e,n,r]:(e=null,V=a)):(e=null,V=a)}else e=null,V=a;return e}function m(){var e,n,r,o,a,c,u;if(a=V,"//"===t.substr(V,2)?(e="//",V+=2):(e=null,0===N&&i('"//"')),null!==e){for(n=[],c=V,u=V,N++,r=l(),N--,null===r?r="":(r=null,V=u),null!==r?null!==(o=s())?r=[r,o]:(r=null,V=c):(r=null,V=c);null!==r;)n.push(r),c=V,u=V,N++,r=l(),N--,null===r?r="":(r=null,V=u),null!==r?null!==(o=s())?r=[r,o]:(r=null,V=c):(r=null,V=c);null!==n?e=[e,n]:(e=null,V=a)}else e=null,V=a;return e}function g(){var e,t;for(e=[],null===(t=a())&&(null===(t=f())&&(t=m()));null!==t;)e.push(t),null===(t=a())&&(null===(t=f())&&(t=m()));return e}function b(){var e,t;for(e=[],null===(t=a())&&(null===(t=c())&&(t=h()));null!==t;)e.push(t),null===(t=a())&&(null===(t=c())&&(t=h()));return e}function v(){var e,t;return t=V,null===(e=w())&&(e=y()),null!==e&&(e=function(e,t){return{type:"NumericLiteral",value:t}}(0,e)),null===e&&(V=t),e}function y(){var e,n,r;if(r=V,/^[0-9]/.test(t.charAt(V))?(n=t.charAt(V),V++):(n=null,0===N&&i("[0-9]")),null!==n)for(e=[];null!==n;)e.push(n),/^[0-9]/.test(t.charAt(V))?(n=t.charAt(V),V++):(n=null,0===N&&i("[0-9]"));else e=null;return null!==e&&(e=function(e,t){return parseInt(t.join(""))}(0,e)),null===e&&(V=r),e}function w(){var e,n,r,s,o;return s=V,o=V,null!==(e=y())?(46===t.charCodeAt(V)?(n=".",V++):(n=null,0===N&&i('"."')),null!==n?null!==(r=y())?e=[e,n,r]:(e=null,V=o):(e=null,V=o)):(e=null,V=o),null!==e&&(e=function(e,t){return parseFloat(t.join(""))}(0,e)),null===e&&(V=s),e}function C(){var e,t;return N++,t=V,null!==(e=E())&&(e=function(e,t){return t}(0,e)),null===e&&(V=t),0===--N&&null===e&&i("identifier"),e}function E(){var e,t,n,r,s;if(N++,r=V,s=V,null!==(e=o())){for(t=[],n=o();null!==n;)t.push(n),n=o();null!==t?e=[e,t]:(e=null,V=s)}else e=null,V=s;return null!==e&&(e=function(e,t,n){return t+n.join("")}(0,e[0],e[1])),null===e&&(V=r),0===--N&&null===e&&i("identifier"),e}function x(){var e,n,r,s,o,a,l;return a=V,null!==(e=C())&&(e=function(e,t){return{type:"Variable",name:t}}(0,e)),null===e&&(V=a),null===e&&(null===(e=v())&&(a=V,l=V,40===t.charCodeAt(V)?(e="(",V++):(e=null,0===N&&i('"("')),null!==e?null!==(n=b())?null!==(r=A())?null!==(s=b())?(41===t.charCodeAt(V)?(o=")",V++):(o=null,0===N&&i('")"')),null!==o?e=[e,n,r,s,o]:(e=null,V=l)):(e=null,V=l):(e=null,V=l):(e=null,V=l):(e=null,V=l),null!==e&&(e=function(e,t){return t}(0,e[2])),null===e&&(V=a))),e}function _(){var e,t,n,i,r;return null===(e=x())&&(i=V,r=V,null!==(e=k())?null!==(t=b())?null!==(n=_())?e=[e,t,n]:(e=null,V=r):(e=null,V=r):(e=null,V=r),null!==e&&(e=function(e,t,n){return{type:"UnaryExpression",operator:t,expression:n}}(0,e[0],e[2])),null===e&&(V=i)),e}function k(){var e;return 43===t.charCodeAt(V)?(e="+",V++):(e=null,0===N&&i('"+"')),null===e&&(45===t.charCodeAt(V)?(e="-",V++):(e=null,0===N&&i('"-"')),null===e&&(33===t.charCodeAt(V)?(e="!",V++):(e=null,0===N&&i('"!"')))),e}function S(){var e,t,n,i,r,s,o,a,l;if(o=V,a=V,null!==(e=_())){for(t=[],l=V,null!==(n=b())?null!==(i=D())?null!==(r=b())?null!==(s=_())?n=[n,i,r,s]:(n=null,V=l):(n=null,V=l):(n=null,V=l):(n=null,V=l);null!==n;)t.push(n),l=V,null!==(n=b())?null!==(i=D())?null!==(r=b())?null!==(s=_())?n=[n,i,r,s]:(n=null,V=l):(n=null,V=l):(n=null,V=l):(n=null,V=l);null!==t?e=[e,t]:(e=null,V=a)}else e=null,V=a;return null!==e&&(e=function(e,t,n){for(var i=t,r=0;n.length>r;r++)i={type:"MultiplicativeExpression",operator:n[r][1],left:i,right:n[r][3]};return i}(0,e[0],e[1])),null===e&&(V=o),e}function D(){var e;return 42===t.charCodeAt(V)?(e="*",V++):(e=null,0===N&&i('"*"')),null===e&&(47===t.charCodeAt(V)?(e="/",V++):(e=null,0===N&&i('"/"'))),e}function T(){var e,t,n,i,r,s,o,a,l;if(o=V,a=V,null!==(e=S())){for(t=[],l=V,null!==(n=b())?null!==(i=O())?null!==(r=b())?null!==(s=S())?n=[n,i,r,s]:(n=null,V=l):(n=null,V=l):(n=null,V=l):(n=null,V=l);null!==n;)t.push(n),l=V,null!==(n=b())?null!==(i=O())?null!==(r=b())?null!==(s=S())?n=[n,i,r,s]:(n=null,V=l):(n=null,V=l):(n=null,V=l):(n=null,V=l);null!==t?e=[e,t]:(e=null,V=a)}else e=null,V=a;return null!==e&&(e=function(e,t,n){for(var i=t,r=0;n.length>r;r++)i={type:"AdditiveExpression",operator:n[r][1],left:i,right:n[r][3]};return i}(0,e[0],e[1])),null===e&&(V=o),e}function O(){var e;return 43===t.charCodeAt(V)?(e="+",V++):(e=null,0===N&&i('"+"')),null===e&&(45===t.charCodeAt(V)?(e="-",V++):(e=null,0===N&&i('"-"'))),e}function M(){var e,t,n,i,r,s,o,a,l;if(o=V,a=V,null!==(e=T())){for(t=[],l=V,null!==(n=b())?null!==(i=j())?null!==(r=b())?null!==(s=T())?n=[n,i,r,s]:(n=null,V=l):(n=null,V=l):(n=null,V=l):(n=null,V=l);null!==n;)t.push(n),l=V,null!==(n=b())?null!==(i=j())?null!==(r=b())?null!==(s=T())?n=[n,i,r,s]:(n=null,V=l):(n=null,V=l):(n=null,V=l):(n=null,V=l);null!==t?e=[e,t]:(e=null,V=a)}else e=null,V=a;return null!==e&&(e=function(e,t,n){for(var i=t,r=0;n.length>r;r++)i={type:"Inequality",operator:n[r][1],left:i,right:n[r][3]};return i}(0,e[0],e[1])),null===e&&(V=o),e}function j(){var e;return"<="===t.substr(V,2)?(e="<=",V+=2):(e=null,0===N&&i('"<="')),null===e&&(">="===t.substr(V,2)?(e=">=",V+=2):(e=null,0===N&&i('">="')),null===e&&(60===t.charCodeAt(V)?(e="<",V++):(e=null,0===N&&i('"<"')),null===e&&(62===t.charCodeAt(V)?(e=">",V++):(e=null,0===N&&i('">"'))))),e}function A(){var e,n,r,s,o,a,l,c,u;if(l=V,c=V,null!==(e=M())){for(n=[],u=V,null!==(r=b())?("=="===t.substr(V,2)?(s="==",V+=2):(s=null,0===N&&i('"=="')),null!==s?null!==(o=b())?null!==(a=M())?r=[r,s,o,a]:(r=null,V=u):(r=null,V=u):(r=null,V=u)):(r=null,V=u);null!==r;)n.push(r),u=V,null!==(r=b())?("=="===t.substr(V,2)?(s="==",V+=2):(s=null,0===N&&i('"=="')),null!==s?null!==(o=b())?null!==(a=M())?r=[r,s,o,a]:(r=null,V=u):(r=null,V=u):(r=null,V=u)):(r=null,V=u);null!==n?e=[e,n]:(e=null,V=c)}else e=null,V=c;return null!==e&&(e=function(e,t,n){for(var i=t,r=0;n.length>r;r++)i={type:"Equality",operator:n[r][1],left:i,right:n[r][3]};return i}(0,e[0],e[1])),null===e&&(V=l),e}var P={start:function(){var e,t,n,i,s;if(i=V,s=V,null!==(e=b())){if(null!==(n=r()))for(t=[];null!==n;)t.push(n),n=r();else t=null;null!==t&&null!==(n=b())?e=[e,t,n]:(e=null,V=s)}else e=null,V=s;return null!==e&&(e=function(e,t){return t}(0,e[1])),null===e&&(V=i),e},Statement:r,SourceCharacter:s,IdentifierStart:o,WhiteSpace:a,LineTerminator:l,LineTerminatorSequence:c,EOS:u,EOF:d,Comment:h,MultiLineComment:p,MultiLineCommentNoLineTerminator:f,SingleLineComment:m,_:g,__:b,Literal:v,Integer:y,Real:w,SignedInteger:function(){var e,n,r,s;if(s=V,/^[\-+]/.test(t.charAt(V))?(e=t.charAt(V),V++):(e=null,0===N&&i("[\\-+]")),null!==(e=null!==e?e:"")){if(/^[0-9]/.test(t.charAt(V))?(r=t.charAt(V),V++):(r=null,0===N&&i("[0-9]")),null!==r)for(n=[];null!==r;)n.push(r),/^[0-9]/.test(t.charAt(V))?(r=t.charAt(V),V++):(r=null,0===N&&i("[0-9]"));else n=null;null!==n?e=[e,n]:(e=null,V=s)}else e=null,V=s;return e},Identifier:C,IdentifierName:E,PrimaryExpression:x,UnaryExpression:_,UnaryOperator:k,MultiplicativeExpression:S,MultiplicativeOperator:D,AdditiveExpression:T,AdditiveOperator:O,InequalityExpression:M,InequalityOperator:j,LinearExpression:A};if(void 0!==n){if(void 0===P[n])throw Error("Invalid rule name: "+e(n)+".")}else n="start";var V=0,N=0,L=0,F=[],R=P[n]();if(null===R||V!==t.length){var W=Math.max(V,L),z=t.length>W?t.charAt(W):null,I=function(){for(var e=1,n=1,i=!1,r=0;Math.max(V,L)>r;r++){var s=t.charAt(r);"\n"===s?(i||e++,n=1,i=!1):"\r"===s||"\u2028"===s||"\u2029"===s?(e++,n=1,i=!0):(n++,i=!1)}return{line:e,column:n}}();throw new this.SyntaxError(function(e){e.sort();for(var t=null,n=[],i=0;e.length>i;i++)e[i]!==t&&(n.push(e[i]),t=e[i]);return n}(F),z,W,I.line,I.column)}return R},toSource:function(){return this._source},SyntaxError:function(t,n,i,r,s){this.name="SyntaxError",this.expected=t,this.found=n,this.message=function(t,n){var i;switch(t.length){case 0:i="end of input";break;case 1:i=t[0];break;default:i=t.slice(0,t.length-1).join(", ")+" or "+t[t.length-1]}return"Expected "+i+" but "+(n?e(n):"end of input")+" found."}(t,n),this.offset=i,this.line=r,this.column=s}};return t.SyntaxError.prototype=Error.prototype,t}()}).call(e.compiled=e)}).call(this,n(31)(e))},function(e,t,n){"use strict";t.__esModule=!0;var i=n(14),r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._callbacks={},this._isDispatching=!1,this._isHandled={},this._isPending={},this._lastID=1}return e.prototype.register=function(e){var t="ID_"+this._lastID++;return this._callbacks[t]=e,t},e.prototype.unregister=function(e){this._callbacks[e]||i(!1),delete this._callbacks[e]},e.prototype.waitFor=function(e){this._isDispatching||i(!1);for(var t=0;t<e.length;t++){var n=e[t];this._isPending[n]?this._isHandled[n]||i(!1):(this._callbacks[n]||i(!1),this._invokeCallback(n))}},e.prototype.dispatch=function(e){this._isDispatching&&i(!1),this._startDispatching(e);try{for(var t in this._callbacks)this._isPending[t]||this._invokeCallback(t)}finally{this._stopDispatching()}},e.prototype.isDispatching=function(){return this._isDispatching},e.prototype._invokeCallback=function(e){this._isPending[e]=!0,this._callbacks[e](this._pendingPayload),this._isHandled[e]=!0},e.prototype._startDispatching=function(e){for(var t in this._callbacks)this._isPending[t]=!1,this._isHandled[t]=!1;this._pendingPayload=e,this._isDispatching=!0},e.prototype._stopDispatching=function(){delete this._pendingPayload,this._isDispatching=!1},e}();e.exports=r},function(e,t,n){"use strict";function i(e,t,n){e instanceof RegExp&&(e=r(e,n)),t instanceof RegExp&&(t=r(t,n));var i=s(e,t,n);return i&&{start:i[0],end:i[1],pre:n.slice(0,i[0]),body:n.slice(i[0]+e.length,i[1]),post:n.slice(i[1]+t.length)}}function r(e,t){var n=t.match(e);return n?n[0]:null}function s(e,t,n){var i,r,s,o,a,l=n.indexOf(e),c=n.indexOf(t,l+1),u=l;if(l>=0&&c>0){for(i=[],s=n.length;u>=0&&!a;)u==l?(i.push(u),l=n.indexOf(e,u+1)):1==i.length?a=[i.pop(),c]:((r=i.pop())<s&&(s=r,o=c),c=n.indexOf(t,u+1)),u=l<c&&l>=0?l:c;i.length&&(a=[s,o])}return a}e.exports=i,i.range=s},function(e,t){e.exports=function(e,t){for(var i=[],r=0;r<e.length;r++){var s=t(e[r],r);n(s)?i.push.apply(i,s):i.push(s)}return i};var n=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){var i=n(35),r=n(34);e.exports=function(e){if(!e)return[];"{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2));return function e(t,n){var s=[];var o=r("{","}",t);if(!o||/\$$/.test(o.pre))return[t];var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(o.body);var c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(o.body);var d=l||c;var g=o.body.indexOf(",")>=0;if(!d&&!g)return o.post.match(/,.*\}/)?(t=o.pre+"{"+o.body+a+o.post,e(t)):[t];var b;if(d)b=o.body.split(/\.\./);else if(1===(b=function e(t){if(!t)return[""];var n=[];var i=r("{","}",t);if(!i)return t.split(",");var s=i.pre;var o=i.body;var a=i.post;var l=s.split(",");l[l.length-1]+="{"+o+"}";var c=e(a);a.length&&(l[l.length-1]+=c.shift(),l.push.apply(l,c));n.push.apply(n,l);return n}(o.body)).length&&1===(b=e(b[0],!1).map(h)).length){var v=o.post.length?e(o.post,!1):[""];return v.map(function(e){return o.pre+b[0]+e})}var y=o.pre;var v=o.post.length?e(o.post,!1):[""];var w;if(d){var C=u(b[0]),E=u(b[1]),x=Math.max(b[0].length,b[1].length),_=3==b.length?Math.abs(u(b[2])):1,k=f,S=E<C;S&&(_*=-1,k=m);var D=b.some(p);w=[];for(var T=C;k(T,E);T+=_){var O;if(c)"\\"===(O=String.fromCharCode(T))&&(O="");else if(O=String(T),D){var M=x-O.length;if(M>0){var j=new Array(M+1).join("0");O=T<0?"-"+j+O.slice(1):j+O}}w.push(O)}}else w=i(b,function(t){return e(t,!1)});for(var A=0;A<w.length;A++)for(var P=0;P<v.length;P++){var V=y+w[A]+v[P];(!n||d||V)&&s.push(V)}return s}(function(e){return e.split("\\\\").join(s).split("\\{").join(o).split("\\}").join(a).split("\\,").join(l).split("\\.").join(c)}(e),!0).map(d)};var s="\0SLASH"+Math.random()+"\0",o="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",l="\0COMMA"+Math.random()+"\0",c="\0PERIOD"+Math.random()+"\0";function u(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(s).join("\\").split(o).join("{").split(a).join("}").split(l).join(",").split(c).join(".")}function h(e){return"{"+e+"}"}function p(e){return/^-?0\d/.test(e)}function f(e,t){return e<=t}function m(e,t){return e>=t}},function(e,t,n){(function(e){function n(e,t){for(var n=0,i=e.length-1;i>=0;i--){var r=e[i];"."===r?e.splice(i,1):".."===r?(e.splice(i,1),n++):n&&(e.splice(i,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(e){return i.exec(e).slice(1)};function s(e,t){if(e.filter)return e.filter(t);for(var n=[],i=0;i<e.length;i++)t(e[i],i,e)&&n.push(e[i]);return n}t.resolve=function(){for(var t="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var o=r>=0?arguments[r]:e.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o.charAt(0))}return t=n(s(t.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+t||"."},t.normalize=function(e){var i=t.isAbsolute(e),r="/"===o(e,-1);return(e=n(s(e.split("/"),function(e){return!!e}),!i).join("/"))||i||(e="."),e&&r&&(e+="/"),(i?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(s(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function i(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var r=i(e.split("/")),s=i(n.split("/")),o=Math.min(r.length,s.length),a=o,l=0;l<o;l++)if(r[l]!==s[l]){a=l;break}var c=[];for(l=a;l<r.length;l++)c.push("..");return(c=c.concat(s.slice(a))).join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=r(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},t.basename=function(e,t){var n=r(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return r(e)[3]};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n(17))}]);
//# sourceMappingURL=main.bundle.js.map